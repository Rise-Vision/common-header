!function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("app-nav-buttons-menu.html",'<ul><li class="new-app"><a href="https://apps.risevision.com/editor" target="_blank" link-cid=""><div class="image"><img src="https://s3.amazonaws.com/Rise-Images/landing-page/editor-image.png"></div><span>Presentations</span></a></li><li class="new-app"><a href="https://apps.risevision.com/schedules" target="_blank" link-cid=""><div class="image"><img src="https://s3.amazonaws.com/Rise-Images/landing-page/schedule-image.png"></div><span>Schedules</span></a></li><li class="new-app"><a href="https://apps.risevision.com/displays" target="_blank" link-cid=""><div class="image"><img src="https://s3.amazonaws.com/Rise-Images/landing-page/displays-image.png"></div><span>Displays</span></a></li><li><a href="https://store.risevision.com/" target="_blank" link-cid=""><div class="image"><img src="https://s3.amazonaws.com/Rise-Images/landing-page/store-image.png"></div><span>Store</span></a></li><li><a href="https://apps.risevision.com/storage" target="_blank" link-cid=""><div class="image"><img src="https://s3.amazonaws.com/Rise-Images/landing-page/storage-image.png"></div><span>Storage</span></a></li><li><a href="https://rva.risevision.com/#PRESENTATIONS" target="_blank" class="old-app" link-cid=""><div class="image"><img src="https://s3.amazonaws.com/Rise-Images/landing-page/editor-image-gray.png"></div><span>Classic Editor</span></a></li></ul>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("app-nav-buttons.html",'<li dropdown="" class="dropdown hidden-xs"><button dropdown-toggle="" class="dropdown-toggle btn btn-link"><i class="fa fa-lg fa-th"></i></button><div class="dropdown-menu app-navigation" role="menu"><ng-include replace-include="" src="\'app-nav-buttons-menu.html\'"></ng-include></div></li><li class="visible-xs-inline-block"><a href="" class="company-buttons-icon-mobile" action-sheet="\'app-nav-buttons-menu.html\'" action-sheet-class="app-navigation"><i class="fa fa-th"></i></a></li>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("auth-buttons-menu.html",'<company-buttons ng-show="isRiseVisionUser" ng-controller="CompanyButtonsCtrl"></company-buttons><ul><li ng-show="isRiseVisionUser"><a href="" ng-click="alertSettings()" class="alert-settings-button action"><i class="fa fa-bullhorn"></i> <span class="item-name">Alert Settings</span></a></li><li ng-show="isRiseVisionUser"><a href="" ng-click="userSettings()" class="user-settings-button action"><i class="fa fa-user"></i> <span class="item-name">User Settings</span></a></li><li ng-show="isRiseVisionUser"><a href="https://store.risevision.com/account" target="_blank" class="store-account-button action" link-cid=""><i class="fa fa-shopping-cart"></i> <span class="item-name">Store Account</span></a></li><span ng-if="isLoggedIn && !isRiseVisionUser" class="google-account">{{username}}</span><li class="dropdown-footer text-right" ng-show="isLoggedIn"><button class="sign-out-button btn btn-sm btn-default u_margin-sm-bottom" ng-controller="SignOutButtonCtrl" ng-click="logout()">Sign Out<i class="fa fa-sign-out icon-right"></i></button></li></ul>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("auth-buttons.html",'<li ng-show="isLoggedIn && !isRiseVisionUser && !loading"><button type="button" ng-controller="RegisterButtonCtrl" ng-click="register()" class="btn btn-danger register-user-menu-button">Complete Registration</button></li><li dropdown="" class="dropdown user-profile-dropdown desktop-menu-item" ng-class="{\'hidden-xs\': isLoggedIn}" ng-show="isLoggedIn"><a href="" dropdown-toggle="" class="dropdown-toggle"><div class="user-id pull-left"><span ng-class="{\'pending-registration\' : isLoggedIn && !isRiseVisionUser && !loading}" class="username">{{username}}</span> <span><strong>{{companyName}}</strong></span></div><img ng-src="{{userPicture}}" class="profile-pic" width="30" height="30" alt="User"></a><div class="dropdown-menu" role="menu"><ng-include src="\'auth-buttons-menu.html\'" replace-include=""></ng-include></div></li><li dropdown="" class="dropdown user-profile-dropdown mobile-menu-item" ng-class="{\'visible-xs-inline-block\': isLoggedIn}" ng-show="isLoggedIn"><a href="" dropdown-toggle="" class="visible-xs dropdown-toggle" action-sheet="\'auth-buttons-menu.html\'" action-sheet-class="user-profile-dropdown"><div class="user-id"><span>{{username}}</span> <span><strong>{{companyName}}</strong></span></div></a></li><li ng-show="!undetermined && isLoggedIn === false"><button type="button" class="btn-primary btn u_margin-right" ng-click="login(\'registrationComplete\', true)">Sign Up Free</button></li><li ng-show="!undetermined && isLoggedIn === false"><button type="button" class="sign-in top-auth-button" ng-click="login(\'registrationComplete\')">Sign In</button></li>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("close-frame-button.html",'<li class="close-frame"><a href="" class="close-frame-button" ng-click="closeIFrame()"><i class="fa fa-times"></i></a></li>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("common-header.html",'<div id="commonHeaderDiv" ng-hide="hideCommonHeader"><ng-include replace-include="" ng-controller="PlanBannerCtrl" src="\'plan-banner.html\'"></ng-include><nav class="navbar navbar-default hidden-print" ng-class="{\'active-banner\': isSubcompanySelected() || isTestCompanySelected()}" role="navigation"><div class="navbar-header"><a class="navbar-brand visible-md visible-lg" href="http://www.risevision.com/" target="{{newTabHome ? \'_blank\' : \'_self\'}}" ng-if="!inRVAFrame"><img src="//s3.amazonaws.com/Rise-Images/UI/logo.svg" class="img-responsive logo-small" width="113" height="42" alt="Rise Vision"></a> <a class="navbar-brand hidden-md hidden-lg text-center" href="" off-canvas-toggle=""><i class="fa fa-bars"></i></a><div class="navbar-left visible-xs visible-sm" ng-if="ENV_NAME"><ul class="nav navbar-nav"><li class="env-name-nav-item"><span class="env-name-label">{{ENV_NAME}}</span></li></ul></div><div class="navbar-collapse navbar-left hidden-xs hidden-sm"><ul class="nav navbar-nav"><li class="env-name-nav-item visible-md visible-lg" ng-if="ENV_NAME"><span class="env-name-label">{{ENV_NAME}}</span></li><li ng-repeat="opt in navOptions"><a ng-if="opt.cid" ng-href="{{opt.link}}" link-cid="" target="{{opt.target}}" ng-class="{\'selected\': opt.states && opt.states.indexOf(navSelected) > -1}">{{opt.title}}</a> <a ng-if="!opt.cid" ng-href="{{opt.link}}" target="{{opt.target}}" ng-class="{\'selected\': opt.states && opt.states.indexOf(navSelected) > -1}">{{opt.title}}</a></li><li ng-if="!inRVAFrame && !hideHelpMenu"><a href="http://www.risevision.com/help/" target="_blank">Help</a></li></ul></div><ul class="nav navbar-nav navbar-right actions-nav pull-right"><ng-include replace-include="" ng-controller="ZendeskButtonCtrl" src="\'zendesk-button.html\'"></ng-include><ng-include replace-include="" ng-if="!inRVAFrame" ng-controller="SystemMessagesButtonCtrl" src="\'system-messages-button.html\'"></ng-include><ng-include replace-include="" ng-controller="ShoppingCartButtonCtrl" src="\'shoppingcart-button.html\'"></ng-include><ng-include replace-include="" ng-if="inRVAFrame" ng-controller="CloseFrameButtonCtrl" src="\'close-frame-button.html\'"></ng-include><ng-include ng-if="!inRVAFrame" replace-include="" src="\'app-nav-buttons.html\'"></ng-include><ng-include replace-include="" ng-if="!inRVAFrame" ng-controller="AuthButtonsCtr" src="\'auth-buttons.html\'"></ng-include><li ng-if="inRVAFrame" ng-controller="AuthButtonsCtr"></li></ul></div><ng-include replace-include="" ng-controller="TestCompanyBannerCtrl" src="\'test-company-banner.html\'"></ng-include><ng-include replace-include="" ng-controller="SubcompanyBannerCtrl" src="\'subcompany-banner.html\'"></ng-include></nav><ng-include replace-include="" ng-controller="GlobalAlertsCtrl" src="\'global-alerts.html\'"></ng-include><nav class="off-canvas-nav" off-canvas-nav=""><ul class="nav nav-pills nav-stacked"><li off-canvas-toggle=""><i class="fa fa-times fa-2x pull-right"></i> <img src="//s3.amazonaws.com/rise-common/images/logo-small.png" class="img-responsive logo-small" width="113" height="42" alt="Rise Vision"></li><li ng-repeat="opt in navOptions"><a ng-if="opt.cid" ng-href="{{opt.link}}" link-cid="" target="{{opt.target}}">{{opt.title}}</a> <a ng-if="!opt.cid" ng-href="{{opt.link}}" target="{{opt.target}}">{{opt.title}}</a></li><li ng-if="!hideHelpMenu"><a target="_blank" href="http://www.risevision.com/help">Help</a></li></ul></nav></div><div ng-show="cookieEnabled === false" class="bg-warning text-center u_padding-sm"><small><strong>Cookies Are Disabled.</strong> Rise Vision needs to use cookies to properly function. Please enable Cookies and Third-Party Cookies on your web browser and refresh this page.</small></div><iframe name="logoutFrame" id="logoutFrame" style="display:none"></iframe>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("company-buttons-menu.html",'<ul><li class="dropdown-header" ng-show="!isSubcompanySelected"><p>{{username}}</p><p><strong>{{selectedCompanyName}}</strong> <span class="text-muted" ng-show="isRiseVisionUser && !isSubcompanySelected">|</span> <a id="select-subcompany-button" href="" ng-click="switchCompany()" ng-show="isRiseVisionUser && !isSubcompanySelected">Select Sub-Company</a></p></li><li class="dropdown-header sub-company-header" ng-show="isSubcompanySelected"><p>You are in Sub-Company <strong>{{selectedCompanyName}}</strong> <span class="text-muted">|</span> <a id="change-subcompany-button" href="" ng-click="switchCompany()" ng-show="isRiseVisionUser">Change</a></p><p><a id="reset-subcompany-button" href="" ng-click="resetCompany()">Switch to My Company</a></p></li><hr><li ng-show="isUserAdmin || isRiseAdmin"><a href="" ng-click="addSubCompany()" class="action add-subcompany-menu-button"><i class="fa fa-plus"></i> <span class="item-name">Add Sub-Company</span></a></li><li ng-show="isUserAdmin || isRiseAdmin"><a href="" ng-click="companySettings()" class="action company-settings-menu-button"><i class="fa fa-building"></i> <span class="item-name">Company Settings</span></a></li><li ng-show="isUserAdmin || isRiseAdmin"><a href="" data-toggle="modal" ng-click="companyUsers()" class="action company-users-menu-button"><i class="fa fa-users"></i> <span class="item-name">Company Users</span></a></li></ul>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("company-fields.html",'<div class="form-group" ng-class="{\'has-error\': forms.companyForm.name.$invalid && !forms.companyForm.name.$pristine}"><label for="company-settings-name">Company Name *</label> <input required="" id="company-settings-name" type="text" class="form-control" ng-model="company.name" name="name"><p ng-show="forms.companyForm.name.$invalid && !forms.companyForm.name.$pristine" class="help-block validation-error-message-name">Company Name is required.</p></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="company-size" class="control-label">Company Size</label><select id="company-size" class="form-control" ng-model="company.companySize"><option value="" ng-show="false">&lt; Select Size &gt;</option><option ng-repeat="size in COMPANY_SIZE_FIELDS" value="{{size[1]}}">{{size[0]}}</option></select></div></div><div class="col-md-6"><div class="form-group"><label for="company-industry" class="control-label">Industry</label><select id="company-industry" class="form-control selectpicker" ng-model="company.companyIndustry"><option value="" ng-show="false">&lt; Select Industry &gt;</option><option ng-repeat="industry in COMPANY_INDUSTRY_FIELDS | orderBy:industry[0]" value="{{industry[1]}}">{{industry[0]}}</option></select></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="company-settings-street" class="control-label">Street</label> <input id="company-settings-street" type="text" class="form-control" ng-model="company.street"></div></div><div class="col-md-6"><div class="form-group"><label for="company-settings-unit" class="control-label">Unit</label> <input id="company-settings-unit" type="text" class="form-control" ng-model="company.unit"></div></div></div><div class="row"><div class="col-md-3"><div class="form-group"><label for="company-settings-city" class="control-label">City</label> <input id="company-settings-city" type="text" class="form-control" ng-model="company.city"></div></div><div class="col-md-3"><div class="form-group"><label for="company-settings-country" class="control-label">Country</label><select id="company-settings-country" class="form-control selectpicker" ng-model="company.country" ng-options="c.code as c.name for c in countries" empty-select-parser=""><option ng-show="false" value="">&lt; Select Country &gt;</option></select></div></div><div class="col-md-3"><div class="form-group"><label for="company-settings-state" class="control-label">State/Province/Region</label> <input id="company-settings-state" type="text" class="form-control" ng-model="company.province" ng-hide="company.country == \'US\' || company.country == \'CA\'"><select class="form-control selectpicker" ng-model="company.province" ng-options="c[1] as c[0] for c in regionsCA" ng-show="company.country == \'CA\'" empty-select-parser=""><option ng-show="false" value="">&lt; Select Province &gt;</option></select><select class="form-control selectpicker" ng-model="company.province" ng-options="c[1] as c[0] for c in regionsUS" ng-show="company.country == \'US\'" empty-select-parser=""><option ng-show="false" value="">&lt; Select State &gt;</option></select></div></div><div class="col-md-3"><div class="form-group"><label for="company-settings-zip" class="control-label">ZIP/Postal Code</label> <input id="company-settings-zip" type="text" class="form-control" ng-model="company.postalCode"></div></div></div><div class="row"><div class="col-md-6"><div class="form-group" ng-class="{\'has-error\': forms.companyForm.website.$error.website}"><label for="company-settings-website" class="control-label">Website</label> <input id="company-settings-website" name="website" type="text" placeholder="http://" class="form-control" ng-model="company.website" website-validator=""><p ng-show="forms.companyForm.website.$error.website" class="help-block validation-error-message-website">Please provide a valid URL.</p></div></div><div class="col-md-6"><div class="form-group"><label for="company-settings-phone" class="control-label">Phone</label> <input id="company-settings-phone" type="tel" class="form-control" ng-model="company.telephone"></div></div></div><div class="form-group"><label for="company-settings-timezone" class="control-label">Time Zone</label><select class="form-control" ng-model="company.timeZoneOffset" integer-parser=""><option ng-show="false" value="">&lt; Select Time Zone &gt;</option><option value="{{c[1]}}" ng-repeat="c in timezones">{{c[0]}}</option></select></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("company-icp-modal.html",'<div id="companyIcpModal"><div class="modal-header"><button type="button" class="close" ng-click="dismiss()" aria-hidden="true"><i class="fa fa-times"></i></button><h3 id="icpModalTitle" class="modal-title">Customize your Rise Vision experience!</h3></div><div class="modal-body u_padding-lg" stop-event="touchend"><form id="companyIcpForm" role="form" name="forms.companyIcpForm"><div class="row"><div class="col-md-3"><div class="form-group" ng-class="{ \'has-error\' : forms.companyIcpForm.name.$invalid && !forms.companyIcpForm.name.$pristine }"><label for="company-name" class="control-label">Company Name</label> <input required="" id="company-name" type="text" class="form-control" ng-model="company.name" name="name"></div></div><div class="col-md-3"><div class="form-group"><label for="company-size" class="control-label">Company Size</label><select id="company-size" class="form-control" ng-model="company.companySize"><option value="" ng-show="false">&lt; Select Size &gt;</option><option ng-repeat="size in COMPANY_SIZE_FIELDS" value="{{size[1]}}">{{size[0]}}</option></select></div></div><div class="col-md-3"><div class="form-group"><label for="company-role" class="control-label">What\'s your title?</label><select id="company-role" class="form-control selectpicker" ng-model="user.companyRole"><option value="" ng-show="false">&lt; Select Role &gt;</option><option ng-repeat="role in COMPANY_ROLE_FIELDS" value="{{role[1]}}">{{role[0]}}</option></select></div></div><div class="col-md-3"><div class="form-group" ng-class="{ \'has-error\' : forms.companyIcpForm.email.$invalid && !forms.companyIcpForm.email.$pristine }"><label for="email" class="control-label">Preferred Email</label> <input type="email" class="form-control email" name="email" id="email" required="" ng-model="user.email"></div></div></div><div class="text-center"><h1 class="u_margin-xs-top">What\'s Your Industry?</h1><h4 class="u_margin-xs-top u_margin-xs-bottom">(Pick One)</h4></div><div class="panel panel-default grid-selector"><div id="" class="grid-selector-list text-center"><div class="no-select grid-selector-list-item" ng-class="{\'list-item--selected\' : company.companyIndustry === industry[1]}" ng-repeat="industry in ICON_INDUSTRY_FIELDS" ng-click="selectIndustry(industry[1]);"><img class="list-item-icon" ng-class="{{imgClasses}}" src="{{industry[2]}}"> <span class="list-item-label"><b>{{industry[0]}}</b></span></div><div class="no-select grid-selector-list-item" ng-class="{\'list-item--selected\' : otherSelected }" ng-click="selectOther()"><img class="list-item-icon" ng-class="{{imgClasses}}" src="https://cdn2.hubspot.net/hubfs/2700250/Assets%20May%5B17%5D/tick.svg"> <span class="list-item-label ng-binding"><b>Other</b></span></div><div class="grid-selector-list-item list-item-placeholder"></div><div class="grid-selector-list-item list-item-placeholder"></div><div class="grid-selector-list-item list-item-placeholder"></div><div class="grid-selector-list-item list-item-placeholder"></div><div class="grid-selector-list-item list-item-placeholder"></div><div class="grid-selector-list-item list-item-placeholder"></div><div class="grid-selector-list-item list-item-placeholder"></div><div class="grid-selector-list-item list-item-placeholder"></div></div></div><div class="text-center" id="pt-industry-selector" ng-show="otherSelected"><div class="form-inline"><div class="form-group"><img src="https://s3.amazonaws.com/Rise-Images/UI/r_arrow.png" class="icon-left"> <label for="company-industry" class="control-label">Please specify:</label><select id="company-industry" class="form-control selectpicker u_margin-left" ng-model="company.companyIndustry"><option value="" ng-show="false">&lt; Select Industry &gt;</option><option ng-repeat="industry in DROPDOWN_INDUSTRY_FIELDS | orderBy:industry[0]" value="{{industry[1]}}" ng-if="!industry[2]">{{industry[0]}}</option></select></div></div></div></form></div><div class="modal-footer"><button id="saveButton" class="btn btn-primary ng-binding" ng-click="save()" ng-disabled="forms.companyIcpForm.$invalid">Apply <i class="fa fa-check icon-right"></i></button> <button id="cancelButton" class="btn btn-link pull-left" ng-click="dismiss()">Ask Me Later</button></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("company-selector-modal.html",'<form role="form"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()"><i class="fa fa-times"></i></button><h2 id="switch-company" class="modal-title">Select Sub-Company</h2></div><div class="modal-body select-subcompany-modal" stop-event="touchend"><search-filter filter-config="filterConfig" search="search" do-search="doSearch"></search-filter><div class="panel panel-default scrollable-list u_margin-sm-top" scrolling-list="loadCompanies()" rv-spinner="" rv-spinner-key="company-selector-modal-list" rv-spinner-start-active="1"><div class="list-group-item" ng-repeat="company in companies.list" ng-click="setCompany(company)"><p class="list-group-item-text"><strong>{{company.name}}</strong><br><small class="text-muted">{{company | fullAddress}}</small></p></div></div></div><div class="modal-footer"><button type="button" class="btn btn-default btn-fixed-width" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()">Cancel <i class="fa fa-white fa-times icon-right"></i></button></div></form>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("company-settings-modal.html",'<div rv-spinner="" rv-spinner-key="company-settings-modal" rv-spinner-start-active="1"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()"><i class="fa fa-times"></i></button><h2 id="company-settings-label" class="modal-title">Company Settings</h2></div><div class="modal-body company-settings-modal" stop-event="touchend"><form id="companyForm" role="form" name="forms.companyForm" novalidate=""><div ng-include="\'company-fields.html\'"></div><div class="form-group"><label>Authentication Key</label> <a class="action-link ps-reset-auth-key" href="" ng-click="resetAuthKey()">Reset</a><div class="ps-auth-key">{{company.authKey}}</div></div><div class="form-group"><label>Claim ID</label> <a class="action-link ps-reset-claim-id" href="" ng-click="resetClaimId()">Reset</a><div class="ps-claim-id">{{company.claimId}}</div></div><div class="form-group" ng-hide="true"><label>Sub-Company Home Page Presentation</label> <a class="action-link" href="" ng-click="showSelector()">Select</a> <a class="action-link" href="">Default</a><div id="presentation-name">Rise Vision Default (ID=a6789044-ae4a-48c7-b6fd-b5d4ffea2f24)</div><div class="presentation-selector" ng-show="isSelectorVisible"><div class="panel panel-default"><ul class="list-unstyled selector-header"><li ng-class="{active : selected == \'list\'}"><a href="" ng-click="showPresentationView($event, \'list\')">Search Presentations</a></li><li ng-class="{active : selected == \'search\'}"><a href="" ng-click="showPresentationView($event, \'search\')">Enter Presentation ID</a></li><li class="close-button"><button type="button" class="close" aria-hidden="true" ng-click="closeSelector()"><i class="fa fa-times"></i></button></li></ul><div class="panel-body"><div class="presentation-list" ng-show="selected == \'list\'"><div class="input-group search"><input type="text" class="form-control" placeholder="Search Presentations"> <span class="input-group-btn"><button class="btn btn-primary" type="submit"><i class="fa fa-search fa-white"></i></button></span></div><div class="list-group scrollable-list"><a href="" class="list-group-item" ng-click="setPresentation($event, \'Demo Presentation\')">Demo Presentation</a> <a href="" class="list-group-item" ng-click="setPresentation($event, \'My First Presentation\')">My First Presentation</a></div></div><div class="presentation-search" ng-show="selected == \'search\'"><form role="form"><div class="form-group"><input id="presentation-id" type="text" class="form-control" placeholder="Enter Presentation ID"></div><div class="form-group"><a href="" ng-click="setPresentation($event)">Retrieve Presentation</a></div></form></div></div></div></div></div><div class="form-group" ng-hide="true"><label for="company-settings-community-url">Sub-Company Community URL</label> <a class="action-link" href="">Default</a> <input id="company-settings-community-url" type="url" class="form-control"></div><div class="form-group" ng-hide="true"><label for="company-settings-support-url">Sub-Company Support URL</label> <a class="action-link" href="">Default</a> <input id="company-settings-support-url" type="url" class="form-control"></div><div class="checkbox" ng-if="isRiseStoreAdmin"><label><input type="checkbox" ng-model="company.isSeller"> Registered Seller</label></div><div class="checkbox" ng-if="isRiseStoreAdmin"><label><input type="checkbox" ng-model="company.isTest"> Test Company</label></div><div class="form-group" ng-hide="true"><label for="company-settings-status">Status</label><select id="company-settings-status" class="form-control selectpicker"><option value="active">Active</option><option value="inactive">Inactive</option></select></div></form></div><div class="modal-footer"><p class="visible-xs text-right"><last-modified change-date="company.changeDate" changed-by="company.changedBy"></last-modified></p><button type="button" id="delete-button" class="btn btn-danger btn-fixed-width pull-left" ng-show="!isDeletingCompany" ng-click="deleteCompany()">Delete <i class="fa fa-white fa-trash-o icon-right"></i></button> <button type="button" class="btn btn-danger btn-confirm-delete" data-dismiss="modal" ng-show="isDeletingCompany" ng-click="closeModal()">Confirm Deletion <i class="fa fa-white fa-warning icon-right"></i></button><div class="pull-right"><span class="hidden-xs"><last-modified change-date="company.changeDate" changed-by="company.changedBy"></last-modified></span> <button type="button" id="save-button" class="btn btn-primary btn-fixed-width" ng-click="save()" ng-disabled="forms.companyForm.$invalid">Save <i class="fa fa-white fa-check icon-right"></i></button> <button type="button" id="close-button" class="btn btn-default btn-fixed-width" data-dismiss="modal" ng-click="closeModal()">Cancel <i class="fa fa-white fa-times icon-right"></i></button></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("company-users-modal.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()"><i class="fa fa-times"></i></button><h2 id="company-users-label" class="modal-title">Company Users</h2></div><div class="modal-body company-users-modal" stop-event="touchend"><search-filter filter-config="filterConfig" search="search" do-search="doSearch"></search-filter><div class="panel panel-default scrollable-list company-users-list u_margin-sm-top" rv-spinner="" rv-spinner-key="company-users-list" rv-spinner-start-active="1"><div class="list-group-item company-users-list-item" ng-repeat="user in users | orderBy:sort.field:sort.descending | filter:userSearchString" ng-click="editUser(user.username)"><p class="list-group-item-text"><strong>{{user.firstName}} {{user.lastName}}</strong> <small class="text-muted">{{user.email}}</small></p></div></div></div><div class="modal-footer"><button type="button" class="btn btn-success add-company-user-button" ng-click="addUser()">Add User <i class="fa fa-white fa-plus icon-right"></i></button> <button type="button" class="btn btn-default close-company-users-button" data-dismiss="modal" ng-click="closeModal()">Cancel <i class="fa fa-white fa-times icon-right"></i></button></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("global-alerts.html",'<div class="container"><div class="row"><div class="col-md-12"><div class="alert alert-danger" role="alert" ng-repeat="msg in errors"><span ng-bind-html="msg"></span> <button type="button" class="close pull-right" ng-click="dismiss(\'errors\', $index);"><i class="fa fa-times"></i></button></div></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("move-company-modal.html",'<div rv-spinner="" rv-spinner-key="move-company-modal" rv-spinner-start-active="1"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()"><i class="fa fa-times"></i></button><h2 id="move-company-label" class="modal-title">Move Company</h2></div><div class="modal-body move-company-modal" stop-event="touchend"><form role="form"><div class="form-group"><label for="auth-key">Enter the Authentication Key of the Company that you want to move.</label><div class="row"><div class="col-sm-6"><input id="auth-key" type="text" class="form-control" ng-model="company.authKey"></div><div class="col-sm-6"><a href="" class="btn btn-secondary retrieve-company-details-button" ng-disabled="!company.authKey" ng-click="getCompany()">Retrieve Company Details</a></div></div></div></form><div ng-show="company.name" class="company-details-info"><h3>Details of the Company You Want to Move</h3><div>{{company.name}}<br>{{company.address}} {{company.city}}, {{company.province}}, {{company.country}} {{company.postalCode}}</div><h3>Details of the Company You Are Moving the Above Company Under</h3><div class="to-company">{{selectedCompany.name}}<br>{{selectedCompany.address}}<br>{{selectedCompany.city}}, {{selectedCompany.province}}, {{selectedCompany.country}} {{selectedCompany.postalCode}}</div></div><div ng-show="errors.length > 0"><div class="alert alert-danger" ng-repeat="error in errors">{{error}}</div></div><div ng-show="messages.length > 0"><div class="alert alert-success" ng-repeat="message in messages">{{message}}</div></div></div><div class="modal-footer"><button type="button" class="btn btn-success move-company-button" ng-show="company.name && !moveSuccess" ng-click="moveCompany()">Move Company <i class="fa fa-white fa-check icon-right"></i></button> <button type="button" class="btn btn-default btn-fixed-width close-move-company-button" data-dismiss="modal" ng-click="closeModal()">{{dismissButtonText}} <i class="fa fa-white fa-times icon-right"></i></button></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("plan-banner.html",'<div id="free-plan-banner" class="alert alert-plan plan-active text-right" ng-show="isFree() || isCancelled()"><div class="u_margin-right"><strong>Get more out of Rise Vision!</strong> <a href="#" ng-click="showPlans()" class="u_margin-left">See Our Plans</a></div></div><div class="alert alert-plan plan-active text-right" ng-show="isSubscribed()"><div class="u_margin-right"><strong>{{plan.name}} Plan</strong> <a href="#" ng-show="!isEnterpriseSubCompany()" ng-click="showPlans()" class="u_margin-left">Change Plan</a></div></div><div id="trial-plan-banner" class="alert alert-plan plan-active text-right" ng-show="isOnTrial()"><div class="u_margin-right"><strong>You have {{plan.trialPeriod}} days left on your Rise Vision {{plan.name}} Plan trial!</strong> <a href="#" ng-show="!isEnterpriseSubCompany()" ng-click="showPlans()" class="u_margin-left">Subscribe Now</a></div></div><div class="alert alert-plan plan-suspended text-center" ng-show="isTrialExpired()"><div class="u_margin-right"><strong ng-show="!isProSubscribed()">Your Rise Vision {{plan.name}} Plan trial has expired! You are now on the Free Plan. Your Displays are no longer Licensed.</strong> <strong ng-show="isProSubscribed()">Your Rise Vision {{plan.name}} Plan trial has expired! You are now on the Free Plan. Your Displays are still Licensed.</strong> <a href="#" ng-show="!isEnterpriseSubCompany()" ng-click="showPlans()" class="u_margin-left">Subscribe Now</a></div></div><div class="alert alert-plan plan-suspended text-center" ng-show="isSuspended()"><div class="u_margin-right"><strong>There was an issue processing your payment. Please update your billing information. Your Displays may be affected.</strong> <a href="{{storeAccountUrl}}" target="_blank" class="u_margin-left">Update Billing</a></div></div>');
}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("registration-modal.html",'<div rv-spinner="" rv-spinner-key="registration-modal" rv-spinner-start-active="1"><div class="modal-header"><button type="button" class="close registration-cancel-button" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()"><i class="fa fa-times"></i></button><h2 class="modal-title">Let\'s finish with your details</h2></div><div class="modal-body registration-modal" stop-event="touchend"><div class="row"><div class="col-sm-12"><form id="registrationForm" novalidate="" role="form" name="forms.registrationForm"><div class="form-group" ng-class="{ \'has-error\' : forms.registrationForm.firstName.$invalid && !forms.registrationForm.firstName.$pristine }"><label for="firstName">First Name</label> <input type="text" class="form-control firstName" name="firstName" id="firstName" required="" autocomplete="fname" ng-model="profile.firstName"><p ng-show="forms.registrationForm.firstName.$invalid && !forms.registrationForm.firstName.$pristine" class="help-block validation-error-message-first-name">Enter First Name.</p></div><div class="form-group" ng-class="{ \'has-error\' : forms.registrationForm.lastName.$invalid && !forms.registrationForm.lastName.$pristine }"><label for="lastName">Last Name</label> <input type="text" class="form-control lastName" name="lastName" id="lastName" required="" autocomplete="lname" ng-model="profile.lastName"><p ng-show="forms.registrationForm.lastName.$invalid && !forms.registrationForm.lastName.$pristine" class="help-block validation-error-message-last-name">Enter Last Name.</p></div><div class="form-group" ng-show="newUser" ng-class="{\'has-error\': forms.registrationForm.website.$error.website && !forms.registrationForm.website.$pristine}"><label for="website">Website</label> <input type="text" class="form-control website" placeholder="http://" name="website" id="website" ng-model="company.website" website-validator=""><p ng-show="forms.registrationForm.website.$error.website && !forms.registrationForm.website.$pristine" class="help-block validation-error-message-website">Please provide a valid URL.</p></div><div class="checkbox form-group" ng-class="{ \'has-error\' : forms.registrationForm.accepted.$invalid && !userForm.accepted.$pristine }"><label for="accepted"><input type="checkbox" name="accepted" ng-model="profile.accepted" class="accept-terms-checkbox" required=""> I accept the terms of <a href="https://help.risevision.com/hc/en-us/articles/360000924446-Terms-of-Service" target="_blank">Service</a> and <a href="https://help.risevision.com/hc/en-us/articles/360000915023-Privacy-Policy" target="_blank">Privacy</a><p ng-show="forms.registrationForm.accepted.$invalid && !forms.registrationForm.accepted.$pristine" class="help-block validation-error-message-accepted">You must accept terms and condtions.</p></label></div><div class="checkbox form-group"><label for="receive-newsletter"><input name="receive-newsletter" type="checkbox" class="sign-up-newsletter-checkbox" ng-model="profile.mailSyncEnabled"> Sign up for our newsletter</label></div><div class="u_margin-md-top"><button ng-click="save()" name="create-account" type="button" class="btn btn-lg btn-success btn-block registration-save-button" ng-disabled="registering">Create Account <i class="fa fa-white fa-check icon-right"></i></button> <button type="button" class="btn hidden btn-lg btn-link btn-fixed-width" ng-disabled="registering" ng-click="closeModal()">Cancel</button></div></form></div></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("safe-delete-modal.html",'<form id="safeDeleteForm"><div class="modal-header"><button type="button" class="close" ng-click="dismiss()" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button><h3 class="modal-title" translate="">common.safeDelete.title</h3></div><div class="modal-body" stop-event="touchend"><p translate="">common.safeDelete.message</p><input id="safeDeleteInput" type="text" ng-model="inputText" class="form-control"></div><div class="modal-footer"><button id="deleteForeverButton" class="btn btn-primary" ng-click="confirm()" ng-disabled="!canConfirm"><span translate="">common.delete-forever</span> <i class="fa fa-white fa-check icon-right"></i></button> <button class="btn btn-default btn-fixed-width" ng-click="cancel()"><span translate="">common.cancel</span> <i class="fa fa-white fa-times icon-right"></i></button></div></form>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("shoppingcart-button.html",'<li class="shopping-cart" ng-show="!hideShoppingCart && isRiseVisionUser"><a href="{{shoppingCartUrl}}" class="shopping-cart-button"><i class="fa fa-shopping-cart"></i> <span id="cartBadge" class="label label-primary" ng-show="cart.items.length">{{cart.items.length | surpressZero}}</span></a></li>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("signout-modal.html",'<div class="modal-header"><button type="button" class="close" ng-click="closeModal()" aria-hidden="true"><i class="fa fa-times"></i></button><h2 id="sign-out-label" class="modal-title">Sign Out</h2></div><div class="modal-body sign-out-modal" stop-event="touchend"><form role="form"><p>Signing out does not sign you out of your Google Account.</p><p>If you are on a shared computer you should sign out of your Google Account.</p><p><button type="button" class="btn btn-default sign-out-rv-only-button" ng-click="signOut(false)">Sign Out <i class="fa fa-sign-out fa-lg icon-right"></i></button></p><button type="button" class="btn btn-default sign-out-google-account" ng-click="signOut(true)">Sign Out of your Google Account <i class="fa fa-google-plus-square fa-lg icon-right"></i></button><p></p></form></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("subcompany-banner.html",'<div ng-show="isSubcompanySelected && !inRVAFrame" class="common-header-alert sub-company-alert">You\'re in Sub-Company {{selectedCompanyName}}&nbsp; <a href="" ng-click="switchToMyCompany()" class="link-button">Switch to My Company</a></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("subcompany-modal.html",'<div rv-spinner="" rv-spinner-key="add-subcompany-modal" rv-spinner-start-active="1"><div class="modal-header"><button type="button" class="close" ng-click="closeModal()" aria-hidden="true"><i class="fa fa-times"></i></button><h2 id="sub-company-label" class="modal-title">Add Sub-Company</h2></div><div class="modal-body add-subcompany-modal" stop-event="touchend"><form role="form" name="forms.companyForm" novalidate=""><div ng-include="\'company-fields.html\'"></div><div class="form-group"><a href="" data-dismiss="modal" data-toggle="modal" class="move-subcompany-button" ng-click="moveCompany()">Move a Company Under Your Company</a></div></form></div><div class="modal-footer"><button type="button" class="btn btn-success btn-fixed-width add-subcompany-save-button" ng-click="save()" ng-disabled="forms.companyForm.$invalid">Save <i class="fa fa-white fa-check icon-right"></i></button> <button type="button" class="btn btn-default btn-fixed-width cancel-add-subcompany-button" ng-click="closeModal()">Cancel <i class="fa fa-white fa-times icon-right"></i></button></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("system-messages-button-menu.html",'<ul><li class="dropdown-header dropdown-title system-message">Notifications</li><li class="divider"></li><li class="system-message" ng-repeat="message in messages" ng-bind-html="renderHtml(message.text)"></li></ul>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("system-messages-button.html",'<li dropdown="" class="dropdown system-messages hidden-xs" ng-show="isRiseVisionUser && messages.length > 0"><a href="" dropdown-toggle="" class="dropdown-toggle system-messages-button"><i class="fa fa-bell"></i> <span class="label label-danger system-messages-badge">{{messages.length | surpressZero}}</span></a><div class="dropdown-menu system-messages system-message-list" role="menu"><ng-include src="\'system-messages-button-menu.html\'"></ng-include></div></li><li class="system-messages" ng-show="isRiseVisionUser && messages.length > 0" ng-class="{\'visible-xs-inline-block\': isRiseVisionUser && messages.length > 0}"><a href="" class="system-messages-button" action-sheet="\'system-messages-button-menu.html\'" action-sheet-class="system-message-list"><i class="fa fa-bell"></i> <span class="label label-danger system-messages-badge">{{messages.length}}</span></a></li>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("test-company-banner.html",'<div ng-show="isTestCompanySelected" class="sub-company-alert test-company-alert">This is a Test Company</div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("user-settings-modal.html",'<div rv-spinner="spinnerOptions" rv-spinner-key="user-settings-modal" rv-spinner-start-active="1"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="closeModal()"><i class="fa fa-times"></i></button><h2 id="user-settings-label" class="modal-title"><span ng-if="!isAdd">User Settings</span> <span ng-if="isAdd">Add User</span></h2></div><div class="modal-body user-settings-modal" stop-event="touchend"><div ng-if="isAdd" class="alert alert-info">A Google account is no longer required by users being added to your Company. Any email address can be used!</div><form id="forms.userSettingsForm" role="form" novalidate="" name="forms.userSettingsForm"><div id="passwordAlert" class="animated" ng-if="editingYourself && !isAdd" ng-show="!isRiseAuthUser && showChangePassword" ng-class="{ \'fadeIn\': showChangePassword }"><div class="panel-body bg-info u_margin-sm-bottom"><p class="u_remove-bottom"><span>This account is authenticated by Google.<br><a href="https://myaccount.google.com/security#signin" target="_blank">Change your password on your Google account.</a></span></p></div></div><div class="form-group" ng-class="{ \'has-error\' : forms.userSettingsForm.username.$invalid && !forms.userSettingsForm.username.$pristine }" ng-if="isAdd"><label>Username *</label> <input id="user-settings-username" type="email" required="" name="username" class="form-control" ng-model="user.username"><p ng-show="forms.userSettingsForm.username.$invalid && !forms.userSettingsForm.username.$pristine" class="help-block validation-error-message-email">User name must be a valid email address.</p></div><div class="row" ng-if="!isAdd"><div class="col-xs-6"><div class="form-group"><label>Username *</label><div><span>{{user.username}}</span></div></div></div><div class="col-xs-6 text-right"><span ng-if="editingYourself && isUserAdmin"><a href="" class="btn btn-default btn-sm change-password" ng-click="toggleChangePassword()">Change password</a></span></div></div><div id="passwordForm" class="animated" ng-if="editingYourself && !isAdd && isRiseAuthUser && showChangePassword" ng-class="{ \'fadeIn\': showChangePassword }"><div class="form-group" ng-class="{ \'has-error\' : (forms.resetPasswordForm.$submitted && forms.resetPasswordForm.newPassword.$invalid) || currentPasswordNotValid }"><label for="user-settings-current-password">Current Password *</label> <input id="user-settings-current-password" type="password" name="currentPassword" class="form-control" ng-model="userPassword.currentPassword" required=""><p class="text-danger" ng-show="forms.userSettingsForm.$submitted && forms.userSettingsForm.currentPassword.$error.required">Current Password is required.</p><p ng-show="currentPasswordNotValid" class="help-block validation-error-message-mail">Current Password is not valid.</p></div><div class="form-group" ng-class="{ \'has-error\' : (forms.resetPasswordForm.$submitted && forms.resetPasswordForm.newPassword.$invalid) }"><label for="user-settings-new-password">New Password *</label> <input id="user-settings-new-password" type="password" name="newPassword" class="form-control" ng-model="userPassword.newPassword" required="" minlength="4"><p class="text-danger" ng-show="forms.userSettingsForm.$submitted && forms.userSettingsForm.newPassword.$error.required">New Password is required.</p><p class="text-danger" ng-show="forms.userSettingsForm.$submitted && forms.userSettingsForm.newPassword.$error.minlength">New Password must be at least 4 characters long.</p><p class="text-warning" ng-show="forms.userSettingsForm.newPassword.$valid">A strong password is at least 8 characters, includes uppercase/lowercase letters, and one or more numbers.</p></div><div class="form-group" ng-class="{ \'has-error\' : (forms.resetPasswordForm.$submitted && forms.resetPasswordForm.confirmPassword.$invalid) }"><label for="user-settings-confirm-password">Confirm Password *</label> <input id="user-settings-confirm-password" type="password" name="confirmPassword" class="form-control" ng-model="userPassword.confirmPassword" required="" confirm-password-validator="userPassword.newPassword"><p ng-show="forms.userSettingsForm.$submitted && forms.userSettingsForm.confirmPassword.$error.required" class="text-danger">Confirm Password is required.</p><p ng-show="forms.userSettingsForm.$submitted && forms.userSettingsForm.confirmPassword.$error.passwordMatch" class="text-danger">New Password and Confirm Password must match.</p><hr></div></div><div class="form-group" ng-class="{ \'has-error\' : forms.userSettingsForm.firstName.$invalid && !forms.userSettingsForm.firstName.$pristine }"><label for="user-settings-first-name">First Name *</label> <input id="user-settings-first-name" type="text" required="" name="firstName" class="form-control" ng-model="user.firstName"><p ng-show="forms.userSettingsForm.firstName.$invalid && !forms.userSettingsForm.firstName.$pristine" class="help-block validation-error-message-firstName">First Name is required.</p></div><div class="form-group" ng-class="{ \'has-error\' : forms.userSettingsForm.lastName.$invalid && !forms.userSettingsForm.lastName.$pristine }"><label for="user-settings-last-name">Last Name *</label> <input id="user-settings-last-name" type="text" required="" name="lastName" class="form-control" ng-model="user.lastName"><p ng-show="forms.userSettingsForm.lastName.$invalid && !forms.userSettingsForm.lastName.$pristine" class="help-block validation-error-message-lastName">Last Name is required.</p></div><div class="form-group"><label for="company-role">Company Role</label><select id="company-role" class="form-control selectpicker" ng-model="user.companyRole"><option value="" ng-show="false">&lt; Select Role &gt;</option><option ng-repeat="role in COMPANY_ROLE_FIELDS" value="{{role[1]}}">{{role[0]}}</option></select></div><div class="form-group"><label for="user-settings-phone">Phone</label> <input id="user-settings-phone" type="tel" name="phone" class="form-control" ng-model="user.telephone"></div><div class="form-group" ng-class="{ \'has-error\' : forms.userSettingsForm.email.$invalid && !forms.userSettingsForm.email.$pristine }"><label for="user-settings-email">Email *</label> <input id="user-settings-email" type="email" required="" name="email" class="form-control" ng-model="user.email"><p ng-show="forms.userSettingsForm.email.$invalid && !forms.userSettingsForm.email.$pristine" class="help-block validation-error-message-email">A valid email address is required.</p></div><div class="form-group"><label>Roles</label><div class="checkbox" ng-repeat="role in availableRoles" ng-show="editRoleVisible(role)"><label><input type="checkbox" id="user-settings-{{role.key}}" checklist-model="user.roles" ng-disabled="!editRoleAllowed(role)" checklist-value="role.key"> {{role.name}}</label></div></div><div class="form-group" ng-if="user.lastLogin"><label>Last Login</label><div>{{user.lastLogin | date:\'d-MMM-yyyy h:mm a\'}}</div></div><div class="form-group" ng-if="!editingYourself && !isAdd"><label for="user-settings-status">Status</label><select id="user-settings-status" class="form-control selectpicker" ng-model="user.status" integer-parser=""><option value="1">Active</option><option value="0">Inactive</option></select></div></form></div><div class="modal-footer"><p class="text-right"><last-modified change-date="user.changeDate" changed-by="user.changedBy"></last-modified></p><button type="button" id="delete-button" class="btn btn-danger btn-fixed-width pull-left" ng-if="!isAdd && isUserAdmin" ng-click="deleteUser()">Delete <i class="fa fa-white fa-trash-o icon-right"></i></button><div class="pull-right"><button type="submit" form="forms.userSettingsForm" class="btn btn-primary btn-fixed-width" data-dismiss="modal" ng-click="save()" id="save-button" ng-if="isUserAdmin">Save <i class="fa fa-white fa-check icon-right"></i></button> <button type="button" class="btn btn-default btn-fixed-width" ng-click="closeModal()">Cancel <i class="fa fa-white fa-times icon-right"></i></button></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.header.templates")}catch(n){e=angular.module("risevision.common.header.templates",[])}e.run(["$templateCache",function(e){e.put("zendesk-button.html",'<li dropdown="" class="dropdown hidden-xs"><button id="zendeskHelpButton" class="btn btn-primary" ng-click="showZendeskWidget()"><i><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewbox="0 0 22 22"><path d="M11,12.3V13c0,0-1.8,0-2,0v-0.6c0-0.6,0.1-1.4,0.8-2.1c0.7-0.7,1.6-1.2,1.6-2.1c0-0.9-0.7-1.4-1.4-1.4 c-1.3,0-1.4,1.4-1.5,1.7H6.6C6.6,7.1,7.2,5,10,5c2.4,0,3.4,1.6,3.4,3C13.4,10.4,11,10.8,11,12.3z" fill="white"></path><circle cx="10" cy="15" r="1" fill="white"></circle><path d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10S15.5,0,10,0 L10,0z" fill="white"></path></svg></i> <span class="hidden-sm hidden-xs hidden-md">Help</span></button></li><li class="visible-xs-inline-block"><button class="btn btn-primary" ng-click="showZendeskWidget()"><i><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewbox="0 0 22 22"><path d="M11,12.3V13c0,0-1.8,0-2,0v-0.6c0-0.6,0.1-1.4,0.8-2.1c0.7-0.7,1.6-1.2,1.6-2.1c0-0.9-0.7-1.4-1.4-1.4 c-1.3,0-1.4,1.4-1.5,1.7H6.6C6.6,7.1,7.2,5,10,5c2.4,0,3.4,1.6,3.4,3C13.4,10.4,11,10.8,11,12.3z" fill="white"></path><circle cx="10" cy="15" r="1" fill="white"></circle><path d="M10,2c4.4,0,8,3.6,8,8s-3.6,8-8,8s-8-3.6-8-8S5.6,2,10,2 M10,0C4.5,0,0,4.5,0,10s4.5,10,10,10s10-4.5,10-10S15.5,0,10,0 L10,0z" fill="white"></path></svg></i></button></li>')}])}(),angular.module("risevision.common.header",["ui.router","risevision.common.account","risevision.common.gapi","risevision.common.config","risevision.core.cache","risevision.core.company","risevision.common.cookie","risevision.common.header.templates","risevision.common.header.directives","risevision.common.header.filters","risevision.common.i18n","risevision.common.systemmessages","risevision.core.systemmessages","risevision.core.countries","risevision.core.oauth2","risevision.store.authorization","risevision.common.geodata","risevision.store.data-gadgets","risevision.core.userprofile","risevision.common.registration","risevision.common.shoppingcart","checklist-model","ui.bootstrap","ngSanitize","ngCsv","ngTouch","risevision.common.components.userstate","risevision.common.components.last-modified","risevision.common.components.loading","risevision.common.components.search-filter","risevision.common.components.scrolling-list","risevision.common.components.stop-event","risevision.common.components.analytics","risevision.common.components.message-box","risevision.common.components.svg","risevision.common.components.plans","risevision.common.components.purchase-flow","risevision.common.support"]).factory("bindToScopeWithWatch",[function(){return function(e,n,o){o.$watch(function(){return e.call()},function(e){o[n]=e})}}]).value("ENV_NAME","").directive("commonHeader",["$modal","$rootScope","$q","$loading","$interval","oauth2APILoader","$log","$templateCache","userState","$location","bindToScopeWithWatch","$document","cookieTester","companyIcpFactory","ENV_NAME",function(e,n,o,t,a,i,s,r,l,c,u,p,d,m,g){return{restrict:"E",template:r.get("common-header.html"),scope:!1,link:function(e,o,t){m.init(),d.checkCookies().then(function(){e.cookieEnabled=!0},function(){e.cookieEnabled=!1}),e.navCollapsed=!0,e.inRVAFrame=l.inRVAFrame(),e.isSubcompanySelected=l.isSubcompanySelected,e.isTestCompanySelected=l.isTestCompanySelected,e.ENV_NAME=g,e[t.navOptions]||(e.navOptions=[{title:"Home",link:"#/"},{title:"Store",link:""},{title:"Account",link:""},{title:"Sellers",link:""},{title:"Platform",link:"http://rva.risevision.com/",target:"_blank"}]),e.hideShoppingCart="0"!==t.hideShoppingCart&&"false"!==t.hideShoppingCart,e.hideHelpMenu="0"!==t.hideHelpMenu&&"false"!==t.hideHelpMenu,n.redirectToRoot="0"!==t.redirectToRoot&&"false"!==t.redirectToRoot,n.newTabHome="0"!==t.newTabHome&&"false"!==t.newTabHome,u(l.isRiseVisionUser,"isRiseVisionUser",e),n.$on("$stateChangeSuccess",function(){e.inRVAFrame&&c.search("inRVA",e.inRVAFrame)});var a=p[0].createElement("meta");a.id="viewport",a.name="viewport",a.content="width=device-width, initial-scale=1, user-scalable=no",p[0].getElementsByTagName("head")[0].appendChild(a)}}}]).run(["segmentAnalytics","SEGMENT_API_KEY","ENABLE_INTERCOM_MESSAGING","analyticsEvents","$document",function(e,n,o,t,a){t.initialize(),e.load(n,o),a.on("keydown",function(e){var n=!1;if(8===e.keyCode){var o=e.srcElement||e.target;n=("INPUT"!==o.tagName.toUpperCase()||"TEXT"!==o.type.toUpperCase()&&"PASSWORD"!==o.type.toUpperCase()&&"FILE"!==o.type.toUpperCase()&&"SEARCH"!==o.type.toUpperCase()&&"EMAIL"!==o.type.toUpperCase()&&"NUMBER"!==o.type.toUpperCase()&&"DATE"!==o.type.toUpperCase()&&"TEL"!==o.type.toUpperCase()&&"URL"!==o.type.toUpperCase())&&"TEXTAREA"!==o.tagName.toUpperCase()||(o.readOnly||o.disabled)}n&&e.preventDefault()})}]).directive("ngEnter",function(){return function(e,n,o){n.bind("keydown keypress",function(n){13===n.which&&(e.$apply(function(){e.$eval(o.ngEnter)}),n.preventDefault())})}}),angular.module("risevision.common.header.directives",[]),angular.module("risevision.common.header.filters",[]),angular.module("risevision.common.header.directives").directive("companyButtons",["$templateCache",function(e){return{restrict:"E",scope:!1,replace:!0,template:e.get("company-buttons-menu.html"),link:function(){}}}]),angular.module("risevision.common.header.directives").directive("emptySelectParser",[function(){return{require:"ngModel",link:function(e,n,o,t){t.$parsers.unshift(function(e){return null===e?"":e})}}}]),angular.module("risevision.common.header.directives").directive("fastpass",["loadFastpass","userState",function(e,n){return{restrict:"AE",scope:{},link:function(o){o.$watch(function(){return n.getUserEmail()},function(o){o&&e(n.getUsername(),n.getUserEmail())})}}}]),angular.module("risevision.common.header.directives").directive("integerParser",[function(){return{require:"ngModel",link:function(e,n,o,t){t.$parsers.push(function(e){return parseInt(e,10)||0}),t.$formatters.push(function(e){return"undefined"==typeof e?"":""+e})}}}]),angular.module("risevision.common.header.directives").directive("linkCid",["userState",function(e){return{link:function(n,o,t){var a="",i=function(e){var n,o=t.href.indexOf("cid=");n=o>-1?t.href.substring(0,o+4)+e:t.href+(t.href.indexOf("?")===-1?"?":"&")+"cid="+e,a=e,t.$set("href",n)};n.$watch(function(){return e.getSelectedCompanyId()},function(e){e&&e!==a&&i(e)})}}}]),angular.module("risevision.common.header.directives").directive("requireRole",["userState",function(e){return{restrict:"A",priority:1e5,scope:!1,compile:function(n,o){var t=!0,a=o.requireRole.split(" ");for(var i in a)e.hasRole(a[i])&&(t=!1);t&&(angular.forEach(n.children(),function(e){try{e.remove()}catch(n){}}),n.remove())}}}]),angular.module("risevision.common.header.directives").directive("websiteValidator",[function(){return{require:"ngModel",restrict:"A",link:function(e,n,o,t){var a=/^(http[s]?:\/\/){0,1}([^\s\/?\.#:@"]+\.)+([^\s\/?\.#:"@-]{2,5})([\/?#][^\s"]*)?$/,i=function(e){return!e||a.test(e)?t.$setValidity("website",!0):t.$setValidity("website",!1),e};t.$parsers.unshift(i),t.$formatters.unshift(i)}}}]),angular.module("risevision.common.header").controller("AuthButtonsCtr",["$scope","$modal","$templateCache","userState","userAuthFactory","canAccessApps","$loading","cookieStore","$log","uiFlowManager","oauth2APILoader","bindToScopeWithWatch","$window","APPS_URL",function(e,n,o,t,a,i,s,r,l,c,u,p,d,m){window.$loading=s,e.inRVAFrame=t.inRVAFrame(),e.spinnerOptions={color:"#999",hwaccel:!0,radius:10},e.$on("risevision.user.signedOut",function(){r.remove("surpressRegistration")}),e.$on("risevision.uiStatus.validationCancelled",function(){r.remove("surpressRegistration")}),e.$watch(function(){return c.isStatusUndetermined()},function(n){e.undetermined=n,e.loading=n}),e.$watch(function(){return c.getStatus()},function(a,i){a&&(l.debug("status changed from",i,"to",a),"registeredAsRiseVisionUser"===a?(!t.registrationModalInstance&&t.isLoggedIn()&&(t.registrationModalInstance=n.open({template:o.get("registration-modal.html"),controller:"RegistrationModalCtrl",backdrop:"static",resolve:{account:["getUserProfile","getAccount",function(e,n){return e(t.getUsername()).then(null,function(e){return e&&"User has not yet accepted the Terms of Service"===e.message?n():null})["catch"](function(){return null})}]}})),t.registrationModalInstance.result["finally"](function(){t.registrationModalInstance=null,c.invalidateStatus()})):"signedInWithGoogle"===a&&e.login())}),e.$watch(function(){return t.isLoggedIn()},function(n){e.isLoggedIn=n,n===!0&&(e.userPicture=t.getUserPicture())}),e.$watch(function(){return t.getUserCompanyName()},function(){e.companyName=t.getUserCompanyName()}),e.$watch(function(){return t.getUsername()},function(){e.username=t.getUsername()}),p(t.isRiseVisionUser,"isRiseVisionUser",e),e.login=function(e,n){s.startGlobal("auth-buttons-login"),i(n,!0)["finally"](function(){s.stopGlobal("auth-buttons-login"),c.invalidateStatus(e)})},e.alertSettings=function(){var e=m+"/alerts?cid="+t.getSelectedCompanyId();d.location.href=e},e.userSettings=function(e){n.open({template:o.get("user-settings-modal.html"),controller:"UserSettingsModalCtrl",size:e,resolve:{username:function(){return t.getUsername()},add:function(){return!1}}})},s.startGlobal("auth-buttons-silent"),u().then()["finally"](function(){a.authenticate(!1).then()["finally"](function(){s.stopGlobal("auth-buttons-silent"),c.isStatusUndetermined()||c.invalidateStatus("registrationComplete")})})}]),angular.module("risevision.common.header").controller("CloseFrameButtonCtrl",["$scope","$log","gadgetsService",function(e,n,o){e.closeIFrame=function(){n.debug("gadgetsService.closeIFrame"),o.closeIFrame()}}]),angular.module("risevision.common.header").controller("CompanyButtonsCtrl",["$scope","$modal","$templateCache","userState","getCoreCountries",function(e,n,o,t,a){e.inRVAFrame=t.inRVAFrame(),e.$watch(function(){return t.isSubcompanySelected()},function(){e.isSubcompanySelected=t.isSubcompanySelected()}),e.$watch(function(){return t.getSelectedCompanyName()},function(n){n&&(e.selectedCompanyName=t.getSelectedCompanyName())}),e.$watch(function(){return t.isRiseVisionUser()},function(n){e.isRiseVisionUser=n,n===!0&&(e.isUserAdmin=t.isUserAdmin(),e.isPurchaser=t.isPurchaser())}),e.$watch(function(){return t.isRiseAdmin()},function(n){e.isRiseVisionAdmin=n}),e.addSubCompany=function(){n.open({template:o.get("subcompany-modal.html"),controller:"SubCompanyModalCtrl",size:"lg",resolve:{countries:function(){return a()}}})},e.companySettings=function(){n.open({template:o.get("company-settings-modal.html"),controller:"CompanySettingsModalCtrl",size:"lg",resolve:{companyId:function(){return t.getSelectedCompanyId()},countries:function(){return a()}}})},e.companyUsers=function(e){n.open({template:o.get("company-users-modal.html"),controller:"CompanyUsersModalCtrl",size:e,backdrop:!0,resolve:{company:function(){return t.getCopyOfSelectedCompany()}}})},e.switchCompany=function(){var e=n.open({template:o.get("company-selector-modal.html"),controller:"companySelectorCtr",backdrop:!0,resolve:{companyId:function(){return t.getSelectedCompanyId()}}});e.result.then(t.switchCompany)},e.moveCompany=function(e){n.open({template:o.get("move-company-modal.html"),controller:"MoveCompanyModalCtrl",size:e})},e.resetCompany=function(){t.resetCompany()}}]),angular.module("risevision.common.header").controller("CompanyIcpModalCtrl",["$scope","$modalInstance","company","user","COMPANY_INDUSTRY_FIELDS","COMPANY_SIZE_FIELDS","COMPANY_ROLE_FIELDS",function(e,n,o,t,a,i,s){e.company=o,e.user=t,e.COMPANY_SIZE_FIELDS=i,e.COMPANY_ROLE_FIELDS=s,e.ICON_INDUSTRY_FIELDS=[],e.DROPDOWN_INDUSTRY_FIELDS=[],e.otherSelected=!1,a.forEach(function(n){o.companyIndustry!==n[1]||n[2]||(e.otherSelected=!0),n[2]?e.ICON_INDUSTRY_FIELDS.push(n):e.DROPDOWN_INDUSTRY_FIELDS.push(n)}),e.dismiss=function(){n.dismiss(t)},e.save=function(){n.close({user:t,company:o})},e.selectIndustry=function(n){e.otherSelected=!1,o.companyIndustry!==n?o.companyIndustry=n:o.companyIndustry=""},e.selectOther=function(){e.otherSelected=!e.otherSelected,o.companyIndustry=""}}]),angular.module("risevision.common.header").controller("CompanySettingsModalCtrl",["$scope","$modalInstance","updateCompany","companyId","countries","REGIONS_CA","REGIONS_US","TIMEZONES","getCompany","regenerateCompanyField","$window","$loading","humanReadableError","userState","userAuthFactory","deleteCompany","segmentAnalytics","$modal","$templateCache","COMPANY_INDUSTRY_FIELDS","COMPANY_SIZE_FIELDS",function(e,n,o,t,a,i,s,r,l,c,u,p,d,m,g,v,f,b,h,y,S){function C(n){e.isRiseStoreAdmin?n.sellerId=n.isSeller?"yes":null:(delete n.sellerId,delete n.isTest)}e.company={id:t},e.countries=a,e.regionsCA=i,e.regionsUS=s,e.timezones=r,e.COMPANY_INDUSTRY_FIELDS=y,e.COMPANY_SIZE_FIELDS=S,e.isRiseStoreAdmin=m.isRiseStoreAdmin(),e.$watch("loading",function(e){e?p.start("company-settings-modal"):p.stop("company-settings-modal")}),e.loading=!1,e.forms={},t&&(e.loading=!0,l(t).then(function(n){e.company=n,e.company.isSeller=!(!n||!n.sellerId)},function(e){u.alert("An error has occurred. "+d(e))})["finally"](function(){e.loading=!1})),e.closeModal=function(){n.dismiss("cancel")},e.save=function(){e.loading=!0;var t=angular.copy(e.company);C(t),o(e.company.id,t).then(function(){f.track("Company Updated",{companyId:m.getSelectedCompanyId(),companyName:m.getSelectedCompanyName(),isUserCompany:!m.isSubcompanySelected()}),m.updateCompanySettings(e.company),n.close("success")})["catch"](function(e){u.alert("Error(s): "+d(e))})["finally"](function(){e.loading=!1})},e.deleteCompany=function(){var o=b.open({
template:h.get("safe-delete-modal.html"),controller:"SafeDeleteModalCtrl"});o.result.then(function(){e.loading=!0,v(e.company.id).then(function(){f.track("Company Deleted",{companyId:m.getSelectedCompanyId(),companyName:m.getSelectedCompanyName(),isUserCompany:!m.isSubcompanySelected()}),m.getUserCompanyId()===e.company.id?g.signOut():m.getSelectedCompanyId()===e.company.id&&m.resetCompany(),n.close("success")})["catch"](function(e){u.alert("Error(s): "+d(e))})["finally"](function(){e.loading=!1})})},e.resetAuthKey=function(){u.confirm("Resetting the Company Authentication Key will cause existing Data Gadgets to no longer report data until they are updated with the new Key.")&&(p.start("company-settings-modal"),c(e.company.id,"authKey").then(function(n){e.company.authKey=n.item,u.alert("Successfully changed Authentication Key.")},function(e){u.alert("Error: "+d(e))})["finally"](function(){p.stop("company-settings-modal")}))},e.resetClaimId=function(){u.confirm("Resetting the Company Claim Id will cause existing installations to no longer be associated with your Company.")&&(p.start("company-settings-modal"),c(e.company.id,"claimId").then(function(n){e.company.claimId=n.item,u.alert("Successfully changed Claim ID.")},function(e){u.alert("Error: "+d(e))})["finally"](function(){p.stop("company-settings-modal")}))}}]),angular.module("risevision.common.header").filter("roleLabel",["userRoleMap",function(e){return function(n){return e[n]}}]).controller("CompanyUsersModalCtrl",["$scope","$modalInstance","$modal","$templateCache","company","getUsers","$loading",function(e,n,o,t,a,i,s){e.$watch("loading",function(e){e?s.start("company-users-list"):s.stop("company-users-list")}),e.sort={field:"username",descending:!1},e.search={query:""},e.filterConfig={placeholder:"Search Users"},e.changeSorting=function(n){var o=e.sort;o.field===n?o.descending=!o.descending:(o.field=n,o.descending=!1)};var r=function(){e.loading=!0,i({companyId:a.id,search:e.search.query}).then(function(n){e.users=n})["finally"](function(){e.loading=!1})};r(),e.addUser=function(e){var n=o.open({template:t.get("user-settings-modal.html"),controller:"AddUserModalCtrl",size:e,resolve:{companyId:function(){return a.id}}});n.result["finally"](r)},e.editUser=function(e,n){var a=o.open({template:t.get("user-settings-modal.html"),controller:"UserSettingsModalCtrl",size:n,resolve:{username:function(){return e},add:function(){return!1}}});a.result["finally"](r)},e.closeModal=function(){n.dismiss("cancel")},e.doSearch=function(){e.users=[],r()}}]),angular.module("risevision.common.header").controller("GlobalAlertsCtrl",["$scope","$rootScope",function(e,n){e.errors=[],e.$on("risevision.user.authorized",function(){e.errors.length=0}),n.$on("risevision.common.globalError",function(n,o){e.errors.push(o)}),e.dismiss=function(n,o){e[n].splice(o,1)}}]),angular.module("risevision.common.header").controller("MoveCompanyModalCtrl",["$scope","$modalInstance","moveCompany","lookupCompany","userState","$loading",function(e,n,o,t,a,i){e.company={},e.errors=[],e.messages=[],e.$watch("loading",function(e){e?i.start("move-company-modal"):i.stop("move-company-modal")}),e.selectedCompany=a.getCopyOfSelectedCompany(),e.closeModal=function(){n.dismiss("cancel")},e.moveCompany=function(){e.messages=[],e.loading=!0,o(e.company.authKey,a.getSelectedCompanyId()).then(function(){e.messages.push("Success. The company has been moved under your company."),e.moveSuccess=!0},function(n){e.errors.push("Error: "+JSON.stringify(n))})["finally"](function(){e.loading=!1})},e.getCompany=function(){e.errors=[],e.messages=[],e.loading=!0,t(e.company.authKey).then(function(n){angular.extend(e.company,n)},function(n){e.errors.push("Failed to retrieve company. "+n.message)})["finally"](function(){e.loading=!1})},e.$watch("moveSuccess",function(n){n?e.dismissButtonText="Close":e.dismissButtonText="Cancel"})}]),angular.module("risevision.common.header").controller("PlanBannerCtrl",["$scope","$rootScope","userState","plansFactory","currentPlanFactory","STORE_URL","ACCOUNT_PATH",function(e,n,o,t,a,i,s){e.plan={},e.showPlans=t.showPlansModal,n.$on("risevision.plan.loaded",function(){e.plan=a.currentPlan,e.companyId=o.getSelectedCompanyId(),e.storeAccountUrl=i+s.replace("companyId",e.companyId)}),e.isFree=a.isFree,e.isEnterpriseSubCompany=a.isEnterpriseSubCompany,e.isSubscribed=a.isSubscribed,e.isOnTrial=a.isOnTrial,e.isTrialExpired=a.isTrialExpired,e.isSuspended=a.isSuspended,e.isCancelled=a.isCancelled,e.isProSubscribed=a.isProSubscribed}]),angular.module("risevision.common.header").controller("RegisterButtonCtrl",["$scope","cookieStore","uiFlowManager",function(e,n,o){e.register=function(){n.remove("surpressRegistration"),o.invalidateStatus("registrationComplete")}}]),angular.module("risevision.common.header").controller("RegistrationModalCtrl",["$q","$scope","$rootScope","$modalInstance","$loading","registerAccount","$log","cookieStore","userState","pick","uiFlowManager","humanReadableError","agreeToTermsAndUpdateUser","account","segmentAnalytics","bigQueryLogging","analyticsEvents","updateCompany","plansFactory",function(e,n,o,t,a,i,s,r,l,c,u,p,d,m,g,v,f,b,h){n.newUser=!m;var y=m?m:l.getCopyOfProfile()||{};n.company={},r.remove("surpressRegistration"),n.profile=c(y,"email","mailSyncEnabled","firstName","lastName"),n.profile.email=n.profile.email||l.getUsername(),n.registering=!1,n.profile.accepted=angular.isDefined(y.termsAcceptanceDate)&&null!==y.termsAcceptanceDate,angular.isDefined(n.profile.mailSyncEnabled)||(n.profile.mailSyncEnabled=!1),n.closeModal=function(){r.put("surpressRegistration",!0),t.dismiss("cancel")};var S=n.$watch(function(){return u.isStatusUndetermined()},function(e){e===!0?a.start("registration-modal"):e===!1&&("registrationComplete"===u.getStatus()&&(t.close("success"),S()),a.stop("registration-modal"))}),C=function(){return n.newUser&&n.company.website?b(l.getUserCompanyId(),n.company):e.defer().resolve()};n.save=function(){if(n.forms.registrationForm.accepted.$pristine=!1,n.forms.registrationForm.firstName.$pristine=!1,n.forms.registrationForm.lastName.$pristine=!1,!n.forms.registrationForm.$invalid){n.registering=!0,a.start("registration-modal");var e;e=n.newUser?i(l.getUsername(),n.profile):d(l.getUsername(),n.profile),e.then(function(){l.refreshProfile().then()["finally"](function(){n.newUser&&h.startBasicPlanTrial(),C(),f.identify(),g.track("User Registered",{companyId:l.getUserCompanyId(),companyName:l.getUserCompanyName(),isNewCompany:n.newUser}),v.logEvent("User Registered"),o.$broadcast("risevision.user.authorized"),t.close("success"),a.stop("registration-modal")})},function(e){alert("Error: "+p(e)),console.error(e)})["finally"](function(){n.registering=!1,l.refreshProfile()})}},n.forms={}}]),angular.module("risevision.common.header").controller("SafeDeleteModalCtrl",["$scope","$modalInstance",function(e,n){e.inputText=null,e.canConfirm=!1,e.$watch("inputText",function(){e.canConfirm="DELETE"===e.inputText}),e.confirm=function(){e.canConfirm&&n.close()},e.cancel=function(){n.dismiss("cancel")},e.dismiss=function(){n.dismiss()}}]),angular.module("risevision.common.header").filter("surpressZero",function(){return function(e){return e?e:""}}).controller("ShoppingCartButtonCtrl",["$scope","shoppingCart","userState","$log","STORE_URL",function(e,n,o,t,a){e.shoppingCartUrl=a+"shopping-cart",e.cart={},e.cart.items=n.getItems(),e.$watch(function(){return o.isRiseVisionUser()},function(o){e.isRiseVisionUser=o,n.get()})}]),angular.module("risevision.common.header").controller("SignOutButtonCtrl",["$scope","$modal","$templateCache","$log","uiFlowManager","userAuthFactory","userState",function(e,n,o,t,a,i,s){e.logout=function(){if(s.isRiseAuthUser())i.signOut().then(function(){t.debug("Custom Auth user signed out")})["catch"](function(e){t.error("Custom Auth sign out failed",e)});else{var e=n.open({template:o.get("signout-modal.html"),controller:"SignOutModalCtrl"});e.result["finally"](function(){a.invalidateStatus("registrationComplete")})}}}]),angular.module("risevision.common.header").controller("SignOutModalCtrl",["$scope","$modalInstance","$log","userAuthFactory","userState",function(e,n,o,t,a){e.isRiseAuthUser=a.isRiseAuthUser(),e.closeModal=function(){n.dismiss("cancel")},e.signOut=function(e){t.signOut(e).then(function(){o.debug("user signed out")},function(e){console.error("sign out failed",e)})["finally"](function(){n.dismiss("success")})}}]),angular.module("risevision.common.header").controller("SubcompanyBannerCtrl",["$scope","$modal","$loading","userState",function(e,n,o,t){e.inRVAFrame=t.inRVAFrame(),e.$watch(function(){return t.getSelectedCompanyId()},function(){e.isSubcompanySelected=t.isSubcompanySelected(),e.selectedCompanyName=t.getSelectedCompanyName()}),e.switchToMyCompany=function(){t.resetCompany()}}]),angular.module("risevision.common.header").controller("SubCompanyModalCtrl",["$scope","$modalInstance","$modal","$templateCache","createCompany","countries","REGIONS_CA","REGIONS_US","TIMEZONES","userState","$loading","humanReadableError","segmentAnalytics","bigQueryLogging","COMPANY_INDUSTRY_FIELDS","COMPANY_SIZE_FIELDS",function(e,n,o,t,a,i,s,r,l,c,u,p,d,m,g,v){e.company={},e.countries=i,e.regionsCA=s,e.regionsUS=r,e.timezones=l,e.COMPANY_INDUSTRY_FIELDS=g,e.COMPANY_SIZE_FIELDS=v,e.forms={},e.$watch("loading",function(e){e?u.start("add-subcompany-modal"):u.stop("add-subcompany-modal")}),e.closeModal=function(){n.dismiss("cancel")},e.save=function(){e.loading=!0,a(c.getSelectedCompanyId(),e.company).then(function(e){d.track("Company Created",{companyId:e.id,companyName:e.name}),m.logEvent("Company Created",e.name,null,c.getUsername(),e.id),n.close("success")},function(e){alert("Error: "+p(e))})["finally"](function(){e.loading=!1})},e.moveCompany=function(e){o.open({template:t.get("move-company-modal.html"),controller:"MoveCompanyModalCtrl",size:e})}}]),angular.module("risevision.common.header").controller("companySelectorCtr",["$scope","$modalInstance","companyService","companyId","BaseList","$loading",function(e,n,o,t,a,i){var s=40;e.companies=new a(s),e.search={query:""},e.filterConfig={placeholder:"Search Companies"},e.$watch("loading",function(e){e?(i.start("company-selector-modal"),i.start("company-selector-modal-list")):(i.stop("company-selector-modal"),i.stop("company-selector-modal-list"))}),e.closeModal=function(){n.dismiss("cancel")},e.loadCompanies=function(){e.companies.endOfList||(e.loading=!0,o.getCompanies(t,e.search.query,e.companies.cursor,s,null).then(function(n){n&&n.items&&e.companies.add(n.items,n.cursor)})["finally"](function(){e.loading=!1}))},0===e.companies.list.length&&e.loadCompanies(),e.doSearch=function(){e.companies.clear(),e.loadCompanies()},e.setCompany=function(e){n.close(e.id)}}]),angular.module("risevision.common.header").controller("SystemMessagesButtonCtrl",["$scope","userState","$log","$sce","getCoreSystemMessages","systemMessages",function(e,n,o,t,a,i){e.messages=i,e.$watch(function(){return n.isRiseVisionUser()},function(n){e.isRiseVisionUser=n}),e.renderHtml=function(e){return t.trustAsHtml(e)},i.registerRetriever(function(){return a(n.getSelectedCompanyId())}),e.$watch(function(){return n.getSelectedCompanyId()},function(n){null!==n?i.resetAndGetMessages().then(e.apply):i.clear()})}]),angular.module("risevision.common.header").controller("TestCompanyBannerCtrl",["$scope","userState",function(e,n){e.$watch(function(){return n.isTestCompanySelected()},function(n){e.isTestCompanySelected=n})}]),angular.module("risevision.common.header").controller("AddUserModalCtrl",["$scope","$filter","addUser","$modalInstance","companyId","userState","userRoleMap","humanReadableError","messageBox","$loading","segmentAnalytics","COMPANY_ROLE_FIELDS",function(e,n,o,t,a,i,s,r,l,c,u,p){e.isAdd=!0,e.COMPANY_ROLE_FIELDS=p,e.isUserAdmin=i.isUserAdmin(),e.availableRoles=[],angular.forEach(s,function(n,o){e.availableRoles.push({key:o,name:n})}),e.$watch("user.status",function(n){e.user&&"string"==typeof e.user.status&&(e.user.status=parseInt(n))}),e.$watch("loading",function(e){e?c.start("user-settings-modal"):c.stop("user-settings-modal")}),e.save=function(){e.forms.userSettingsForm.email.$pristine=!1,e.forms.userSettingsForm.username.$pristine=!1,e.forms.userSettingsForm.firstName.$pristine=!1,e.forms.userSettingsForm.lastName.$pristine=!1,e.forms.userSettingsForm.$invalid||(e.loading=!0,o(a,e.user.username,e.user).then(function(){u.track("User Created",{userId:e.user.username,companyId:a}),t.close("success")},function(o){var t="Error: "+r(o);409===o.code&&(t=n("translate")("common-header.user.error.duplicate-user",{username:e.user.username})),l("common-header.user.error.add-user",t)})["finally"](function(){e.loading=!1}))},e.closeModal=function(){t.dismiss("cancel")},e.editRoleAllowed=function(e){return!!i.isRiseAdmin()||!!i.isUserAdmin()&&("sa"!==e.key&&"ba"!==e.key)},e.editRoleVisible=function(e){return i.isRiseAdmin()?!i.isSubcompanySelected()||"sa"!==e.key&&"ba"!==e.key:!(!i.isUserAdmin()&&!i.isRiseVisionUser())&&("sa"!==e.key&&"ba"!==e.key)},e.forms={}}]),angular.module("risevision.common.header").controller("UserSettingsModalCtrl",["$scope","$filter","$modalInstance","updateUser","getUserProfile","deleteUser","username","userRoleMap","$log","$loading","userState","userAuthFactory","uiFlowManager","humanReadableError","messageBox","$rootScope","segmentAnalytics","userauth","$q","COMPANY_ROLE_FIELDS",function(e,n,o,t,a,i,s,r,l,c,u,p,d,m,g,v,f,b,h,y){e.user={},e.userPassword={},e.showChangePassword=!1,e.isRiseAuthUser=u.isRiseAuthUser(),e.$watch("loading",function(e){e?c.start("user-settings-modal"):c.stop("user-settings-modal")}),e.availableRoles=[],angular.forEach(r,function(n,o){e.availableRoles.push({key:o,name:n})}),e.COMPANY_ROLE_FIELDS=y,e.$watch("user.status",function(n){"string"==typeof e.user.status&&(e.user.status=parseInt(n))}),e.isUserAdmin=u.isUserAdmin(),e.username=s,e.loading=!0,a(s).then(function(n){e.user=n,e.editingYourself=u.checkUsername(n.username)})["finally"](function(){e.loading=!1}),e.closeModal=function(){o.dismiss("cancel")},e.deleteUser=function(){confirm("Are you sure you want to delete this user?")&&i(e.username).then(function(){f.track("User Deleted",{userId:e.username,companyId:u.getSelectedCompanyId(),isSelf:u.checkUsername(s)}),u.checkUsername(s)&&p.signOut().then()["finally"](function(){d.invalidateStatus("registrationComplete")})})["finally"](function(){o.dismiss("deleted")})},e.save=function(){if(e.showChangePassword&&(e.currentPasswordNotValid=!1),e.forms.userSettingsForm.$valid){var a=h.resolve();e.loading=!0,e.showChangePassword&&(a=b.updatePassword(s,e.userPassword.currentPassword,e.userPassword.newPassword),a.then(function(){e.userPassword={},e.showChangePassword=!1})["catch"](function(n){var o=n.result.error;return 409===o.code&&(e.currentPasswordNotValid=!0,o.changePassword=!0),h.reject(o)})),a.then(function(){return t(s,e.user)}).then(function(n){u.checkUsername(s)&&u.updateUserProfile(n.item),f.track("User Updated",{userId:e.username,companyId:u.getSelectedCompanyId(),isSelf:u.checkUsername(s)}),o.close("success")})["catch"](function(o){o=o.result&&o.result.error||o,l.debug(o);var t="Error: "+m(o);409!==o.code||o.changePassword?o.changePassword&&(t=o.message):t=n("translate")("common-header.user.error.duplicate-user",{username:e.user.username}),g("common-header.user.error.update-user",t)})["finally"](function(){e.loading=!1})}},e.editRoleAllowed=function(n){return!!u.isRiseAdmin()||!!u.isUserAdmin()&&("sa"!==n.key&&"ba"!==n.key&&("ua"!==n.key||!u.checkUsername(e.user.username)))},e.editRoleVisible=function(e){return u.isRiseAdmin()?!u.isSubcompanySelected()||"sa"!==e.key&&"ba"!==e.key:!(!u.isUserAdmin()&&!u.isRiseVisionUser())&&("sa"!==e.key&&"ba"!==e.key)},e.forms={},e.toggleChangePassword=function(){e.showChangePassword=!e.showChangePassword}}]),angular.module("risevision.common.header").controller("ZendeskButtonCtrl",["$scope","zendesk",function(e,n){e.showZendeskWidget=function(){n.activateWidget()}}]),angular.module("risevision.common.header").directive("actionSheet",["$document","$compile","$timeout",function(e,n,o){return{restrict:"A",link:function(t,a,i){var s=e.find("body").eq(0),r=!1,l=document.getElementById("action-sheet-backdrop");angular.isObject(l)?l=angular.element(l):(l=angular.element('<div id="action-sheet-backdrop" class="modal-backdrop"></div>'),s.append(l)),t.templateUrl=t.$eval(i.actionSheet),t.title=t.$eval(i.title);var c=angular.element('<div class="action-sheet is-action-sheet-closed"><ng-include src="templateUrl"></ng-include></div>'),u=n(c)(t);s.append(u);var p=function(){r=!r,r?(u.toggleClass("is-action-sheet-closed"),o(function(){u.toggleClass("is-action-sheet-opened"),l.toggleClass("is-action-sheet-opened")})):(u.toggleClass("is-action-sheet-opened"),l.toggleClass("is-action-sheet-opened"),o(function(){u.toggleClass("is-action-sheet-closed")},500)),r?(l.bind("tap",p),l.bind("click",p)):(l.unbind("tap"),l.unbind("click"))};i.actionSheetClass&&i.actionSheetClass.split(" ").forEach(function(e){u.addClass(e)}),a.bind("tap",p),a.bind("click",p),c.bind("tap",p),c.bind("click",p)}}}]).directive("replaceInclude",function(){return{require:"ngInclude",restrict:"A",link:function(e,n){n.replaceWith(n.children())}}}),angular.module("risevision.common.header").service("offCanvas",["$window",function(e){var n={visible:!1,enabled:!1};return n.enabled=angular.element(e).width()<=1200,n.toggle=function(e){e&&e.stopPropagation(),(n.enabled||n.visible)&&(n.visible=!n.visible,n.visible?n.nav.addClass("is-off-canvas-opened"):n.nav.removeClass("is-off-canvas-opened"))},n.registerNav=function(e){n.nav=e,n.nav.addClass("off-canvas--container")},window.onresize=function(){n.enabled=angular.element(e).width()<=1200},n}]).directive("offCanvasNav",["offCanvas",function(e){return{restrict:"A",link:function(n,o){o.addClass("off-canvas--nav"),e.registerNav(o),o.bind("tap",e.toggle),o.bind("click",e.toggle)}}}]).directive("offCanvasToggle",["offCanvas",function(e){return{restrict:"A",link:function(n,o){o.bind("tap",e.toggle),o.bind("click",e.toggle)}}}]),function(e){"use strict";e.module("risevision.common.account",["risevision.common.gapi","risevision.core.userprofile","risevision.core.cache"]).factory("agreeToTerms",["$q","riseAPILoader","$log","userInfoCache",function(e,n,o,t){return function(){o.debug("agreeToTerms called.");var a=e.defer();return n().then(function(e){var n=e.account.agreeToTerms();n.execute(function(e){o.debug("agreeToTerms resp",e),t.removeAll(),e.error?a.reject(e.error):a.resolve()})}),a.promise}}]).factory("agreeToTermsAndUpdateUser",["$q","$log","agreeToTerms","updateUser",function(e,n,o,t){return function(a,i){n.debug("registerAccount called.",a,i);var s=e.defer();return o().then()["finally"](function(){t(a,i).then(function(e){e.result?s.resolve():s.reject()},s.reject)["finally"]("registerAccount ended")}),s.promise}}]).factory("registerAccount",["$q","$log","addAccount","updateUser",function(e,n,o,t){return function(a,i){n.debug("registerAccount called.",a,i);var s=e.defer();return o().then()["finally"](function(){t(a,i).then(function(e){e.result?s.resolve():s.reject()},s.reject)["finally"]("registerAccount ended")}),s.promise}}]).factory("addAccount",["$q","riseAPILoader","$log",function(e,n,o){return function(){o.debug("addAccount called.");var t=e.defer();return n().then(function(e){var n=e.account.add();n.execute(function(e){o.debug("addAccount resp",e),e.result?t.resolve():t.reject("addAccount")})}),t.promise}}]).factory("getAccount",["$q","riseAPILoader","$log",function(e,n,o){return function(){o.debug("getAccount called.");var t=e.defer();return n().then(function(e){var n=e.account.get();n.execute(function(e){o.debug("getAccount resp",e),e.item?t.resolve(e.item):t.reject("getAccount")})}),t.promise}}])}(angular),angular.module("risevision.common.header").value("COMPANY_ROLE_FIELDS",[["IT/Network Administrator","it_network_administrator"],["Facilities","facilities"],["Professor/Instructor/Teacher","professor_instructor_teacher"],["Marketing","marketing"],["Designer","designer"],["Executive/Business Owner","executive_business_owner"],["Reseller/Integrator","reseller_integrator"],["Architect/Consultant","architect_consultant"],["Administrator/Volunteer/Intern","administrator_volunteer_intern"],["Developer","developer"],["Other","other"]]).value("COMPANY_INDUSTRY_FIELDS",[["Accounting","ACCOUNTING"],["Airlines/Aviation","AIRLINES_AVIATION"],["Alternative Dispute Resolution","ALTERNATIVE_DISPUTE_RESOLUTION"],["Alternative Medicine","ALTERNATIVE_MEDICINE"],["Animation","ANIMATION"],["Apparel & Fashion","APPAREL_FASHION"],["Architecture & Planning","ARCHITECTURE_PLANNING"],["Arts and Crafts","ARTS_AND_CRAFTS"],["Automotive","AUTOMOTIVE","https://cdn2.hubspot.net/hubfs/2700250/automobile-1.svg"],["Aviation & Aerospace","AVIATION_AEROSPACE"],["Banking","BANKING"],["Biotechnology","BIOTECHNOLOGY"],["Broadcast Media","BROADCAST_MEDIA"],["Building Materials","BUILDING_MATERIALS"],["Business Supplies and Equipment","BUSINESS_SUPPLIES_AND_EQUIPMENT"],["Capital Markets","CAPITAL_MARKETS"],["Chemicals","CHEMICALS"],["Civic & Social Organization","CIVIC_SOCIAL_ORGANIZATION"],["Civil Engineering","CIVIL_ENGINEERING"],["Commercial Real Estate","COMMERCIAL_REAL_ESTATE"],["Computer & Network Security","COMPUTER_NETWORK_SECURITY"],["Computer Games","COMPUTER_GAMES"],["Computer Hardware","COMPUTER_HARDWARE"],["Computer Networking","COMPUTER_NETWORKING"],["Computer Software","COMPUTER_SOFTWARE"],["Internet","INTERNET"],["Construction","CONSTRUCTION"],["Consumer Electronics","CONSUMER_ELECTRONICS"],["Consumer Goods","CONSUMER_GOODS"],["Consumer Services","CONSUMER_SERVICES"],["Cosmetics","COSMETICS"],["Dairy","DAIRY"],["Defense & Space","DEFENSE_SPACE"],["Design","DESIGN"],["Education Management","EDUCATION_MANAGEMENT"],["E-Learning","E_LEARNING"],["Electrical/Electronic Manufacturing","ELECTRICAL_ELECTRONIC_MANUFACTURING"],["Entertainment","ENTERTAINMENT"],["Environmental Services","ENVIRONMENTAL_SERVICES"],["Events Services","EVENTS_SERVICES"],["Executive Office","EXECUTIVE_OFFICE"],["Facilities Services","FACILITIES_SERVICES"],["Farming","FARMING"],["Financial Services","FINANCIAL_SERVICES","https://www.risevision.com/hubfs/Assets%20May%5B17%5D/finance.svg?t=1502211789708"],["Fine Art","FINE_ART"],["Fishery","FISHERY"],["Food & Beverages","FOOD_BEVERAGES"],["Food Production","FOOD_PRODUCTION"],["Fund-Raising","FUND_RAISING"],["Furniture","FURNITURE"],["Gambling & Casinos","GAMBLING_CASINOS"],["Glass, Ceramics & Concrete","GLASS_CERAMICS_CONCRETE"],["Government Administration","GOVERNMENT_ADMINISTRATION"],["Government Relations","GOVERNMENT_RELATIONS"],["Graphic Design","GRAPHIC_DESIGN"],["Wellness / Fitness","HEALTH_WELLNESS_AND_FITNESS","https://www.risevision.com/hubfs/health-2.svg?t=1502211789708"],["Higher Education","HIGHER_EDUCATION","https://www.risevision.com/hubfs/mortarboard-2.svg?t=1502211789708"],["Medical","HOSPITAL_HEALTH_CARE","https://www.risevision.com/hubfs/hospitality-2.svg?t=1502211789708"],["Hospitality","HOSPITALITY"],["Human Resources","HUMAN_RESOURCES"],["Import and Export","IMPORT_AND_EXPORT"],["Individual & Family Services","INDIVIDUAL_FAMILY_SERVICES"],["Industrial Automation","INDUSTRIAL_AUTOMATION"],["Information Services","INFORMATION_SERVICES"],["Information Technology and Services","INFORMATION_TECHNOLOGY_AND_SERVICES"],["Insurance","INSURANCE"],["International Affairs","INTERNATIONAL_AFFAIRS"],["International Trade and Development","INTERNATIONAL_TRADE_AND_DEVELOPMENT"],["Investment Banking","INVESTMENT_BANKING"],["Investment Management","INVESTMENT_MANAGEMENT"],["Judiciary","JUDICIARY"],["Law Enforcement","LAW_ENFORCEMENT"],["Law Practice","LAW_PRACTICE"],["Legal Services","LEGAL_SERVICES"],["Legislative Office","LEGISLATIVE_OFFICE"],["Leisure, Travel & Tourism","LEISURE_TRAVEL_TOURISM"],["Arts / Libraries","LIBRARIES","https://cdn2.hubspot.net/hubfs/2700250/Assets%20May%5B17%5D/teamwork.svg"],["Logistics and Supply Chain","LOGISTICS_AND_SUPPLY_CHAIN"],["Luxury Goods & Jewelry","LUXURY_GOODS_JEWELRY"],["Machinery","MACHINERY"],["Management Consulting","MANAGEMENT_CONSULTING"],["Maritime","MARITIME"],["Market Research","MARKET_RESEARCH"],["Marketing Agency","MARKETING_AND_ADVERTISING","https://cdn2.hubspot.net/hubfs/2700250/Assets%20May%5B17%5D/telemarketer.svg"],["Mechanical or Industrial Engineering","MECHANICAL_OR_INDUSTRIAL_ENGINEERING"],["Media Production","MEDIA_PRODUCTION"],["Medical Devices","MEDICAL_DEVICES"],["Medical Practice","MEDICAL_PRACTICE"],["Mental Health Care","MENTAL_HEALTH_CARE"],["Military","MILITARY"],["Mining & Metals","MINING_METALS"],["Motion Pictures and Film","MOTION_PICTURES_AND_FILM"],["Museums and Institutions","MUSEUMS_AND_INSTITUTIONS"],["Music","MUSIC"],["Nanotechnology","NANOTECHNOLOGY"],["Newspapers","NEWSPAPERS"],["Non-Profit Organization Management","NON_PROFIT_ORGANIZATION_MANAGEMENT"],["Oil & Energy","OIL_ENERGY"],["Online Media","ONLINE_MEDIA"],["Outsourcing/Offshoring","OUTSOURCING_OFFSHORING"],["Package/Freight Delivery","PACKAGE_FREIGHT_DELIVERY"],["Packaging and Containers","PACKAGING_AND_CONTAINERS"],["Paper & Forest Products","PAPER_FOREST_PRODUCTS"],["Performing Arts","PERFORMING_ARTS"],["Pharmaceuticals","PHARMACEUTICALS"],["Non-Profit","PHILANTHROPY","https://cdn2.hubspot.net/hubfs/2700250/Assets%20May%5B17%5D/donation-1.svg"],["Photography","PHOTOGRAPHY"],["Plastics","PLASTICS"],["Political Organization","POLITICAL_ORGANIZATION"],["Primary/Secondary Education","PRIMARY_SECONDARY_EDUCATION","https://cdn2.hubspot.net/hubfs/2700250/Assets%20May%5B17%5D/university.svg"],["Printing","PRINTING"],["Professional Training & Coaching","PROFESSIONAL_TRAINING_COACHING"],["Program Development","PROGRAM_DEVELOPMENT"],["Public Policy","PUBLIC_POLICY"],["Public Relations and Communications","PUBLIC_RELATIONS_AND_COMMUNICATIONS"],["Public Safety","PUBLIC_SAFETY"],["Publishing","PUBLISHING"],["Railroad Manufacture","RAILROAD_MANUFACTURE"],["Ranching","RANCHING"],["Real Estate","REAL_ESTATE"],["Recreational Facilities and Services","RECREATIONAL_FACILITIES_AND_SERVICES"],["Faith-based","RELIGIOUS_INSTITUTIONS","https://www.risevision.com/hubfs/Assets%20May%5B17%5D/religious.svg?t=1502211789708"],["Renewables & Environment","RENEWABLES_ENVIRONMENT"],["Research","RESEARCH"],["Restaurant","RESTAURANTS","https://cdn2.hubspot.net/hubfs/2700250/Assets%20May%5B17%5D/restaurants.svg"],["Retail","RETAIL","https://www.risevision.com/hubfs/business-1.svg"],["Security and Investigations","SECURITY_AND_INVESTIGATIONS"],["Semiconductors","SEMICONDUCTORS"],["Shipbuilding","SHIPBUILDING"],["Sporting Goods","SPORTING_GOODS"],["Sports","SPORTS"],["Staffing and Recruiting","STAFFING_AND_RECRUITING"],["Supermarkets","SUPERMARKETS"],["Telecommunications","TELECOMMUNICATIONS"],["Textiles","TEXTILES"],["Think Tanks","THINK_TANKS"],["Tobacco","TOBACCO"],["Translation and Localization","TRANSLATION_AND_LOCALIZATION"],["Transportation/Trucking/Railroad","TRANSPORTATION_TRUCKING_RAILROAD"],["Utilities","UTILITIES"],["Venture Capital & Private Equity","VENTURE_CAPITAL_PRIVATE_EQUITY"],["Veterinary","VETERINARY"],["Warehousing","WAREHOUSING"],["Wholesale","WHOLESALE"],["Wine and Spirits","WINE_AND_SPIRITS"],["Wireless","WIRELESS"],["Writing and Editing","WRITING_AND_EDITING"],["Reseller / Integrator","reseller_integrator","https://cdn2.hubspot.net/hubfs/2700250/Assets%20May%5B17%5D/video-call.svg"]]).value("COMPANY_SIZE_FIELDS",[["Solo","1"],["Fewer than 20 employees","2"],["21-50 employees","21"],["51-250 employees","51"],["More than 250 employees","250"]]).constant("USER_ICP_WRITABLE_FIELDS",["companyRole","email","dataCollectionDate"]).constant("COMPANY_ICP_WRITABLE_FIELDS",["name","companySize","companyIndustry"]).factory("companyIcpFactory",["$rootScope","$q","$log","userState","updateCompany","updateUser","$modal","pick","USER_ICP_WRITABLE_FIELDS","COMPANY_ICP_WRITABLE_FIELDS",function(e,n,o,t,a,i,s,r,l,c){var u={};u.init=function(){var n=e.$on("risevision.company.selectedCompanyChanged",function(){n(),m()})};var p=function(e){var t=e.company,s=e.user,u=t.id,p=s.username;s.dataCollectionDate=new Date,t=r(t,c),s=r(s,l);var d=a(u,t),m=i(p,s);n.all([d,m]).then(function(){o.debug("User & Company Profiles updated")})},d=function(e){i(e.username,{dataCollectionDate:new Date}).then(function(){o.debug("User Data Collection Date updated")})},m=function(){var e=t.getCopyOfProfile(!0),n=t.getCopyOfUserCompany(!0),o=new Date(e.dataCollectionDate||e.creationDate),a=new Date;if(a.setDate(a.getDate()-14),t.isUserAdmin()&&!t.isSubcompanySelected()&&!(o.getTime()>=a.getTime()||e.companyRole&&e.email&&n.name&&n.companySize&&n.companyIndustry)){var i=s.open({templateUrl:"company-icp-modal.html",controller:"CompanyIcpModalCtrl",size:"lg",backdrop:!0,resolve:{user:function(){return e},company:function(){return n}}});i.result.then(function(e,n){p(e,n)},function(e){d(e)})}};return u}]),angular.module("risevision.common.cookie",["risevision.common.config"]).service("cookieTester",["$q","$document","$http","COOKIE_CHECK_URL",function(e,n,o,t){var a={};return a.checkCookies=function(){var n=e.defer();return e.all([a.checkLocalCookiePermission(),a.checkThirdPartyCookiePermission()]).then(function(){n.resolve()},function(){n.reject()}),n.promise},a.checkLocalCookiePermission=function(){return n[0].cookie="rv-test-local-cookie=yes",n[0].cookie.indexOf("rv-test-local-cookie")>-1?e.when(!0):e.reject(!1)},a.checkThirdPartyCookiePermission=function(){var n=e.defer();return o.get(t+"/createThirdPartyCookie",{withCredentials:!0}).then(function(){return o.get(t+"/checkThirdPartyCookie",{withCredentials:!0})}).then(function(e){"true"===e.data.check?n.resolve(!0):n.reject(!1)}).then(null,function(){n.resolve(!1)}),n.promise},a}]),angular.module("risevision.store.data-gadgets",[]).service("gadgetsService",["$q",function(e){this.closeIFrame=function(){var n=e.defer();return gadgets.rpc.call("","rscmd_closeSettings",function(){n.resolve(!0)}),n.promise},this.sendProductCode=function(n){var o=e.defer(),t={params:n};return gadgets.rpc.call("","rscmd_saveSettings",function(){o.resolve(!0)},t),o.promise}}]),angular.module("risevision.common.geodata",[]).value("REGIONS_CA",[["Alberta","AB"],["British Columbia","BC"],["Manitoba","MB"],["New Brunswick","NB"],["Newfoundland and Labrador","NL"],["Northwest Territories","NT"],["Nova Scotia","NS"],["Nunavut","NU"],["Ontario","ON"],["Prince Edward Island","PE"],["Quebec","QC"],["Saskatchewan","SK"],["Yukon Territory","YT"]]).value("REGIONS_US",[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["District of Columbia","DC"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]]).value("TIMEZONES",[["(GMT -12:00) International Dateline West","-720"],["(GMT -11:00) Midway Island, Samoa","-660"],["(GMT -10:00) Hawaii","-600"],["(GMT -09:00) Alaska","-540"],["(GMT -08:00) Pacific Time (US & Canada], Tijuana","-480"],["(GMT -07:00) Mountain Time (US & Canada)","-420"],["(GMT -06:00) Central Time (US & Canada)","-360"],["(GMT -05:00) Eastern Time (US & Canada)","-300"],["(GMT -04:00) Atlantic Time (Canada)","-240"],["(GMT -03:30) NewfoundLand Time (Canada)","-210"],["(GMT -03:00) Buenos Aires, Georgetown","-180"],["(GMT -02:00) Mid-Atlantic","-120"],["(GMT -01:00) Cape Verde Is.","-60"],["(GMT  00:00) Dublin, Edinburgh, Lisbon, London","0"],["(GMT +01:00) Amsterdam, Berlin, Bern, Rome, Paris, Stockholm, Vienna","60"],["(GMT +02:00) Athens, Bucharest, Istanbul, Minsk","120"],["(GMT +03:00) Moscow, St. Petersburg, Volgograd","180"],["(GMT +03:30) Tehran","210"],["(GMT +04:00) Abu Dhabi, Muscat","240"],["(GMT +04:30) Kabul","270"],["(GMT +05:00) Islamabad, Karachi, Tashkent","300"],["(GMT +05:30) Calcutta, Chennai, Mumbai,New Delhi","330"],["(GMT +05:45) Kathmandu","345"],["(GMT +06:00) Astana,Almaty, Dhaka, Novosibirsk","360"],["(GMT +06:30) Rangoon (Yangon, Burma)","390"],["(GMT +07:00) Bangkok, Hanoi, Jakarta","420"],["(GMT +08:00) Beijing, Chongqing, Hong Kong, Urumqi","480"],["(GMT +09:00) Osaka, Sapporo, Tokyo","540"],["(GMT +09:30) Adelaide, Darwin","570"],["(GMT +10:00) Canberra, Melbourne, Sydney, Vladvostok","600"],["(GMT +11:00) Magadan, Solomon Is., New Caledonia","660"],["(GMT +12:00) Auckland, Fiji, Kamchatka, Marshall Is.","720"],["(GMT +13:00) Nuku'alofa","780"]]),
function(e){"use strict";e.module("risevision.common.registration",["risevision.common.components.userstate","risevision.core.userprofile","risevision.common.gapi"]).config(["uiStatusDependencies",function(e){e.addDependencies({registeredAsRiseVisionUser:"signedInWithGoogle",registrationComplete:["notLoggedIn","registeredAsRiseVisionUser"]}),e.setMaximumRetryCount("signedInWithGoogle",1)}]).factory("signedInWithGoogle",["$q","userState",function(e,n){return function(){var o=e.defer();return n.isLoggedIn()?o.resolve():o.reject("signedInWithGoogle"),o.promise}}]).factory("notLoggedIn",["$q","$log","signedInWithGoogle",function(e,n,o){return function(){var n=e.defer();return o().then(function(){n.reject("notLoggedIn")},n.resolve),n.promise}}]).factory("registeredAsRiseVisionUser",["$q","getUserProfile","cookieStore","$log","userState",function(n,o,t,a,i){return function(){var s=n.defer();return o(i.getUsername()).then(function(n){e.isDefined(n.email)&&e.isDefined(n.mailSyncEnabled)?s.resolve(n):t.get("surpressRegistration")?s.resolve({}):s.reject("registeredAsRiseVisionUser")},function(e){e&&403===e.code?t.get("surpressRegistration")?s.resolve({}):(a.debug("registeredAsRiseVisionUser rejected",e),s.reject("registeredAsRiseVisionUser")):s.reject()}),s.promise}}])}(angular),function(e){"use strict";e.module("risevision.common.shoppingcart",["risevision.common.gapi","risevision.common.components.userstate"]).factory("shoppingCart",["storeAPILoader","$log","$q","userState",function(n,o,t,a){var i=[],s={items:i,useBillToAddress:!1,shipToAttention:"",couponCode:""},r=function(){var e=t.defer();return a.isLoggedIn()?n().then(function(n){var t={id:a.getUsername()},i=n.cart.get(t);i.execute(function(n){n.error?(o.warn("Error loading cart items. Error: "+n.error),e.resolve()):(u(),p(n.items),s.useBillToAddress=n.useBillToAddress,s.shipToAttention=n.shipToAttention?n.shipToAttention:"",s.couponCode=n.couponCode,e.resolve())})}):(u(),e.resolve()),e.promise},l=function(){var e=t.defer();return a.isLoggedIn()&&n().then(function(n){try{var t={data:{jsonItems:m(i),shipToAttention:s.shipToAttention,useBillToAddress:s.useBillToAddress,couponCode:s.couponCode}},a=n.cart.put(t);a.execute(function(n){n.error?(o.warn("Error persisting cart items. Error: "+n.error),e.resolve()):e.resolve()})}catch(r){e.resolve(),console.error("[persistToStorage] - Unimplemented API method "+r.message)}}),e.promise},c=function(){s.useBillToAddress=!1,s.shipToAttention="",s.couponCode="",u()},u=function(){for(;i.length>0;)i.pop()},p=function(e){if(e)for(var n=0;n<e.length;n++)i.push(e[n])},d=function(e){for(var n,o=[],t=0;t<e.length;t++)n={productId:e[t].productId,qty:e[t].qty,accountingId:e[t].selected.accountingId,licensedDisplays:e[t].licensedDisplays},o.push(n);return o},m=function(e){var n=d(e);return JSON.stringify(n)},g=null,v=null,f={get:function(){if(null!==g&&a.checkUsername(v))return g;v=a.getUsername(),c(),g=t.defer();var e=g;return r().then(function(){e.resolve(s)}),e},clear:function(){u(),l(),o.debug("Shopping cart cleared.")},getItems:function(){return i},setItems:function(e){return o.debug("Setting cart items",e),e!==i&&(u(),p(e)),l()},getShipToAttention:function(){return s.shipToAttention},getUseBillToAddress:function(){return s.useBillToAddress},setAddressFields:function(e,n){return s.shipToAttention=e,s.useBillToAddress=n,l()},getCouponCode:function(){return s.couponCode},setCouponCode:function(e){return o.debug("Setting coupon code",e),s.couponCode=e,l()},getItemCount:function(){return null!==i?i.length:0},removeItem:function(e){if(e){for(var n=0;n<i.length;n++)if(i[n].productId===e.productId){i.splice(n,1);break}l()}},adjustItemQuantity:function(e,n){e&&$.isNumeric(n)&&n>0&&l()},addItem:function(n,o,t){if(a.isRiseVisionUser()){var s=this.findItem(n);(!s||"Subscription"!==n.paymentTerms&&"Metered"!==n.paymentTerms)&&n&&$.isNumeric(o)&&n.orderedPricing.length>t&&(s?s.qty=parseInt(s.qty)+parseInt(o):(s=e.copy(n),s.qty=o,i.push(s)),s.selected=n.orderedPricing[t],l())}},findItem:function(e){if(e)for(var n=0;n<i.length;n++)if(e.productId===i[n].productId)return i[n];return null},itemExists:function(e){return!(!a.isRiseVisionUser()||!e||null===this.findItem(e))}};return f}])}(angular),function(e){"use strict";e.module("risevision.common.systemmessages",[]).factory("systemMessages",["$log","$q",function(n,o){function t(e,o){n.debug("pushing message",e),o.push(e)}var a=[],i=[];return a.addMessages=function(n){n&&n instanceof Array&&(n=function(n){var o=[],t=new Date;return e.forEach(n,function(e){var n=new Date(e.endDate||"2199-12-31"),a=new Date(e.startDate||0);n.setDate(n.getDate()+1),t>a&&t<n&&o.push(e)}),o}(n),n.forEach(function(e){var n=!1;a.forEach(function(o){o.text===e.text&&(n=!0)}),n||t(e,a)}),a.sort(function(e,n){return!e.startDate||e.startDate>n.startDate?1:e.startDate&&e.startDate===n.startDate?0:-1}).reverse())},a.clear=function(){a.length=0,n.debug("System message cleared.")},a.registerRetriever=function(e){i.push(e)},a.resetAndGetMessages=function(){a.clear();var e=i.map(function(e){return e.call()});return o.all(e).then(function(e){e.forEach(a.addMessages)})},a}])}(angular),function(e){"use strict";e.module("risevision.common.support",["risevision.common.components.subscription-status"]).value("ZENDESK_WEB_WIDGET_SCRIPT",'window.zE||(function(e,t,s){var n=window.zE=window.zEmbed=function(){n._.push(arguments)},a=n.s=e.createElement(t),r=e.getElementsByTagName(t)[0];n.set=function(e){n.set._.push(e)},n._=[],n.set._=[],a.async=true,a.setAttribute("charset","utf-8"),a.src="https://static.zdassets.com/ekr/asset_composer.js?key="+s,n.t=+new Date,a.type="text/javascript",r.parentNode.insertBefore(a,r)})(document,"script","b8d6bdba-10ea-4b88-b96c-9d3905b85d8f");').factory("zendesk",["getSupportSubscriptionStatus","segmentAnalytics","userState","$window","$q","$location","ZENDESK_WEB_WIDGET_SCRIPT",function(e,n,o,t,a,i,s){function r(){if(!b){t.zESettings={webWidget:{helpCenter:{title:{"*":"Help"},searchPlaceholder:{"*":"How can we help?"},messageButton:{"*":"Open a Support Ticket"}},chat:{suppress:!0},contactForm:{title:{"*":"Open a Support Ticket"}}}};var e=t.document.createElement("script");e.innerText=s,t.document.body.appendChild(e),b=!0,v()}return a.when()}function l(){var s=a.defer();return t.zE(function(){var t=o.getUsername(),a={email:o.getUserEmail(),rise_vision_company_id:o.getUserCompanyId()};e().then(function(e){e&&"subscribed"===e.statusCode?i.search("cHJpb3JpdHktc3VwcG9ydA",1):i.search("cHJpb3JpdHktc3VwcG9ydA",null),n.identify(t,a),s.resolve()})["catch"](function(e){console.log("Error getting subscription status",e),s.reject()})}),s.promise}function c(){return r().then(l).then(u)}function u(){var e=o.getUsername();if(h!==e){var n={email:e,name:o.getUserFullName()};e&&t.zE(function(){t.zE.identify(n)}),h=e}p()}function p(){y("iframe[class^=zEWidget]").contents().find(".Container").css("border","1px solid #4ab767")}function d(){h=""}function m(){t.zE&&t.zE(function(){t.zE.setHelpCenterSuggestions({url:!0})})}function g(){t.zE&&t.zE(function(){t.zE.show()})}function v(){t.zE&&t.zE(function(){t.zE.hide()})}function f(){t.zE&&t.zE(function(){t.zE.activate()})}var b=!1,h="",y=t.$;return{initializeWidget:c,displayButton:g,hideWidget:v,activateWidget:f,enableSuggestions:m,logout:d}}]).factory("getSupportSubscriptionStatus",["SUPPORT_PRODUCT_CODE","userState","$q","subscriptionStatusService","$log",function(e,n,o,t,a){return function(){var i=o.defer();return e&&n.getSelectedCompanyId()?t.get(e,n.getSelectedCompanyId()).then(function(e){a.debug("subscriptionStatus",e),i.resolve(e)},function(e){a.debug("Could not retrieve a subscription status",e),i.reject(e)}):i.reject(),i.promise}}]).run(["$rootScope","$window","userState","userAuthFactory","zendesk","ZENDESK_WEB_WIDGET_SCRIPT",function(e,n,o,t,a,i){function s(){l&&(a.hideWidget(),l=!1)}function r(){setTimeout(function(){a.logout(),a.displayButton(),l=!0},2e3)}var l=!1;i&&(a.initializeWidget(),t.authenticate().then(function(){o.isLoggedIn()||r()})["catch"](function(){r()}),e.$on("risevision.user.authorized",function(){a.initializeWidget(),s()}),e.$on("risevision.user.signedOut",function(){r()}),e.$on("$stateChangeStart",function(){a.enableSuggestions()}))}])}(angular);try{angular.module("risevision.common.i18n.config")}catch(err){angular.module("risevision.common.i18n.config",[])}angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,n){function o(e,t){n(angular.extend({url:[e.prefix,e.key.toLowerCase(),e.suffix].join(""),method:"GET",params:""},e.$http)).then(function(e){t.resolve(e.data)},function(){if(e.key.indexOf("_")>=0){var n=e.key.substr(0,e.key.lastIndexOf("_")),a=angular.extend({},e,{key:n});o(a,t)}else t.resolve("{}")})}return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var t=e.defer();return o(n,t),t.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(e,n,o){e.useStaticFilesLoader({prefix:n,suffix:o}),e.determinePreferredLanguage().fallbackLanguage("en").useSanitizeValueStrategy(null)}]);var gapiLoadingStatus=null,handleClientJSLoad=function(){gapiLoadingStatus="loaded",console.debug("ClientJS is loaded.");var e=document.createEvent("Events");e.initEvent("gapi.loaded",!0,!0),window.dispatchEvent(e)};angular.module("risevision.common.gapi",["risevision.common.components.util"]).value("CLIENT_ID","614513768474.apps.googleusercontent.com").value("OAUTH2_SCOPES","profile").factory("gapiLoader",["$q","$window",function(e,n){var o=e.defer();return function(){var e;if("loaded"===n.gapiLoadingStatus)o.resolve(n.gapi);else if(!n.gapiLoadingStatus){n.gapiLoadingStatus="loading";var t=n.gapiSrc||"//apis.google.com/js/client.js?onload=handleClientJSLoad",a=document.createElement("script");a.setAttribute("type","text/javascript"),a.setAttribute("src",t),"undefined"!=typeof a&&document.getElementsByTagName("body")[0].appendChild(a),e=function(){o.resolve(n.gapi),n.removeEventListener("gapi.loaded",e,!1)},n.addEventListener("gapi.loaded",e,!1)}return o.promise}}]).factory("auth2APILoader",["$q","$log","$location","$window","gapiLoader","getBaseDomain","CLIENT_ID","OAUTH2_SCOPES",function(e,n,o,t,a,i,s,r){return function(){var l=e.defer();return a().then(function(e){e.auth2&&e.auth2.getAuthInstance()?l.resolve(e.auth2):e.load("auth2",function(){if(e.auth2)e.auth2.init({client_id:s,scope:r,cookie_policy:o.protocol()+"://"+i()+(t.location.port?":"+t.location.port:"")}).then(function(){n.debug("auth2 API Loaded"),l.resolve(e.auth2)},function(){var e="auth2 GoogleAuth Init Failed";n.error(e),l.reject(e)});else{var a="auth2 API Load Failed";n.error(a),l.reject(a)}})}),l.promise}}]).factory("clientAPILoader",["$q","$log","gapiLoader",function(e,n,o){return function(){var t=e.defer();return o().then(function(e){e.client?t.resolve(e):e.load("client",function(){if(e.client)n.debug("client API Loaded"),t.resolve(e);else{var o="client API Load Failed";n.error(o),t.reject(o)}})}),t.promise}}]).factory("gapiClientLoaderGenerator",["$q","$log","$timeout","$http","clientAPILoader",function(e,n,o,t,a){return function(i,s,r){return function(){var l=e.defer();return a().then(function(e){e.client[i]?l.resolve(e.client[i]):(e.client.load(i,s,function(){if(e.client[i])n.debug(i+"."+s+" Loaded"),l.resolve(e.client[i]);else{var o=i+"."+s+" Load Failed";n.error(o),l.reject(o)}},r),o(function(){r&&!e.client[i]&&t({url:r,method:"GET"})["catch"](function(e){if(e&&404!==e.status&&(e.status<200||e.status>=400)){var o=i+" ("+r+") failed to respond";n.error(o,e),l.reject({status:-1,result:{error:{code:-1,message:o,error:e}}})}})},1e4))}),l.promise}}}]).factory("oauth2APILoader",["gapiClientLoaderGenerator",function(e){return e("oauth2","v2")}]).factory("coreAPILoader",["CORE_URL","gapiClientLoaderGenerator","$location",function(e,n,o){var t=o.search().core_api_base_url?o.search().core_api_base_url+"/_ah/api":e;return n("core","v1",t)}]).factory("riseAPILoader",["CORE_URL","gapiClientLoaderGenerator","$location",function(e,n,o){var t=o.search().core_api_base_url?o.search().core_api_base_url+"/_ah/api":e;return n("rise","v0",t)}]).factory("storeAPILoader",["STORE_ENDPOINT_URL","gapiClientLoaderGenerator","$location",function(e,n,o){var t=o.search().store_api_base_url?o.search().store_api_base_url+"/_ah/api":e;return n("store","v0.01",t)}]).factory("storageAPILoader",["STORAGE_ENDPOINT_URL","gapiClientLoaderGenerator","$location",function(e,n,o){var t=o.search().storage_api_base_url?o.search().storage_api_base_url+"/_ah/api":e;return n("storage","v0.02",t)}]).factory("discoveryAPILoader",["CORE_URL","gapiClientLoaderGenerator","$location",function(e,n,o){var t=o.search().core_api_base_url?o.search().core_api_base_url+"/_ah/api":e;return n("discovery","v1",t)}]).factory("monitoringAPILoader",["MONITORING_SERVICE_URL","gapiClientLoaderGenerator","$location",function(e,n,o){var t=o.search().core_api_base_url?o.search().core_api_base_url+"/_ah/api":e;return n("monitoring","v0",t)}]),function(e){"use strict";e.module("risevision.common.components.util",[]).value("humanReadableError",function(e){var n;return n=e.message?e.message:e.error?e.error.message?e.error.message:e.error:e,JSON.stringify(n)}).factory("dateIsInRange",[function(){return function(e,n,o){var t,a,i=!0;try{n&&(t=n.match(/(\d{4})\-(\d{2})\-(\d{2})/),a=new Date(t[1],parseInt(t[2])-1,t[3],0,0,0,0),i=e>=a),i&&o&&(t=o.match(/(\d{4})\-(\d{2})\-(\d{2})/),a=new Date(t[1],parseInt(t[2])-1,t[3],0,0,0,0),i=e<=a)}catch(s){i=!1}return i}}]).factory("objectHelper",[function(){var n={};return n.follow=function(e){var n=function(){};return n.prototype=e,new n},n.clearObj=function(e){for(var n in e)delete e[n]},n.clearAndCopy=function(o,t){n.clearObj(t),e.extend(t,o)},n}]).factory("getBaseDomain",["$log","$location",function(e,n){var o=function(e){return!!/^([0-9])+\.([0-9])+\.([0-9])+\.([0-9])+$/.test(e)};return function(){var t;if(!t){var a=n.host();if(o(a))t=a;else{var i=a.split(".");t=i.length>1?"appspot"===i[i.length-2]?i.slice(i.length-3).join("."):i.slice(i.length-2).join("."):a}e.debug("baseDomain",t)}return t}}])}(angular),angular.module("risevision.common.apis",["risevision.common.gapi"]).factory("listApis",["$q","discoveryAPILoader","$log",function(e,n,o){return function(t,a){o.debug("listApis called",t,a);var i=e.defer();return n().then(function(e){var n={};t&&(n.name=t),a&&(n.preferred=a);var s=e.apis.list(n);s.execute(function(e){o.debug("listApis resp",e),e.result?i.resolve(e.items):i.reject(e)})}),i.promise}}]).factory("getRest",["$q","discoveryAPILoader","$log",function(e,n,o){return function(t,a){o.debug("getRest called",t,a);var i=e.defer();return n().then(function(e){var n={};t&&(n.api=t),a&&(n.version=a);var s=e.apis.getRest(n);s.execute(function(e){o.debug("getRest resp",e),e.result?i.resolve(e):i.reject(e)})}),i.promise}}]),angular.module("risevision.common.app",["risevision.common.gapi","risevision.core.util"]).constant("APP_WRITABLE_FIELDS",["name","description","clientId","url"]).factory("listApps",["$q","riseAPILoader","$log",function(e,n,o){return function(t){o.debug("listApps called",t);var a=e.defer();return n().then(function(e){var n={};t&&(n.companyId=t);var i=e.app.list(n);i.execute(function(e){o.debug("listApps resp",e),e.result?a.resolve(e.items):a.reject(e)})}),a.promise}}]).factory("getApp",["$q","riseAPILoader","$log",function(e,n,o){return function(t){o.debug("getApp called",t);var a=e.defer();return n().then(function(e){var n={};t&&(n.id=t);var i=e.app.get(n);i.execute(function(e){o.debug("getApp resp",e),e.result?a.resolve(e.item):a.reject(e)})}),a.promise}}]).factory("createApp",["$q","riseAPILoader","$log","pick","APP_WRITABLE_FIELDS",function(e,n,o,t,a){return function(i,s,r){o.debug("createApp called",i,s,r);var l=e.defer();return n().then(function(e){var n=t.apply(this,[r].concat(a)),o=e.app.add({companyId:i,userId:s,data:JSON.stringify(n)});o.execute(function(e){e.result?l.resolve(e.item):l.reject(e)},l.reject)}),l.promise}}]).factory("updateApp",["$q","riseAPILoader","$log","pick","APP_WRITABLE_FIELDS",function(e,n,o,t,a){return function(i,s){o.debug("updateApp called",i,s);var r=e.defer();return n().then(function(e){var n=t.apply(this,[s].concat(a)),o=e.app.update({id:i,data:JSON.stringify(n)});o.execute(function(e){e.result?r.resolve(e.item):r.reject(e)},r.reject)}),r.promise}}]).factory("deleteApp",["$q","riseAPILoader","$log",function(e,n,o){return function(t){o.debug("deleteApp called",t);var a=e.defer();return n().then(function(e){var n={};t&&(n.id=t);var i=e.app["delete"](n);i.execute(function(e){o.debug("deleteApp resp",e),e.result?a.resolve(e.item):a.reject(e)})}),a.promise}}]),function(e){"use strict";e.module("risevision.core.cache",[]).factory("userInfoCache",["$cacheFactory",function(e){return e("user-info-cache")}])}(angular),angular.module("risevision.common.core.endpoint",["risevision.common.gapi"]).factory("callEndpoint",["coreAPILoader","$q","$log",function(coreAPILoader,$q,$log){return function(method,criteria){$log.debug("Endpoint called",method,criteria);var deferred=$q.defer();return coreAPILoader().then(function(core){var request=eval(method)(criteria);request.execute(function(e){$log.debug("Endpoint resp",e),e.result?deferred.resolve(e):deferred.reject(e)})}),deferred.promise}}]),function(e){"use strict";e.module("risevision.core.company",["risevision.common.gapi","risevision.core.cache","risevision.core.util"]).constant("COMPANY_WRITABLE_FIELDS",["name","street","unit","city","province","country","postalCode","timeZoneOffset","telephone","fax","companyStatus","mailSyncEnabled","sellerId","isTest","shipToUseCompanyAddress","shipToName","shipToStreet","shipToUnit","shipToCity","shipToProvince","shipToPostalCode","shipToCountry","website","companySize","companyIndustry"]).constant("ALERTS_WRITABLE_FIELDS",["alertSettings"]).constant("COMPANY_SEARCH_FIELDS",["name","id","street","unit","city","province","country","postalCode","telephone","fax","shipToName","shipToStreet","shipToCity","shipToPostalCode"]).factory("company",["$q","$log","coreAPILoader","pick","ALERTS_WRITABLE_FIELDS",function(e,n,o,t,a){var i={updateAlerts:function(i,s){var r=e.defer(),l=t.apply(this,[s].concat(a)),c={id:i,data:l};return n.debug("updateAlerts called",i,l),o().then(function(e){return e.company.patch(c)}).then(function(e){n.debug("update Alerts resp",e),r.resolve(e.result)}).then(null,function(e){n.error("Failed to update Alerts.",e),r.reject(e)}),r.promise}};return i}]).factory("createCompany",["$q","coreAPILoader","COMPANY_WRITABLE_FIELDS","pick",function(e,n,o,t){return function(a,i){var s=e.defer();return n().then(function(e){var n=t.apply(this,[i].concat(o)),r=e.company.add({parentId:a,data:n});r.execute(function(e){e.result?s.resolve(e.item):s.reject(e)},s.reject)}),s.promise}}]).factory("getCompany",["coreAPILoader","$q","$log",function(e,n,o){return function(t){o.debug("getCompany called",t);var a=n.defer();return e().then(function(e){var n={};t&&(n.id=t);var i=e.company.get(n);i.execute(function(e){o.debug("getCompany resp",e),e.result?a.resolve(e.item):a.reject(e)})}),a.promise}}]).factory("lookupCompany",["coreAPILoader","$q","$log",function(e,n,o){return function(t){o.debug("lookupCompany called",t);var a=n.defer();return e().then(function(e){var n=e.company.lookup({authKey:t});n.execute(function(e){o.debug("lookupCompany resp",e),e.result?a.resolve(e.item):a.reject(e)})}),a.promise}}]).factory("moveCompany",["coreAPILoader","$q","$log",function(e,n,o){return function(t,a){var i=n.defer();return e().then(function(e){var n=e.company.move({authKey:t,newParentId:a});n.execute(function(e){o.debug("moveCompany resp",e),e.result?i.resolve(e.item):i.reject(e)})}),i.promise}}]).factory("updateCompany",["$q","$log","coreAPILoader","pick","COMPANY_WRITABLE_FIELDS",function(e,n,o,t,a){return function(i,s){var r=e.defer();return s=t.apply(this,[s].concat(a)),n.debug("updateCompany called",i,s),o().then(function(e){var o=e.company.patch({id:i,data:s});o.execute(function(e){n.debug("updateCompany resp",e),e.result?r.resolve(e):r.reject(e)})}),r.promise}}]).factory("regenerateCompanyField",["$q","$log","coreAPILoader",function(e,n,o){return function(t,a){var i=e.defer();return n.debug("regenerateField called",t,a),o().then(function(e){var o=e.company.regenerateField({id:t,fieldName:a});o.execute(function(e){n.debug("regenerateField resp",e),e.error?i.reject(e.message):i.resolve(e)},function(e){i.reject("call failed "+e)})}),i.promise}}]).factory("deleteCompany",["coreAPILoader","$q","$log",function(e,n,o){return function(t){o.debug("deleteCompany called",t);var a=n.defer();return e().then(function(e){var n={};t&&(n.id=t);var i=e.company["delete"](n);i.execute(function(e){o.debug("deleteCompany resp",e),e.result?a.resolve(e.item):a.reject(e)})}),a.promise}}]).service("companyService",["coreAPILoader","$q","$log","getCompany","COMPANY_SEARCH_FIELDS",function(e,n,o,t,a){var i=function(e,n){for(var o="",t=0;t<e.length;t++)o+="OR "+e[t]+":~'"+n+"' ";return o=o?o.substring(3):"",o.trim()};this.getCompanies=function(t,s,r,l,c){var u=n.defer(),p=s?i(a,s):"",d={companyId:t,search:p,cursor:r,count:l,sort:c};return o.debug("getCompanies called with",d),e().then(function(e){var n=e.company.list(d);n.execute(function(e){o.debug("getCompanies resp",e),u.resolve(e)})}),u.promise},this.loadSelectedCompany=function(e,o){var a=n.defer();return e&&e!==o.id?t(e).then(function(e){0===e.code&&e.item?a.resolve(e.item):a.resolve(o)}):a.resolve(o),a.promise}}]).factory("enableCompanyProduct",["$q","$log","coreAPILoader",function(e,n,o){return function(t,a,i){var s=e.defer();return n.debug("enableCompanyProduct called",t,a,i),o().then(function(e){var o=e.company.enableProduct({id:t,productCode:a,data:i});o.execute(function(e){n.debug("enableCompanyProduct resp",e),e.result?s.resolve(e):s.reject(e)})}),s.promise}}]).filter("fullAddress",function(){return function(e){var n=(e.street?e.street+", ":"")+(e.city?e.city+", ":"")+(e.province?e.province+", ":"")+(e.country?e.country+", ":"")+(e.postalCode?e.postalCode+", ":"");return n&&(n=n.substr(0,n.length-2)),n}})}(angular),function(e){"use strict";e.module("risevision.core.util",[]).factory("pick",function(){var n=Array.prototype,o=n.slice,t=n.concat,a=function(e,n,o){if(void 0===n)return e;switch(null===o?3:o){case 1:return function(o){return e.call(n,o)};case 2:return function(o,t){return e.call(n,o,t)};case 3:return function(o,t,a){return e.call(n,o,t,a)};case 4:return function(o,t,a,i){return e.call(n,o,t,a,i)}}return function(){return e.apply(n,arguments)}};return function(n,i,s){var r,l={};if(null===n)return l;if(e.isFunction(i)){i=a(i,s);for(r in n){var c=n[r];i(c,r,n)&&(l[r]=c)}}else{var u=t.apply([],o.call(arguments,1));n=new Object(n);for(var p=0,d=u.length;p<d;p++)r=u[p],r in n&&(l[r]=n[r])}return l}})}(angular),function(e){"use strict";e.module("risevision.core.countries",["risevision.common.gapi"]).factory("getCoreCountries",["coreAPILoader","$q","$log","$filter",function(e,n,o,t){var a;return function(){return a?a.promise:(a=n.defer(),e().then(function(e){return e.country.list()}).then(function(e){var n=e.result?e.result.items:[];n instanceof Array&&(n=t("orderBy")(n,"name")),a.resolve(n)}).then(null,function(e){o.debug("getCoreCountries failed",e),a.reject(e),a=null}),a.promise)}}]).factory("COUNTRIES",["getCoreCountries",function(e){var n=[];return e().then(function(e){Array.prototype.push.apply(n,e)}),n}])}(angular),function(e){"use strict";e.module("risevision.core.display",["risevision.common.gapi","risevision.core.cache","risevision.core.util"]).service("displayService",["coreAPILoader","$q","$log",function(e,n,o){this.list=function(t,a,i,s,r){var l=n.defer(),c={companyId:t,search:a,cursor:i,count:s,sort:r};return o.debug("list displays called with",c),e().then(function(e){var n=e.display.list(c);n.execute(function(e){o.debug("list displays resp",e),e.result?l.resolve(e.items):l.reject(e)})}),l.promise}}])}(angular),angular.module("risevision.common.fastpass",[]).factory("loadFastpass",["$q","$http","$document","$timeout","GSFP_URL","$log",function(e,n,o,t,a,i){var s=function(n){var t=e.defer(),a=o[0].createElement("script");return a.onload=a.onreadystatechange=function(e){t.resolve(e)},a.onerror=function(e){t.reject(e)},a.src=n,o&&o[0]&&o[0].body.appendChild(a),t.promise};return function(o,t){var r=e.defer();i.debug("loadFastpass called",o,t);var l=function(e){i.error("loadFastpass rejected",e),r.reject("loadFastpass rejected "+e)};return n.get(a+"/geturl?userEmail="+t+"&userName="+o).then(function(e){s(e.data).then(function(e){i.debug("loadFastpass result",e),r.resolve(!0)},l)["catch"](l)},r.reject),r.promise}}]),angular.module("risevision.common.monitoring.activity",["risevision.common.gapi"]).factory("getActivity",["$q","monitoringAPILoader","$log",function(e,n,o){return function(t,a){o.debug("getActivity called",t,a);var i=e.defer();return n().then(function(e){var n={};t&&(n.clientId=t),a&&(n.api=a);var s=e.activity.get(n);s.execute(function(e){o.debug("getActivity resp",e),e.result?i.resolve(e.result):i.reject(e)})},function(e){o.debug("Error: "+e),i.reject(e)}),i.promise}}]),function(e){"use strict";e.module("risevision.core.oauth2",["risevision.common.gapi","risevision.core.cache"]).factory("getOAuthUserInfo",["oauth2APILoader","$q","userInfoCache","$log",function(e,n,o,t){return function(){var a,i=n.defer();return(a=o.get("oauth2UserInfo"))?a.error?i.reject(a.error):i.resolve(a):e().then(function(e){e.userinfo.get().execute(function(e){t.debug("getOAuthUserInfo oauth2.userinfo.get() resp",e),e?e.hasOwnProperty("error")?(o.remove("oauth2UserInfo"),i.reject(e.error)):(o.put("oauth2UserInfo",e),i.resolve(e)):(o.remove("oauth2UserInfo"),i.reject())})},i.reject),i.promise}}])}(angular),function(e){"use strict";e.module("risevision.core.schedule",["risevision.common.gapi","risevision.core.cache","risevision.core.util"]).service("scheduleService",["coreAPILoader","$q","$log",function(e,n,o){this.list=function(t,a,i,s,r){var l=n.defer(),c={companyId:t,search:a,cursor:i,count:s,sort:r};return o.debug("getSchedules called with",c),e().then(function(e){var n=e.schedule.list(c);n.execute(function(e){o.debug("getSchedules resp",e),e.result?l.resolve(e.items):l.reject(e)})}),l.promise}}])}(angular),angular.module("risevision.store.authorization",["risevision.common.gapi"]).factory("storeAuthorization",["$q","$log","$http","STORE_SERVER_URL","userState",function(e,n,o,t,a){var i={};return i.check=function(i){var s=e.defer();return o({url:t+"/v1/widget/auth",method:"GET",params:{cid:a.getSelectedCompanyId(),pc:i,startTrial:!1}}).then(function(e){e.data.authorized?s.resolve(!0):s.reject(!1)},function(e){n.error("Failed to check store authorization.",e),s.reject(e)}),s.promise},i.startTrial=function(i){var s=e.defer(),r=a.getSelectedCompanyId(),l="/v1/product/"+i+"/company/"+r+"/trial/start";return o.get(t+l).then(function(e){e.error?s.reject(e):s.resolve(!0)},function(e){n.error("Failed to start trial.",e),s.reject(e)}),s.promise},i}]),function(){"use strict";angular.module("risevision.common.subscription-status",["risevision.common.gapi"]).service("subscriptionStatusService",["$http","$q","storeAPILoader","$log",function(e,n,o,t){function a(e,n){return Math.floor((n.getTime()-e.getTime())/r)}var i=["On Trial","Trial Expired","Subscribed","Suspended","Cancelled","Free","Not Subscribed","Product Not Found","Company Not Found","Error"],s=["on-trial","trial-expired","subscribed","suspended","cancelled","free","not-subscribed","product-not-found","company-not-found","error"],r=864e5;this.get=function(e,r){var l=n.defer(),c={companyId:r,productCodes:e};return o().then(function(e){var n=e.product.status(c);n.execute(function(e){if(t.debug("getProductStatus resp",e),e.result){var n=e.items[0];n.plural="";var o=i.indexOf(n.status);o>=0&&(n.statusCode=s[o]),""===n.status?(n.status="N/A",n.statusCode="na",n.subscribed=!1):n.status===i[0]||n.status===i[2]||n.status===i[5]?n.subscribed=!0:n.subscribed=!1,"not-subscribed"===n.statusCode&&n.trialPeriod&&n.trialPeriod>0&&(n.statusCode="trial-available",n.subscribed=!0),n.expiry&&"on-trial"===n.statusCode&&(n.expiry=new Date(n.expiry),n.expiry instanceof Date&&!isNaN(n.expiry.valueOf())&&(n.expiry=a(new Date,n.expiry)),0===n.expiry?n.plural="-zero":n.expiry>1&&(n.plural="-many")),l.resolve(n)}else l.reject(e)})}),l.promise}}])}(),function(e){"use strict";e.module("risevision.core.systemmessages",["risevision.common.gapi"]).factory("getCoreSystemMessages",["gapiLoader","$q","$log",function(e,n,o){return function(t){var a=n.defer();return e().then(function(e){var n=e.client.core.systemmessage.list({companyId:t});n.execute(function(e){var n=e;n instanceof Array||!n.items||(n=n.items),o.debug("getCoreSystemMessage resp",n),a.resolve(n)})}),a.promise}}])}(angular),function(e){"use strict";e.module("risevision.core.userprofile",["risevision.common.gapi","risevision.core.oauth2"]).value("userRoleMap",{ce:"Content Editor",cp:"Content Publisher",da:"Display Administrator",ua:"System Administrator",pu:"Store Purchaser",sa:"Rise System Administrator",ba:"Rise Store Administrator"}).constant("USER_WRITABLE_FIELDS",["mailSyncEnabled","email","firstName","lastName","telephone","roles","status","companyRole","dataCollectionDate"]).factory("getUserProfile",["oauth2APILoader","coreAPILoader","$q","$log",function(e,n,o,t){var a,i={};return function(s,r){var l;if(s===a&&!r&&null!==i[s])return i[s].promise;if(a=s,i[s]=l=o.defer(),s){var c={};s&&(c.username=s),t.debug("getUserProfile called",c),o.all([e(),n()]).then(function(e){var n=e[1];n.user.get(c).execute(function(e){e.error||!e.result?l.reject(e):(t.debug("getUser resp",e),l.resolve(e.item))})},l.reject)}else l.reject("getUserProfile failed: username param is required."),t.debug("getUserProfile failed: username param is required.");return l.promise}}]).factory("updateUser",["$q","coreAPILoader","$log","getUserProfile","pick","USER_WRITABLE_FIELDS",function(e,n,o,t,a,i){return function(s,r){var l=e.defer();return r=a(r,i),o.debug("updateUser called",s,r),n().then(function(e){var n=e.user.patch({username:s,data:r});n.execute(function(e){o.debug("updateUser resp",e),e.error?l.reject(e):e.result?t(s,!0).then(function(){l.resolve(e)}):l.reject("updateUser")})},l.reject),l.promise}}]).factory("addUser",["$q","coreAPILoader","$log","pick","getUserProfile",function(e,n,o,t,a){return function(i,s,r){var l=e.defer();return n().then(function(e){r=t(r,"mailSyncEnabled","email","firstName","lastName","telephone","roles","status");var n=e.user.add({username:s,companyId:i,data:r});n.execute(function(e){o.debug("addUser resp",e),e.result?a(s,!0).then(function(){l.resolve(e)}):l.reject(e)})}),l.promise}}]).factory("deleteUser",["$q","coreAPILoader","$log",function(e,n,o){return function(t){var a=e.defer();return n().then(function(e){var n=e.user["delete"]({username:t});n.execute(function(e){o.debug("deleteUser resp",e),e.result?a.resolve(e):a.reject("deleteUser")})}),a.promise}}]).factory("getUsers",["$q","coreAPILoader","$log",function(e,n,o){return function(t){o.debug("getUsers",t);var a=e.defer();return n().then(function(e){var n=e.user.list(t);n.execute(function(e){o.debug("getUsers resp",e),e.result?a.resolve(e.items):a.reject("getUsers")})},a.reject),a.promise}}])}(angular),angular.module("risevision.common.components.ui-flow",["LocalStorageModule"]).constant("uiStatusDependencies",{_dependencies:{},_retries:{},addDependencies:function(e){angular.extend(this._dependencies,e)},setMaximumRetryCount:function(e,n){if(n<1)throw"Retry count for "+e+" must be equal to or greater than 1.";void 0===this._retries[e]&&(this._retries[e]=n)}}),angular.module("risevision.common.components.ui-flow").factory("uiFlowManager",["$log","$q","$injector","uiStatusDependencies","$rootScope","localStorageService",function(e,n,o,t,a,i){
var s,r,l,c=null,u=t._dependencies,p=function(){return function(){var e=n.defer();return e.resolve(!0),e.promise}},d=function(n){var t;try{t=o.get(n)}catch(a){e.debug("Generating dummy status",n),t=p()}return t},m=function(o){var t;e.debug("Attempting to reach status",o,"...");var a=u[o];if(a){a instanceof Array||(a=[a]);var i=n.defer(),s=i;angular.forEach(a,function(a){var s=n.defer();i.promise.then(s.resolve,function(){m(a).then(function(){u[a]&&e.debug("Deps for status",a,"satisfied."),d(o)().then(function(){e.debug("Status",o,"satisfied."),s.resolve(!0)},function(){e.debug("Status",o,"not satisfied."),s.reject(o)})},function(n){u[a]?(e.debug("Failed to reach status",a," because its dependencies are not satisfied. Last rejected dep: ",n),s.reject(n)):s.reject(a)})}),t=i=s}),s.reject()}else t=n.defer(),d(o)().then(function(){e.debug("Termination status",o,"satisfied."),t.resolve(!0)},function(){e.debug("Termination status",o,"not satisfied."),t.reject(o)});return t.promise},g=!0,v=function(o){if(!o&&!r){var a=n.defer();return a.resolve(),a.promise}return!r&&g&&(r=o,c=angular.copy(t._retries),l=n.defer(),g=!1),r&&(l=n.defer(),m(r).then(function(e){r&&(s=r),l.resolve(e),r=null,g=!0},function(n){s=n,void 0!==c[n]&&(0===c[n]?(e.debug("Maximum allowed retries for status",n,"reached. Validation will cancel."),h()):c[n]--),g=!0,l.reject(n)})),l&&l.promise},f=function(e){return s="pendingCheck",v(e)},b=function(){i.set("risevision.ui-flow.state",{goalStatus:r,retriesLeft:c})},h=function(){s="",r="",c=null,g=!0,a.$broadcast("risevision.uiStatus.validationCancelled"),e.debug("UI status validation cancelled.")};if(i.get("risevision.ui-flow.state")){var y=i.get("risevision.ui-flow.state");y&&y.goalStatus&&(r=y.goalStatus,e.debug("uiFlowManager.goalStatus restored to",y.goalStatus,y.retriesLeft),c=y.retriesLeft,l=n.defer(),g=!1),i.remove("risevision.ui-flow.state")}var S={invalidateStatus:f,cancelValidation:h,getStatus:function(){return s},isStatusUndetermined:function(){return"pendingCheck"===s},persist:b};return S}]),function(e){"use strict";try{e.module("risevision.common.config")}catch(n){e.module("risevision.common.config",[])}e.module("risevision.common.config").value("ENABLE_EXTERNAL_LOGGING",!0).value("CORE_URL","https://rvaserver2.appspot.com/_ah/api"),e.module("risevision.common.components.logging",[]),e.module("risevision.common.components.rvtokenstore",["risevision.common.components.util","LocalStorageModule","ngBiscuit"]),e.module("risevision.common.components.userstate",["ui.router","angular-md5","risevision.common.components.ui-flow","risevision.common.components.util","risevision.common.components.rvtokenstore","risevision.common.components.logging","risevision.common.components.loading","risevision.common.config","risevision.common.gapi","LocalStorageModule","risevision.core.cache","risevision.core.oauth2","risevision.core.company","risevision.core.util","risevision.core.userprofile"]).config(["$urlRouterProvider","$stateProvider","$locationProvider",function(e,n,o){o.html5Mode(!0),o.hashPrefix("/"),e.otherwise("/"),n.state("common",{template:'<div class="app-launcher" ui-view></div>'}).state("common.googleresult",{url:"/:id_token&:client_id"}).state("common.auth",{"abstract":!0,templateProvider:["$templateCache",function(e){return e.get("userstate/auth-common.html")}]}).state("common.auth.unauthorized",{templateProvider:["$templateCache",function(e){return e.get("userstate/login.html")}],url:"/unauthorized/:state",controller:"LoginCtrl",params:{isSignUp:!1,passwordReset:null,accountConfirmed:null}}).state("common.auth.createaccount",{templateProvider:["$templateCache",function(e){return e.get("userstate/create-account.html")}],url:"/createaccount/:state",controller:"LoginCtrl",params:{isSignUp:!0,joinAccount:!1}}).state("common.auth.joinaccount",{templateProvider:["$templateCache",function(e){return e.get("userstate/create-account.html")}],url:"/joinaccount/:companyName",controller:"LoginCtrl",params:{isSignUp:!0,joinAccount:!0}}).state("common.auth.confirmaccount",{controller:"ConfirmAccountCtrl",template:"<div ui-view></div>",url:"/confirmaccount/:user/:token"}).state("common.auth.requestconfirmationemail",{templateProvider:["$templateCache",function(e){return e.get("userstate/request-confirmation-email.html")}],url:"/requestconfirmationemail",controller:"RequestConfirmationEmailCtrl"}).state("common.auth.requestpasswordreset",{templateProvider:["$templateCache",function(e){return e.get("userstate/request-password-reset.html")}],url:"/requestpasswordreset",controller:"RequestPasswordResetCtrl"}).state("common.auth.resetpassword",{templateProvider:["$templateCache",function(e){return e.get("userstate/reset-password-confirm.html")}],url:"/resetpassword/:user/:token",controller:"ResetPasswordConfirmCtrl"}).state("common.auth.unsubscribe",{templateProvider:["$templateCache",function(e){return e.get("userstate/unsubscribe.html")}],url:"/unsubscribe",controller:["$scope","$location",function(e,n){var o=n.path("/unsubscribe").search();e.email=o.email,e.id=o.id,e.name=o.name}]})}]).run(["$rootScope","$state","$stateParams","urlStateService","userState",function(e,n,o,t,a){a._restoreState(),e.$on("$stateChangeStart",function(e,o,t,a,i){!o||"common.auth.unauthorized"!==o.name&&"common.auth.unregistered"!==o.name&&"common.auth.createaccount"!==o.name||t.state||i.state&&(t.state=i.state,e.preventDefault(),n.go(o.name,t))}),e.$on("risevision.user.authorized",function(){var e=n.current.name;e.indexOf("common.auth")!==-1&&"common.auth.unsubscribe"!==e&&t.redirectToState(o.state)})}])}(angular),angular.module("risevision.common.components.userstate").factory("canAccessApps",["$q","$state","$location","userState","userAuthFactory","urlStateService",function(e,n,o,t,a,i){return function(s,r){var l=e.defer();return a.authenticate(!1).then(function(){return t.isRiseVisionUser()?void l.resolve():e.reject()}).then(null,function(){var e;t.isLoggedIn()?n.get("common.auth.unregistered")&&(e="common.auth.unregistered"):e=s?"common.auth.createaccount":"common.auth.unauthorized",e?(n.go(e,{state:i.get()},{reload:!0}),r||o.replace(),l.reject()):l.resolve()}),l.promise}}]),angular.module("risevision.common.components.logging").factory("bigQueryLogging",["externalLogging","userState",function(e,n){var o={};return o.logEvent=function(o,t,a,i,s){return e.logEvent(o,t,a,i||n.getUsername(),s||n.getSelectedCompanyId())},o}]),function(e){"use strict";e.module("risevision.common.components.userstate").factory("companyState",["$location","getCompany","objectHelper","$rootScope","$log","$q",function(n,o,t,a,i,s){var r,l={userCompany:{},selectedCompany:{}},c=function(){t.clearObj(l.selectedCompany),t.clearObj(l.userCompany),i.debug("Company state has been reset.")};n.search().cid&&(i.debug("cid",n.search().cid,"saved for later processing."),r=n.search().cid);var u=function(){var e=s.defer();return o().then(function(e){var n=m.getSelectedCompanyId()?m.getSelectedCompanyId():r;return t.clearAndCopy(e,l.userCompany),p(n)}).then(null,function(){m.resetCompany()})["finally"](function(){r=null,e.resolve(null)}),e.promise},p=function(e){var n=s.defer();return e&&e!==l.userCompany.id?o(e).then(function(e){t.clearAndCopy(e,l.selectedCompany),n.resolve(),a.$broadcast("risevision.company.selectedCompanyChanged")}).then(null,function(e){console.error("Failed to load selected company.",e),n.reject(e)}):(m.resetCompany(),n.resolve()),n.promise},d=function(){var e=s.defer();return o(l.selectedCompany.id).then(function(n){t.clearAndCopy(n,l.selectedCompany),e.resolve(),a.$broadcast("risevision.company.updated",{companyId:n.id})}).then(null,function(n){console.error("Failed to reload selected company.",n),e.reject(n)}),e.promise},m={init:u,switchCompany:p,reloadSelectedCompany:d,updateCompanySettings:function(e){e&&e.id===m.getSelectedCompanyId()&&t.clearAndCopy(e,l.selectedCompany),e&&e.id===m.getUserCompanyId()&&t.clearAndCopy(e,l.userCompany),a.$broadcast("risevision.company.updated",{companyId:e.id})},resetCompany:function(){t.clearAndCopy(l.userCompany,l.selectedCompany),a.$broadcast("risevision.company.selectedCompanyChanged")},resetCompanyState:c,getUserCompanyId:function(){return l.userCompany&&l.userCompany.id||null},getUserCompanyName:function(){return l.userCompany&&l.userCompany.name||null},getSelectedCompanyId:function(){return l.selectedCompany&&l.selectedCompany.id||null},getSelectedCompanyName:function(){return l.selectedCompany&&l.selectedCompany.name||null},getSelectedCompanyCountry:function(){return l.selectedCompany&&l.selectedCompany.country||null},getCopyOfUserCompany:function(n){return n?e.extend({},l.userCompany):t.follow(l.userCompany)},getCopyOfSelectedCompany:function(n){return n?e.extend({},l.selectedCompany):t.follow(l.selectedCompany)},isSubcompanySelected:function(){return l.selectedCompany&&l.selectedCompany.id!==(l.userCompany&&l.userCompany.id)},isTestCompanySelected:function(){return l.selectedCompany&&l.selectedCompany.isTest===!0},isSeller:function(){return!(!l.selectedCompany||!l.selectedCompany.sellerId)},isRootCompany:function(){return l.userCompany&&!l.userCompany.parentId}};return m}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").factory("customAuthFactory",["$q","$log","gapiLoader","userauth","userState",function(e,n,o,t,a){var i={};return i.authenticate=function(i){var s=e.defer(),r=a._state;return i&&i.username&&i.password?e.all([o(),t.login(i.username,i.password)]).then(function(e){var o=e[0],t=e[1]&&e[1].result;if(n.debug("JWT login result:",t),t&&t.item){var a={access_token:t.item,expires_in:"3600",token_type:"Bearer"};o.auth.setToken(a),s.resolve({email:i.username,token:a})}else s.reject("Invalid Auth Token (JWT)")}).then(null,function(e){s.reject(e)}):r.userToken&&r.userToken.token?o().then(function(e){e.auth.setToken(r.userToken.token),s.resolve(r.userToken)}):s.reject(),s.promise},i.addUser=function(n){var o=e.defer();return n&&n.username&&n.password?t.add(n.username,n.password).then(function(e){o.resolve(e)}).then(null,function(){o.reject()}):o.reject(),o.promise},i}])}(angular),angular.module("risevision.common.components.logging").constant("EXTERNAL_LOGGER_SERVICE_URL","https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Apps_Events/tables/TABLE_ID/insertAll").constant("EXTERNAL_LOGGER_REFRESH_URL","https://www.googleapis.com/oauth2/v3/token?client_id=1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com&client_secret=nlZyrcPLg6oEwO9f9Wfn29Wh&refresh_token=1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT&grant_type=refresh_token").factory("externalLogging",["$http","$window","$q","$log","EXTERNAL_LOGGER_REFRESH_URL","EXTERNAL_LOGGER_SERVICE_URL","ENABLE_EXTERNAL_LOGGING",function(e,n,o,t,a,i,s){var r,l,c={},u=function(){var e=new Date,n=e.getUTCFullYear(),o=e.getUTCMonth()+1,t=e.getUTCDate();return o<10&&(o="0"+o),t<10&&(t="0"+t),n.toString()+o.toString()+t.toString()},p={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:u(),rows:[{insertId:"",json:{event:"",event_details:"",event_value:0,host:"",ts:0,user_id:"",company_id:""}}]};return c.logEvent=function(a,r,l,u,d){if(t.debug("BQ log",a,r,l,u,d),s===!1)return void t.debug("External Logging DISABLED");var m=o.defer();return c.getToken().then(function(o){var s=JSON.parse(JSON.stringify(p)),c=i.replace("TABLE_ID","apps_events");s.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),s.rows[0].json.event=a,r&&(s.rows[0].json.event_details=r),l&&(s.rows[0].json.event_value=l),s.rows[0].json.user_id=u||"",s.rows[0].json.company_id=d||"",s.rows[0].json.host=n.location.hostname,s.rows[0].json.ts=(new Date).toISOString(),e.post(c,s,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}}).then(function(e){m.resolve(e)},function(e){t.debug("error posting to BQ",e),m.reject(e)})},function(e){t.debug("BQ token ERROR",e),m.reject(e)}),m.promise},c.getToken=function(){var n=o.defer();return r&&(new Date).getTime()-l<358e4?n.resolve(r):e.post(a).then(function(e){r=e.data.access_token,l=(new Date).getTime(),n.resolve(e.data.access_token)},function(){n.reject()}),n.promise},c}]),function(e){"use strict";e.module("risevision.common.components.userstate").factory("googleAuthFactory",["$rootScope","$q","$log","$window","$stateParams","auth2APILoader","getOAuthUserInfo","uiFlowManager","userState","urlStateService",function(e,n,o,t,a,i,s,r,l,c){var u=function(){var e=n.defer();return i().then(function(n){var t=n.getAuthInstance()&&n.getAuthInstance().isSignedIn.get();o.debug("auth2.isSignedIn result:",t),t?e.resolve(t):e.reject("Failed to authorize user (auth2)")}).then(null,e.reject),e.promise},p=function(){var e=n.defer();return u().then(s).then(function(n){l._state.redirectState&&(c.redirectToState(l._state.redirectState),delete l._state.redirectState),e.resolve(n)}).then(null,function(n){e.reject(n)}),e.promise},d=function(){return l._state.inRVAFrame||t.self!==t.top},m=function(){var o,s=n.defer(),u=a.state;e.redirectToRoot===!1?(o=t.location.href.substr(0,t.location.href.indexOf("#"))||t.location.href,u=c.clearStatePath(u)):o=t.location.origin+"/",l._state.redirectState=u,l._persistState(),r.persist();var m={response_type:"token",prompt:"select_account",ux_mode:d()?"popup":"redirect",redirect_uri:o};return i().then(function(e){return e.getAuthInstance().signIn(m)}).then(function(){d()?s.resolve(p()):s.resolve()}).then(null,function(e){s.reject(e)}),s.promise},g={authenticate:function(e){return e?m():p()}};return g}])}(angular),function(e){"use strict";e.module("risevision.common.components.rvtokenstore").value("TOKEN_STORE_KEY","rv-auth-object").service("rvTokenStore",["$log","$location","cookieStore","getBaseDomain","TOKEN_STORE_KEY",function(e,n,o,t,a){var i=function(){var e=o.get(a);try{return JSON.parse(e)}catch(n){return e}},s=function(e){var n=t();"localhost"===n?o.put(a,JSON.stringify(e),{path:"/"}):o.put(a,JSON.stringify(e),{domain:n,path:"/"})},r=function(){var e=t();"localhost"===e?o.remove(a,{path:"/"}):o.remove(a,{domain:e,path:"/"})},l={read:i,write:s,clear:r};return l}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").run(["$rootScope","userState","selectedCompanyUrlHandler",function(e,n,o){e.$on("risevision.company.selectedCompanyChanged",function(e){e&&o.updateUrl()}),e.$on("$stateChangeSuccess",o.updateSelectedCompanyFromUrl),e.$on("$routeChangeSuccess",o.updateSelectedCompanyFromUrl),e.$on("$locationChangeSuccess",o.locationChangeSuccess)}]).service("selectedCompanyUrlHandler",["$state","$stateParams","$location","userState",function(e,n,o,t){this.updateUrl=function(){var a=t.getSelectedCompanyId();a&&o.search().cid!==a&&!e.transition&&(n.cid=a,e.params.cid=a,o.search("cid",a))},this.updateSelectedCompanyFromUrl=function(){var a=o.search().cid;if(a&&t.getUserCompanyId()&&a!==t.getSelectedCompanyId())t.switchCompany(a);else if(!a&&t.getSelectedCompanyId()){var i=o.absUrl();n.cid=t.getSelectedCompanyId(),e.params.cid=t.getSelectedCompanyId(),o.search("cid",t.getSelectedCompanyId()),i===o.destUrl&&o.replace()}},this.locationChangeSuccess=function(e,n){o.destUrl=n}}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").factory("urlStateService",["$window","$location","userState",function(e,n,o){var t={};t.get=function(){var n,o,t;return n=e.location.pathname?e.location.pathname.substring(1):"",o=e.location.search,t=encodeURIComponent(JSON.stringify({p:n,u:e.location.hash,s:o}))};var a=function(e){var n={};try{n=JSON.parse(decodeURIComponent(e))}catch(o){}return n};return t.redirectToState=function(t){var i=a(t);i.u||!n.$$html5?i.p||i.s?(o._persistState(),e.location.replace(i.p+i.s+i.u)):e.location.hash=i.u:(i.p=i.p||"/",i.s=i.s||"",n.url(i.p+i.s),n.replace())},t.clearStatePath=function(e){var n=a(e);return n.p=void 0,n.s=void 0,encodeURIComponent(JSON.stringify(n))},t}])}(angular),function(e){"use strict";e.module("risevision.common.components.userstate").value("FORCE_GOOGLE_AUTH",!1).factory("userAuthFactory",["$q","$log","$location","$rootScope","$loading","$window","$document","auth2APILoader","objectHelper","rvTokenStore","externalLogging","userState","googleAuthFactory","customAuthFactory","FORCE_GOOGLE_AUTH",function(n,o,t,a,i,s,r,l,c,u,p,d,m,g,v){var f,b,h=d._state,y=!0,S=function(e){if(y){y=!1;try{var n=(new Date).getTime()-s.performance.timing.navigationStart;p.logEvent("page load time",e,n,d.getUsername(),d.getSelectedCompanyId())}catch(t){o.debug("Error logging load time")}}},C=function(e){h.userToken=e,u.write(h.userToken)},w=function(){},A=function(){o.debug("Clearing user token..."),w(),h.userToken=null,u.clear(),d._resetState()},I=function(){var n=u.read();e.equals(n,h.userToken)?h.userToken&&(b=null,R(!1)["finally"](function(){h.userToken||(o.error("Authentication Failed. User no longer signed in."),s.location.reload())})):(o.error("Authentication Failed. User token no longer matches stored token."),s.location.reload())},M=function(){var e,n=r[0];"undefined"!=typeof n.hidden?e="visibilityState":"undefined"!=typeof n.mozHidden?e="mozVisibilityState":"undefined"!=typeof n.msHidden?e="msVisibilityState":"undefined"!=typeof n.webkitHidden&&(e="webkitVisibilityState"),o.debug("visibility: "+n[e]),"visible"===n[e]&&I()},E=function(){var e,n=r[0];return"undefined"!=typeof n.hidden?e="visibilitychange":"undefined"!=typeof n.mozHidden?e="mozvisibilitychange":"undefined"!=typeof n.msHidden?e="msvisibilitychange":"undefined"!=typeof n.webkitHidden&&(e="webkitvisibilitychange"),e},T=function(){document.addEventListener(E(),M)},P=function(){document.removeEventListener(E(),M)},N=function(e){var o=!1;return f?f.promise:e?h.user.username&&h.profile.username&&h.user.username===e.email?n.resolve():(f=n.defer(),c.clearAndCopy({userId:e.id,username:e.email,picture:e.picture},h.user),C(e),d.refreshProfile().then(null,function(e){if(e&&403!==e.code)return f.reject("Refresh Profile Error"),f=void 0,n.reject()}).then(function(){f.resolve(),a.$broadcast("risevision.user.authorized"),o||a.$broadcast("risevision.user.userSignedIn"),f=void 0}),f.promise):n.reject("No user")},R=function(e,t){var a,s=!1;if(e&&(b=null,A()),b)return b.promise;b=n.defer(),a=b,o.debug("authentication called");var r=function(){var n;t||h.userToken&&h.userToken.token&&!v?(s=!0,n=g.authenticate(t)):n=m.authenticate(e),n.then(N).then(function(){d._setIsRiseAuthUser(s),a.resolve()}).then(null,function(e){h.redirectDetected?(o.error("Authentication Error from Redirect: ",e),delete h.redirectDetected):o.debug("Authentication Error: ",e),A(),a.reject(e)})["finally"](function(){T(),i.stopGlobal("risevision.user.authenticate"),S("authenticated user")})};return l()["finally"](r),e&&i.startGlobal("risevision.user.authenticate"),a.promise},k=function(e){return l().then(function(n){d.isRiseAuthUser()||(e&&(s.logoutFrame.location="https://accounts.google.com/Logout"),n.getAuthInstance().signOut()),b=null,A(),a.$broadcast("risevision.user.signedOut"),o.debug("User is signed out.")})},L={authenticate:R,authenticatePopup:function(){return R(!0)},signOut:k,addEventListenerVisibilityAPI:T,removeEventListenerVisibilityAPI:P};return L}])}(angular),function(){"use strict";angular.module("risevision.common.components.userstate").service("userauth",["$q","$log","riseAPILoader",function(e,n,o){var t={add:function(t,a){var i=e.defer(),s={username:t,password:a};return o().then(function(e){return e.userauth.add(s)}).then(function(e){n.debug("added user credentials",e),i.resolve(e.result)}).then(null,function(e){console.error("Failed to add credentials.",e),i.reject(e)}),i.promise},updatePassword:function(t,a,i){var s=e.defer(),r={username:t,oldPassword:a,newPassword:i};return o().then(function(e){return e.userauth.updatePassword(r)}).then(function(e){n.debug("update user credentials resp",e),s.resolve(e.result)}).then(null,function(e){console.error("Failed to update credentials.",e),s.reject(e)}),s.promise},login:function(t,a){var i=e.defer(),s={username:t,password:a};return o().then(function(e){return e.userauth.login(s)}).then(function(e){n.debug("login successful",e),i.resolve(e)}).then(null,function(e){console.error("Failed to login user.",e),i.reject(e)}),i.promise},refreshToken:function(t,a){var i=e.defer(),s={username:t,token:a};return o().then(function(e){return e.userauth.refreshToken(s)}).then(function(e){n.debug("token refresh successful",e),i.resolve(e)}).then(null,function(e){console.error("Failed to refresh token.",e),i.reject(e)}),i.promise},confirmUserCreation:function(t,a){var i=e.defer(),s={username:t,userConfirmedToken:a};return o().then(function(e){return e.userauth.confirmUserCreation(s)}).then(function(e){n.debug("Confirm user creation successful",e),i.resolve(e)}).then(null,function(e){console.error("Failed to confirm user creation.",e),i.reject(e)}),i.promise},requestConfirmationEmail:function(t){var a=e.defer(),i={username:t};return o().then(function(e){return e.userauth.requestConfirmationEmail(i)}).then(function(e){n.debug("Request confirmation email successful",e),a.resolve(e)}).then(null,function(e){console.error("Failed to request confirmation email.",e),a.reject(e)}),a.promise},requestPasswordReset:function(t){var a=e.defer(),i={username:t};return o().then(function(e){return e.userauth.requestPasswordReset(i)}).then(function(e){n.debug("Request password reset successful",e),a.resolve(e)}).then(null,function(e){console.error("Failed to request password reset.",e),a.reject(e)}),a.promise},resetPassword:function(t,a,i){var s=e.defer(),r={username:t,passwordResetToken:a,newPassword:i};return o().then(function(e){return e.userauth.resetPassword(r)}).then(function(e){n.debug("Reset password successful",e),s.resolve(e)}).then(null,function(e){console.error("Failed to reset password.",e),s.reject(e)}),s.promise}};return t}])}(),function(e){"use strict";e.module("risevision.common.components.userstate").value("PROFILE_PICTURE_URL","https://www.gravatar.com/avatar/{emailMD5}?d=mm").factory("userState",["$q","$rootScope","$window","$log","$location","userInfoCache","getUserProfile","companyState","objectHelper","localStorageService","rvTokenStore","md5","PROFILE_PICTURE_URL",function(n,o,t,a,i,s,r,l,c,u,p,d,m){var g={profile:{},user:{},roleMap:{},userToken:p.read(),inRVAFrame:e.isDefined(i.search().inRVA),isRiseAuthUser:!1},v=function(){var e=n.defer();return r(g.user.username,!0).then(function(e){return A.updateUserProfile(e),l.init()}).then(function(){e.resolve()},e.reject),e.promise},f=function(){return!!g.user.username},b=function(){return null!==g.profile.username&&void 0!==g.profile.username},h=function(n){return e.isDefined(g.roleMap[n])},y=function(){return t.gapi&&t.gapi.auth?t.gapi.auth.getToken():null},S=function(){var n=u.get("risevision.common.userState");n&&(e.extend(g,n),u.remove("risevision.common.userState"),a.debug("userState restored with",n),g.redirectDetected=!0)},C=function(){s.removeAll(),c.clearObj(g.user),c.clearObj(g.profile),g.roleMap={},l.resetCompanyState(),a.debug("User state has been reset.")},w=function(){var e=A.getUsername()&&d.createHash(A.getUsername()),n=e||"0";return m.replace("{emailMD5}",n)},A={getUsername:function(){return g.user&&g.user.username||null},getUserFullName:function(){var e=g.profile&&g.profile.firstName||"",n=g.profile&&g.profile.lastName||"";return(e+" "+n).trim()},getUserEmail:function(){return g.profile.email},getCopyOfProfile:function(n){return n?e.extend({},g.profile):c.follow(g.profile)},getUserPicture:function(){return g.user.picture||w()},hasRole:h,inRVAFrame:function(){return g.inRVAFrame},isRiseAdmin:function(){return h("sa")&&l.isRootCompany()},isRiseStoreAdmin:function(){return h("ba")&&l.isRootCompany()},isUserAdmin:function(){return h("ua")},isPurchaser:function(){return h("pu")},isRiseAuthUser:function(){return g.isRiseAuthUser},isSeller:l.isSeller,isRiseVisionUser:b,isLoggedIn:f,getAccessToken:y,checkUsername:function(e){return(e||!1)&&(A.getUsername()||!1)&&e.toUpperCase()===A.getUsername().toUpperCase()},updateUserProfile:function(n){A.checkUsername(n.username)&&(c.clearAndCopy(e.extend({username:g.user.username},n),g.profile),g.roleMap={},g.profile.roles&&g.profile.roles.forEach(function(e){g.roleMap[e]=!0}),o.$broadcast("risevision.user.updated"))},refreshProfile:v,getUserCompanyId:l.getUserCompanyId,getUserCompanyName:l.getUserCompanyName,getSelectedCompanyId:l.getSelectedCompanyId,getSelectedCompanyName:l.getSelectedCompanyName,getSelectedCompanyCountry:l.getSelectedCompanyCountry,getCopyOfUserCompany:l.getCopyOfUserCompany,getCopyOfSelectedCompany:l.getCopyOfSelectedCompany,isSubcompanySelected:l.isSubcompanySelected,isTestCompanySelected:l.isTestCompanySelected,isRootCompany:l.isRootCompany,updateCompanySettings:l.updateCompanySettings,updateUserCompanySettings:l.updateUserCompanySettings,resetCompany:l.resetCompany,switchCompany:l.switchCompany,reloadSelectedCompany:l.reloadSelectedCompany,_restoreState:S,_resetState:C,_setUserToken:function(e){g.params=e,g.userToken="dummy"},_persistState:function(){u.set("risevision.common.userState",g)},_state:g,_setIsRiseAuthUser:function(e){g.isRiseAuthUser=e}};return A}])}(angular),angular.module("risevision.common.components.userstate").directive("confirmPasswordValidator",[function(){return{require:"ngModel",restrict:"A",scope:{confirmPasswordValidator:"="},link:function(e,n,o,t){var a=function(n){return n&&e.confirmPasswordValidator&&n!==e.confirmPasswordValidator?t.$setValidity("passwordMatch",!1):t.$setValidity("passwordMatch",!0),n};t.$parsers.unshift(a),t.$formatters.unshift(a)}}}]),angular.module("risevision.common.components.userstate").controller("ConfirmAccountCtrl",["$scope","$loading","$log","$state","$stateParams","userauth",function(e,n,o,t,a,i){n.startGlobal("auth-confirm-account"),i.confirmUserCreation(a.user,a.token).then(function(){o.log("User confirmed")})["catch"](function(e){console.error(e)})["finally"](function(){n.stopGlobal("auth-confirm-account"),t.go("common.auth.unauthorized",{accountConfirmed:!0})})}]),angular.module("risevision.common.components.userstate").controller("LoginCtrl",["$scope","$loading","$stateParams","$state","userAuthFactory","customAuthFactory","uiFlowManager","urlStateService","userState","FORCE_GOOGLE_AUTH",function(e,n,o,t,a,i,s,r,l,c){e.forms={},e.credentials={},e.messages={},e.errors={},e.FORCE_GOOGLE_AUTH=c,e.isSignUp=o.isSignUp,e.joinAccount=o.joinAccount,e.companyName=o.companyName,e.messages.passwordReset=o.passwordReset,e.messages.accountConfirmed=o.accountConfirmed,e.googleLogin=function(e){n.startGlobal("auth-buttons-login"),a.authenticate(!0)["finally"](function(){n.stopGlobal("auth-buttons-login"),s.invalidateStatus(e)})},e.customLogin=function(t){e.errors={},e.messages={},e.forms.loginForm.$valid&&(n.startGlobal("auth-buttons-login"),a.authenticate(!0,e.credentials).then(function(){r.redirectToState(o.state)})["catch"](function(n){400===n.status?e.messages.isGoogleAccount=!0:409===n.status?e.errors.unconfirmedError=!0:(console.error(n),e.errors.loginError=!0)})["finally"](function(){n.stopGlobal("auth-buttons-login"),s.invalidateStatus(t)}))},e.createAccount=function(o){e.errors={},e.messages={},e.forms.loginForm.$valid&&(n.startGlobal("auth-buttons-login"),i.addUser(e.credentials).then(function(){e.errors.confirmationRequired=!0}).then(null,function(){e.errors.duplicateError=!0})["finally"](function(){n.stopGlobal("auth-buttons-login"),s.invalidateStatus(o)}))}}]),angular.module("risevision.common.components.userstate").controller("RequestConfirmationEmailCtrl",["$scope","$loading","$log","userauth",function(e,n,o,t){e.forms={},e.credentials={},e.emailSent=!1,e.isGoogleAccount=!1,e.emailAlreadyConfirmed=!1,e.requestConfirmationEmail=function(){e.emailSent=!1,e.isGoogleAccount=!1,e.emailAlreadyConfirmed=!1,n.startGlobal("auth-request-confirmation-email"),t.requestConfirmationEmail(e.credentials.username).then(function(){o.log("Confirmation email request sent"),e.emailSent=!0})["catch"](function(n){400===n.status?(o.log("Requested confirmation email for Google account"),e.isGoogleAccount=!0):409===n.status?(o.log("Requested confirmation email for already confirmed account"),e.emailAlreadyConfirmed=!0):(console.error(n),e.emailSent=!0)})["finally"](function(){n.stopGlobal("auth-request-confirmation-email")})}}]),angular.module("risevision.common.components.userstate").controller("RequestPasswordResetCtrl",["$scope","$loading","$log","userauth",function(e,n,o,t){e.forms={},e.credentials={},e.errors={},e.emailSent=!1,e.isGoogleAccount=!1,e.requestPasswordReset=function(){e.emailSent=!1,e.isGoogleAccount=!1,n.startGlobal("auth-request-password-reset"),t.requestPasswordReset(e.credentials.username).then(function(){o.log("Reset password request sent"),e.emailSent=!0})["catch"](function(n){400===n.status?(o.log("Requested password reset for Google account"),e.isGoogleAccount=!0):(console.error(n),e.emailSent=!0)})["finally"](function(){n.stopGlobal("auth-request-password-reset")})}}]),angular.module("risevision.common.components.userstate").controller("ResetPasswordConfirmCtrl",["$scope","$loading","$log","$state","$stateParams","userauth",function(e,n,o,t,a,i){function s(){e.emailResetSent=!1,e.invalidToken=!1}e.forms={},e.credentials={},e.errors={},e.resetPassword=function(){s(),e.forms.resetPasswordForm.$valid&&(n.startGlobal("auth-reset-password"),i.resetPassword(a.user,a.token,e.credentials.newPassword).then(function(){o.log("Password updated"),t.go("common.auth.unauthorized",{passwordReset:!0})})["catch"](function(n){var o=n.result&&n.result.error&&n.result.error.message;"Password reset token does not match"===o?e.invalidToken=!0:console.error(n)})["finally"](function(){n.stopGlobal("auth-reset-password")}))},e.requestPasswordReset=function(){s(),n.startGlobal("auth-request-password-reset"),i.requestPasswordReset(a.user).then(function(){o.log("Email sent"),e.emailResetSent=!0})["catch"](function(e){console.error(e)})["finally"](function(){n.stopGlobal("auth-request-password-reset")})}}]),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/auth-common.html",'<div class="app-launcher-login"><div class="container"><div class="panel"><div class="row"><div class="col-sm-6 col-xs-12"><div class="rise-logo"><img src="https://s3.amazonaws.com/Rise-Images/Website/rise-logo.svg"></div></div><div class="col-sm-6 col-xs-12"><div ui-view=""></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/auth-form.html",'<form id="forms.loginForm" name="forms.loginForm" role="form" novalidate=""><div><div class="panel-body bg-danger u_margin-sm-top" ng-show="errors.duplicateError"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span id="already-registered-warning">This email address is already registered. You can <a ui-sref="common.auth.unauthorized">sign in</a> with this address.</span></p></div><div class="panel-body bg-danger u_margin-sm-top" ng-show="errors.loginError"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span id="incorrect-credentials-error">Your email address/password combination is incorrect.<br>If you are having problems signing in, please check this <a href="https://help.risevision.com/hc/en-us/articles/115001402743-I-am-having-trouble-logging-in-what-can-I-do-" target="_blank">Help Center article</a>.</span></p></div><div class="panel-body bg-info u_margin-sm-top" ng-show="errors.unconfirmedError"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>Your email address has not been confirmed.<br><a ui-sref="common.auth.requestconfirmationemail">Resend Email Confirmation</a></span></p></div><div class="panel-body bg-info u_margin-sm-top" ng-show="errors.confirmationRequired"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>We\'ve sent a confirmation email to {{credentials.username}}.<br>Please check your inbox to complete your account registration.</span></p></div><div class="panel-body bg-info u_margin-sm-top" ng-show="messages.passwordReset"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>Password successfully updated.<br>Please sign in to proceed.</span></p></div><div class="panel-body bg-info u_margin-sm-top" ng-show="messages.accountConfirmed"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>Account successfully confirmed.<br>Please sign in to proceed.</span></p></div><div class="panel-body bg-danger u_margin-sm-top" ng-show="messages.isGoogleAccount"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>This account is authenticated by Google.<br>Please, use the \'Sign in with Google\' button.</span></p></div></div><div class="u_margin-sm-top" ng-show="!errors.confirmationRequired"><div class="form-group" ng-class="{\'has-error\': (forms.loginForm.$submitted && forms.loginForm.username.$invalid)}" show-errors=""><label class="control-label">Email</label> <input type="email" class="form-control" placeholder="Enter Your Email Address" id="username" name="username" ng-model="credentials.username" required="" focus-me="true" autocomplete="email"><p class="text-danger" ng-show="forms.loginForm.$submitted && forms.loginForm.username.$invalid">Please enter an Email</p></div><div class="form-group" ng-class="{\'has-error\': (forms.loginForm.$submitted && forms.loginForm.password.$invalid && isSignUp), \'has-message\': forms.loginForm.password.$valid && isSignUp}" show-errors=""><label class="control-label">{{ isSignUp ? \'Create \' : \'\'}}Password</label> <input type="password" class="form-control" placeholder="Enter Password" id="password" name="password" ng-model="credentials.password" required="" minlength="4"><p class="text-danger" ng-show="forms.loginForm.$submitted && forms.loginForm.password.$error.minlength && isSignUp">New Password must be at least 4 characters long.</p><p class="text-warning" ng-show="forms.loginForm.password.$valid && isSignUp">A strong password is at least 8 characters, includes uppercase/lowercase letters, and one or more numbers.</p></div><div class="form-group" ng-class="{ \'has-error\' : (forms.loginForm.$submitted && forms.loginForm.confirmPassword.$invalid) }" ng-if="isSignUp"><label class="control-label" for="confirm-password">Confirm Password</label> <input id="confirmPassword" type="password" name="confirmPassword" class="form-control" placeholder="Re-type Password" ng-model="credentials.confirmPassword" required="" confirm-password-validator="credentials.password"><p ng-show="forms.loginForm.$submitted && forms.loginForm.confirmPassword.$error.required" class="text-danger">Confirm Password is required.</p><p ng-show="forms.loginForm.$submitted && forms.loginForm.confirmPassword.$error.passwordMatch" class="text-danger">New Password and Confirm Password must match.</p></div></div></form>');
}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/create-account.html",'<div ng-if="!joinAccount"><h1 class="u_remove-top">Get Started For Free</h1><p class="lead text-muted">No credit card or commitment required.</p></div><div ng-if="joinAccount"><h1 class="u_remove-top">Join Your Company</h1><p class="lead text-muted">Complete your account <span ng-if="!companyName">registration</span><span ng-if="companyName">with {{companyName}}</span>.</p></div><div class="col-xs-12 col-md-8" ng-show="!errors.confirmationRequired"><button class="btn btn-google-auth btn-hg" id="sign-up-google-link" ng-click="googleLogin(\'registrationComplete\')"><span><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"> Sign up with Google</span></button></div><div class="section-divider col-xs-12 col-md-8 u_margin-md-top" ng-show="!errors.confirmationRequired" ng-if="!FORCE_GOOGLE_AUTH"><div></div><span>OR</span><div></div></div><div class="col-md-8 col-xs-12" ng-if="!FORCE_GOOGLE_AUTH"><div ng-include="\'userstate/auth-form.html\'"></div><div class="form-group" ng-show="!errors.confirmationRequired"><button id="sign-up-button" class="btn btn-primary btn-hg" type="submit" form="forms.loginForm" ng-click="createAccount(\'registrationComplete\')"><span translate="Sign Up"></span></button></div></div><br><div class="col-xs-12 u_margin-lg-top"><p class="text-muted">Already have an account? <a id="sign-in-link" ui-sref="common.auth.unauthorized">Sign in</a></p></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/login.html",'<h1 class="u_remove-top">Sign In</h1><p class="lead text-muted">to your Rise Vision account</p><div class="col-xs-12 col-md-8"><button class="btn btn-google-auth btn-hg" id="sign-in-google-link" ng-click="googleLogin(\'registrationComplete\')"><span><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"> Sign in with Google</span></button></div><div class="section-divider col-xs-12 col-md-8 u_margin-md-top" ng-if="!FORCE_GOOGLE_AUTH"><div></div><span>OR</span><div></div></div><div class="col-md-8 col-xs-12" ng-if="!FORCE_GOOGLE_AUTH"><div ng-include="\'userstate/auth-form.html\'"></div><div class="form-group"><button id="sign-in-button" class="btn btn-primary btn-hg" type="submit" form="forms.loginForm" ng-click="customLogin(\'registrationComplete\')"><span translate="Sign In"></span></button></div></div><br><div class="col-xs-12 u_margin-lg-top"><p class="text-muted" ng-if="!FORCE_GOOGLE_AUTH"><a id="reset-password-link" ui-sref="common.auth.requestpasswordreset">Forgot your password?</a></p><p class="text-muted">Don\'t have an account? <a id="sign-up-link" ui-sref="common.auth.createaccount">Sign up</a></p></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/request-confirmation-email.html",'<h1 class="u_remove-top">Send Confirmation Email</h1><div class="col-xs-12 col-md-8"><div class="panel-body bg-info u_margin-lg-top" ng-show="emailSent"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>We\'ve sent a confirmation email to {{credentials.username}}.<br>Please check your inbox to complete your account registration.<br></span></p></div><div class="panel-body bg-info u_margin-lg-top" ng-show="emailAlreadyConfirmed"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>The {{credentials.username}} account is already confirmed.</span></p></div><div class="panel-body bg-danger u_margin-lg-top" ng-show="isGoogleAccount"><p class="u_remove-bottom"><span><i class="fa fa-warning icon-left"></i> This account is authenticated by Google.<br><p class="text-muted">You can <a id="sign-in-link" ui-sref="common.auth.unauthorized">Sign in with Google</a> in our login page.</p></span></p></div></div><form id="confirmationEmailForm" role="form" name="forms.confirmationEmailForm" novalidate="" ng-show="!emailSent"><div class="col-md-8 col-xs-12 u_margin-md-top"><div class="form-group" ng-class="{\'has-error\': (forms.confirmationEmailForm.$submitted && forms.confirmationEmailForm.username.$invalid)}" show-errors=""><label class="control-label">Email</label> <input type="text" class="form-control" name="username" ng-model="credentials.username" required="" focus-me="true"><p class="text-danger" ng-show="forms.confirmationEmailForm.$submitted && forms.confirmationEmailForm.username.$invalid">Please enter an Email</p></div><button class="btn btn-primary btn-hg" ng-disabled="forms.confirmationEmailForm.$invalid" ng-click="requestConfirmationEmail()">Send Confirmation Email</button></div></form><br><div class="col-xs-12 u_margin-lg-top"><p class="text-muted"><a id="sign-in-link" ui-sref="common.auth.unauthorized">Sign in</a> to your account instead.</p></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/request-password-reset.html",'<h1 class="u_remove-top">Password Reset</h1><div class="col-xs-12 col-md-8"><div class="panel-body bg-info u_margin-lg-top" ng-show="emailSent"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>An email with password reset instructions has been sent to your email inbox (if it exists in our system).</span></p></div><div class="panel-body bg-danger u_margin-lg-top" ng-show="isGoogleAccount"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>This account is authenticated by Google.<br><a href="https://myaccount.google.com/security#signin" target="_blank">Change your password on your Google account.</a></span></p></div></div><form id="requestResetForm" role="form" name="forms.requestResetForm" novalidate="" ng-show="!emailSent"><div class="col-md-8 col-xs-12 u_margin-md-top"><div class="form-group" ng-class="{\'has-error\': (forms.requestResetForm.$submitted && forms.requestResetForm.username.$invalid)}" show-errors=""><label class="control-label">Email</label> <input type="text" class="form-control" name="username" ng-model="credentials.username" required="" focus-me="true"><p class="text-danger" ng-show="forms.requestResetForm.$submitted && forms.requestResetForm.username.$invalid">Please enter an Email</p></div><button class="btn btn-primary btn-hg" ng-disabled="forms.requestResetForm.$invalid" ng-click="requestPasswordReset()">Reset Password</button></div></form><br><div class="col-xs-12 u_margin-lg-top"><p class="text-muted"><a id="sign-in-link" ui-sref="common.auth.unauthorized">Sign in</a> to your account instead.</p></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/reset-password-confirm.html",'<h1 class="u_remove-top">Password Confirmation</h1><div><div class="panel-body bg-info u_margin-lg-top" ng-show="emailResetSent"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>An email with password reset instructions has been sent to your email inbox.</span></p></div><div class="panel-body bg-danger u_margin-lg-top" ng-show="invalidToken"><p class="u_remove-bottom"><i class="fa fa-warning icon-left"></i> <span>The password reset token is not valid. <a href="#" ng-click="requestPasswordReset()">Request Password Reset</a></span></p></div></div><form id="forms.resetPasswordForm" role="form" name="forms.resetPasswordForm" novalidate="" ng-show="!emailResetSent"><div class="col-md-8 col-xs-12 u_margin-md-top"><div class="form-group" ng-class="{\'has-error\': (forms.resetPasswordForm.$submitted && forms.resetPasswordForm.newPassword.$invalid)}" show-errors=""><label class="control-label">New Password</label> <input type="password" class="form-control" name="newPassword" id="newPassword" ng-model="credentials.newPassword" required="" minlength="4" focus-me="true"><p class="text-danger" ng-show="forms.resetPasswordForm.$submitted && forms.resetPasswordForm.newPassword.$error.minlength">New Password must be at least 4 characters long.</p><p class="text-warning" ng-show="forms.resetPasswordForm.newPassword.$valid">A strong password is at least 8 characters, includes uppercase/lowercase letters, and one or more numbers.</p></div><div class="form-group" ng-class="{\'has-error\': (forms.resetPasswordForm.$submitted && forms.resetPasswordForm.confirmPassword.$invalid)}" show-errors=""><label class="control-label">Confirm Password</label> <input type="password" class="form-control" name="confirmPassword" id="confirmPassword" ng-model="credentials.confirmPassword" required="" confirm-password-validator="credentials.newPassword"><p ng-show="forms.resetPasswordForm.$submitted && forms.resetPasswordForm.confirmPassword.$error.required" class="text-danger">Confirm Password is required.</p><p ng-show="forms.resetPasswordForm.$submitted && forms.resetPasswordForm.confirmPassword.$error.passwordMatch" class="text-danger">New Password and Confirm Password must match.</p></div><button id="resetPasswordButton" type="submit" form="forms.resetPasswordForm" class="btn btn-primary btn-hg" ng-click="resetPassword()">Update Password</button></div></form>')}])}(),function(e){try{e=angular.module("risevision.common.components.userstate")}catch(n){e=angular.module("risevision.common.components.userstate",[])}e.run(["$templateCache",function(e){e.put("userstate/unsubscribe.html",'<div class="alert alert-warning col-xs-12 u_margin-md-top"><strong>{{email}}</strong> has been unsubscribed from monitoring the Display <strong>\'{{name}}\'</strong>. (Display ID: {{id}})</div><a id="reset-password-link" href="/">Sign in to your Rise Vision account</a><p></p>')}])}(),function(){"use strict";angular.module("risevision.common.components.last-modified",[]).directive("lastModified",["$templateCache",function(e){return{restrict:"E",scope:{changeDate:"=",changedBy:"="},template:e.get("last-modified/last-modified.html"),link:function(e){e.$watch("changedBy",function(n){e.changedBy=n?n:"N/A"})}}}])}(),function(){"use strict";angular.module("risevision.common.components.last-modified").filter("username",function(){return function(e){var n=e;return e&&e.indexOf("@")!==-1&&(n=e.substring(0,e.indexOf("@"))),n}})}(),function(e){try{e=angular.module("risevision.common.components.last-modified")}catch(n){e=angular.module("risevision.common.components.last-modified",[])}e.run(["$templateCache",function(e){e.put("last-modified/last-modified.html","<span class=\"text-muted\"><small>Saved {{changeDate | date:'d-MMM-yyyy h:mm a'}} by {{changedBy | username}}</small></span>")}])}(),angular.module("risevision.common.components.loading",["angularSpinner"]).value("_rvGlobalSpinnerRegistry",[]),angular.module("risevision.common.components.loading").service("$loading",["$q","$rootScope","$document","_rvGlobalSpinnerRegistry",function(e,n,o,t){function a(e){t.indexOf(e)<0&&t.push(e)}function i(e){var n;(n=t.indexOf(e))>=0&&t.splice(n,1)}var s=this;this.start=function(e){e=angular.isArray(e)?e:[e];for(var o=0;o<e.length;o++)n.$broadcast("rv-spinner:start",e[o])},this.stop=function(e){e=angular.isArray(e)?e:[e];for(var o=0;o<e.length;o++)n.$broadcast("rv-spinner:stop",e[o])},o&&o[0]&&angular.element(o[0].body).append('<div rv-global-spinner class="ng-hide" style="position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 1040; "></div>'),this.startGlobal=function(e){e=angular.isArray(e)?e:[e],angular.forEach(e,function(e){a(e)})},this.stopGlobal=function(e){e=angular.isArray(e)?e:[e],angular.forEach(e,function(e){i(e)})},this.stopSpinnerAfterPromise=function(o,t){o=angular.isArray(o)?o:[o];var a=function(){for(var e=0;e<o.length;e++)n.$broadcast("rv-spinner:stop",o[e])},i=angular.isArray(t)?e.all(t):t;i.then(function(){a()},function(){a()})},this.getDefaultSpinnerOptions=function(){return s.defaultSpinnerOptions},this.defaultSpinnerOptions={lines:13,length:20,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#555",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"}}]),angular.module("risevision.common.components.loading").directive("rvGlobalSpinner",["usSpinnerService","$compile","_rvGlobalSpinnerRegistry","$timeout","$rootScope",function(e,n,o,t,a){return{scope:!0,link:function(i,s){var r='<div ng-show="active" class="spinner-backdrop fade" ng-class="{in: active}" us-spinner="rvSpinnerOptions" spinner-key="_rv-global-spinner" ng-focus="spinnerFocused()"></div>';s.prepend(n(r)(i)),i.rvSpinnerOptions={lines:13,length:20,width:10,radius:30,corners:1,rotate:0,direction:1,color:"#555",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"50%",left:"50%"},i.registry=o,i.$watchCollection("registry",function(){i.registry.length>0?i.active=!0:i.active=!1}),i.$watch("active",function(e){e?s.removeClass("ng-hide"):s.addClass("ng-hide")}),i.spinnerFocused=function(){a.$broadcast("rv-spinner:global:focused")},t(function(){e.spin("_rv-global-spinner")}),i.active=!0}}}]),angular.module("risevision.common.components.loading").directive("rvSpinner",["usSpinnerService","$compile",function(e,n){return{scope:{backdropClass:"@rvSpinnerBackdropClass",rvSpinnerKey:"@rvSpinnerKey",rvSpinnerStartActive:"=?rvSpinnerStartActive",rvSpinnerOptions:"=rvSpinner"},link:function(o,t,a){o.active=angular.isDefined(a.rvSpinnerStartActive)&&"1"===a.rvSpinnerStartActive;var i='<div ng-show="active" class="spinner-backdrop fade {{backdropClass}}" ng-class="{in: active}" us-spinner="rvSpinnerOptions" spinner-key="{{rvSpinnerKey}}"';i+=a.rvSpinnerStartActive&&"1"===a.rvSpinnerStartActive?' spinner-start-active="1"></div>':"></div>",t.prepend(n(i)(o)),o.$on("rv-spinner:start",function(n,t){t===o.rvSpinnerKey&&(e.spin(t),o.active=!0)}),o.$on("rv-spinner:stop",function(n,t){t===o.rvSpinnerKey&&(e.stop(t),o.active=!1)})}}}]),angular.module("risevision.common.components.search-filter",[]).directive("searchFilter",["$timeout",function(e){return{restrict:"E",scope:{filterConfig:"=",search:"=",doSearch:"="},templateUrl:"search-filter/search-filter.html",link:function(n){n.delay=function(){var n=null;return function(o,t){e.cancel(n),n=e(o,t)}}(),n.reset=function(){n.search.query&&(n.search.query="",n.doSearch())}}}}]),function(e){try{e=angular.module("risevision.common.components.search-filter")}catch(n){e=angular.module("risevision.common.components.search-filter",[])}e.run(["$templateCache",function(e){e.put("search-filter/search-filter.html",'<div class="input-group"><span class="input-group-addon" ng-click="doSearch()"><i class="fa fa-search"></i></span> <input id="{{ filterConfig.id }}" type="text" class="form-control" placeholder="{{ filterConfig.placeholder }}" ng-model="search.query" ng-enter="delay(doSearch, 0)" ng-change="delay(doSearch, 1000)"> <span class="input-group-addon" ng-click="reset()"><i class="fa fa-times"></i></span></div>')}])}(),function(e){"use strict";e.module("risevision.common.components.scrolling-list",["rvScrollEvent"]).value("BaseList",function(e){this.list=[],this.maxCount=e?e:40,this.cursor=null,this.endOfList=!1,this.searchString="",this.clear=function(){this.list=[],this.cursor=null,this.endOfList=!1},this.concat=function(e){this.list=this.list.concat(e)},this.add=function(e,n){this.cursor=n,this.endOfList=e.length<this.maxCount,this.concat(e)}})}(angular),function(e){"use strict";var n=150;e.module("rvScrollEvent",[]).directive("rvScrollEvent",["$parse","$window",function(e,o){return{scope:!1,link:function(t,a,i){var s,r,l=e(i.rvScrollEvent),c=a[0],u="scroll",p={x:0,y:0},d=function(){r=function(e){p.x=c.scrollLeft,p.y=c.scrollTop,m(e),g(),v(e,!1)},a.bind(u,r)},m=function(e){s=o.setInterval(function(){p.x===c.scrollLeft&&p.y===c.scrollTop?(o.clearInterval(s),d(),v(e,!0)):(p.x=c.scrollLeft,p.y=c.scrollTop)},n)},g=function(){a.unbind(u,r)},v=function(e,n){t.$apply(function(){l(t,{$event:e,isEndEvent:n})})};d()}}}])}(angular),function(e){"use strict";e.module("risevision.common.components.scrolling-list").directive("scrollingList",["$parse","$compile",function(e,n){return{restrict:"A",replace:!1,terminal:!0,priority:1e3,link:function(o,t,a){var i=e(a.scrollingList);o.handleScroll=function(e,n){n&&e.target.scrollTop&&e.target.scrollHeight-e.target.clientHeight-e.target.scrollTop<20&&i(o)},t.attr("rv-scroll-event","handleScroll($event, isEndEvent)"),t.removeAttr("scrolling-list"),n(t)(o)}}}])}(angular),angular.module("risevision.common.components.stop-event",[]).directive("stopEvent",function(){return{restrict:"A",link:function(e,n,o){n.on(o.stopEvent,function(e){e.stopPropagation()})}}}),function(e){"use strict";e.module("risevision.common.components.analytics",[]).value("SEGMENT_API_KEY","AFtY3tN10BQj6RbnfpDDp9Hx8N1modKN").factory("segmentAnalytics",["$rootScope","$window","$log","$location",function(e,n,o,t){function a(e){e&&(n.intercomSettings=n.intercomSettings||{},n.intercomSettings.widget={activator:"#IntercomDefaultWidget"})}function i(){e.$on("$viewContentLoaded",function(){if(r.location!==t.path()){r.location=t.path();var e={};e.url=t.path(),e.path=t.path(),t.search().nooverride&&(e.referrer=""),r.page(e)}})}var s,r={};n.analytics=n.analytics||[];var l=n.analytics;l.SNIPPET_VERSION="4.0.0",l.factory=function(e){function a(n,o){"track"===e&&o&&o.length>1&&o[1]&&"object"==typeof o[1]&&(o[1].url=t.host())}return function(){var t=Array.prototype.slice.call(arguments);return a(e,t),t.unshift(e),n.analytics.push(t),o.debug("Segment Tracker",t),n.analytics}},l.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];for(var c=0;c<l.methods.length;c++){var u=l.methods[c];r[u]=l.factory(u)}return r.ready(function(){var e=n.ga;e("require","linker"),e("linker:autoLink",["community.risevision.com","store.risevision.com","help.risevision.com","apps.risevision.com","risevision.com","preview.risevision.com","rva.risevision.com"],!0)}),r.load=function(e,n){if(e&&!s){a(n),i();var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+e+"/analytics.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(o,t),s=!0}},r}]).factory("analyticsEvents",["$rootScope","segmentAnalytics","userState",function(e,n,o){var t={};return t.identify=function(){if(o.getUsername()){var e=o.getCopyOfProfile(),t={email:e.email,firstName:e.firstName?e.firstName:"",lastName:e.lastName?e.lastName:""};o.getUserCompanyId()&&(t.companyId=o.getUserCompanyId(),t.companyName=o.getUserCompanyName(),t.company={id:o.getUserCompanyId(),name:o.getUserCompanyName()}),n.identify(o.getUsername(),t)}},t.initialize=function(){e.$on("risevision.user.authorized",function(){t.identify()})},t}])}(angular),angular.module("risevision.common.components.message-box.services",[]).factory("messageBox",["$q","$log","$modal","$templateCache",function(e,n,o,t){return function(e,n,a){return o.open({template:t.get("message-box/message-box.html"),controller:"messageBoxInstance",size:"md",resolve:{title:function(){return e},message:function(){return n},button:function(){return a||"common.ok"}}})}}]),angular.module("risevision.common.components.message-box",["risevision.common.components.message-box.services"]).controller("messageBoxInstance",["$scope","$modalInstance","title","message","button",function(e,n,o,t,a){e.title=o,e.message=t,e.button=a?a:"common.close",e.dismiss=function(){n.dismiss()}}]),function(e){try{e=angular.module("risevision.common.components.message-box")}catch(n){e=angular.module("risevision.common.components.message-box",[])}e.run(["$templateCache",function(e){e.put("message-box/message-box.html",'<form id="messageForm"><div class="modal-header"><button type="button" class="close" ng-click="dismiss()" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button><h3 class="modal-title" translate="">{{title}}</h3></div><div class="modal-body" stop-event="touchend"><p translate="">{{message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="dismiss()"><span translate="{{button}}"></span> <i class="fa fa-white fa-check icon-right"></i></button></div></form>')}])}(),angular.module("risevision.common.components.svg",[]).constant("iconsList",{icons1:{riseLogo:"M0 32h32V0L0 32z M15 31v-7h6L15 31z M23 32v-9h9L23 32z M24 21v-6h7L24 21z",riseStore:"M13.1 24h13.5 0.1c1 0 1.7-0.8 1.9-1.8l2.6-13.5C31.3 8.4 31 8 30.6 8h-21L13.1 24z",riseStorage:"M8 32h20.2c2.1 0 3.8-1.7 3.8-3.8V9L8 32zM19 29v-4h4.3L19 29zM25 23v-4h4.3L25 23zM24 31v-7h7.3L24 31z",riseDisplays:"M8 26h20.2c2.1 0 3.8-1.7 3.8-3.8V3L8 26zM19 23v-4h4.3L19 23zM25 17v-4h4.3L25 17zM24 25v-7h7.3L24 25z",riseSchedules:"M8 32h20.2c2.1 0 3.8-1.7 3.8-3.8V9L8 32zM19 29v-4h4.3L19 29zM25 23v-4h4.3L25 23zM24 31v-7h7.3L24 31z",riseEditor:"M30.7 1.8C29.1 0.3 26.5 0.5 25 2l-1.1 1.1c-0.1 0.1-0.1 0.3 0 0.4l5.3 5.3c0.1 0.1 0.3 0.1 0.4 0l1.2-1.2C32.4 6 32.4 3.4 30.7 1.8zM9.6 17.5l-1.4 7.1 7.1-1.5 12.5-12.5c0.1-0.1 0.1-0.3 0-0.4L22.5 5c-0.1-0.1-0.3-0.1-0.4 0L9.6 17.5z",riseSupport:"M23.5 0.8c-4.7 0-8.5 3.8-8.5 8.5 0 4.7 3.8 8.5 8.5 8.5S32 14 32 9.3C32 4.6 28.2 0.8 23.5 0.8zM27.7 8.1c-0.1 0.3-0.2 0.5-0.3 0.7 -0.1 0.2-0.3 0.4-0.5 0.6 -0.2 0.2-0.4 0.3-0.6 0.4 -0.1 0.1-0.3 0.2-0.6 0.3 -0.3 0.2-0.5 0.3-0.7 0.6 -0.2 0.2-0.2 0.8-0.6 0.8h-2.3c-0.1 0-0.4 0-0.4-0.2v-0.4c0-0.5 0.2-1 0.7-1.5 0.4-0.5 0.9-0.8 1.4-1 0.4-0.2 0.7-0.4 0.8-0.5 0.2-0.2 0.2-0.4 0.2-0.7 0-0.3-0.1-0.5-0.4-0.7 -0.3-0.2-0.6-0.3-1-0.3 -0.4 0-0.8 0.1-1 0.3 -0.3 0.2-0.6 0.6-1 1.1 -0.1 0.1-0.2 0.1-0.3 0.1 -0.1 0-0.2 0-0.2-0.1l-1.6-1.2C19 6.2 19 6 19.1 5.8c1-1.7 2.5-2.6 4.5-2.6 0.7 0 1.4 0.2 2 0.5 0.7 0.3 1.2 0.8 1.7 1.4 0.4 0.6 0.7 1.3 0.7 2C27.9 7.4 27.8 7.8 27.7 8.1zM24.2 15.5h-2.1c-0.3 0-0.5-0.2-0.5-0.5v-2.1c0-0.3 0.2-0.5 0.5-0.5h2.1c0.3 0 0.5 0.2 0.5 0.5V15C24.7 15.3 24.5 15.5 24.2 15.5z",riseAlerts:"M31.5 12.3C31 11.8 30 11.6 30 11.6V4.8c0-0.6-0.4-1.2-0.8-1.6 -0.5-0.5-1.1-0.7-1.7-0.7C23.3 6 19.1 8.1 15 8.9v9.9c4 0.8 8.2 3 12.4 6.5 0.6 0 1.3-0.2 1.8-0.7 0.5-0.5 0.8-1 0.8-1.6v-6.9c0 0 1-0.2 1.5-0.7 0.4-0.4 0.7-1 0.7-1.6S31.9 12.7 31.5 12.3z",riseDevelopers:"M8 32h20.2c2.1 0 3.8-1.7 3.8-3.8V9L8 32zM19 29v-4h4.3L19 29zM25 23v-4h4.3L25 23zM24 31v-7h7.3L24 31z",riseDocumentation:"M8 32h20.2c2.1 0 3.8-1.7 3.8-3.8V9L8 32zM19 29v-4h4.3L19 29zM25 23v-4h4.3L25 23zM24 31v-7h7.3L24 31z",riseCommunity:"M24 12.6v4.7c0 1.4 0.4 2.3 1.3 2.6v5.4h5.3v-5.4c0.9-0.3 1.3-1.1 1.3-2.6v-4.7H24zM28 11.3c1.5 0 2.7-1.2 2.7-2.7 0-1.5-1.2-2.7-2.7-2.7s-2.7 1.2-2.7 2.7C25.3 10.1 26.3 11.3 28 11.3zM0 17.3c0 1.4 0.4 2.3 1.3 2.6v5.4h5.3v-5.4c1-0.3 1.4-1.2 1.4-2.6v-4.7H0V17.3zM4 11.3c1.7 0 2.7-1.2 2.7-2.7 0-1.5-1.2-2.7-2.7-2.7S1.3 7.1 1.3 8.6C1.3 10.1 2.5 11.3 4 11.3z",riseStorageGraphic:"M29.4 5.9V4c0-0.1-0.1-0.2-0.2-0.2h-10L0.6 22.1 7.7 25l2.9 7 18.9-18.6V7.2h1.3v7.9L16.8 28.8l0.9 0.9L32 15.6V5.9H29.4z",iconNewFolder:"M30.7 8c-0.8-0.8-1.9-1-3.1-1H15V5.9c0-1.2-0.5-2-1.4-2.8C12.8 2.2 11.7 2 10.5 2H4.3C3.1 2 2.1 2.2 1.3 3.1 0.4 3.9 0 4.7 0 5.9v18.5c0 1.2 0.4 2.3 1.3 3.2C2.1 28.5 3.1 29 4.3 29h23.3c1.2 0 2.2-0.5 3.1-1.4 0.9-0.9 1.3-2 1.3-3.2V10.8C32 9.6 31.6 8.9 30.7 8zM23 20h-5v5h-4v-5H9v-4h5v-5h4v5h5V20",iconPresentation:"M28.5,3.1H3.3c-1.6,0-2.8,1.3-2.8,2.8v20.5c0,1.6,1.3,2.8,2.8,2.8h25.1c1.6,0,2.8-1.3,2.8-2.8V5.9 C31.3,4.4,30,3.1,28.5,3.1z M5.4,21l5.1-10.2L15.6,21H5.4z M26.1,20.9h-7.4c-0.4,0-0.7-0.3-0.7-0.7c0-0.4,0.3-0.7,0.7-0.7h7.4 c0.4,0,0.7,0.3,0.7,0.7C26.8,20.6,26.5,20.9,26.1,20.9z M26.1,16.8h-7.4c-0.4,0-0.7-0.3-0.7-0.7c0-0.4,0.3-0.7,0.7-0.7h7.4 c0.4,0,0.7,0.3,0.7,0.7C26.8,16.5,26.5,16.8,26.1,16.8z M26.1,12.7h-7.4c-0.4,0-0.7-0.3-0.7-0.7s0.3-0.7,0.7-0.7h7.4 c0.4,0,0.7,0.3,0.7,0.7S26.5,12.7,26.1,12.7z",iconWebsite:"M0 8v16c0 0.6 0.4 1 1 1h31V7H1C0.4 7 0 7.4 0 8zM29 11h2v10h-2V11zM26.3 17c0.4 0 0.8 0.4 0.8 0.8 0 0.4-0.4 0.8-0.8 0.8 -0.4 0-0.8-0.4-0.8-0.8C25.5 17.4 25.9 17 26.3 17zM3.9 13l0.8 3.7L5.7 13h1.1l0.9 3.7L8.5 13h1.5 0.1 1.5l0.8 3.7 0.9-3.7h1.1l0.9 3.7 0.8-3.7h1.5 0.1 1.5l0.8 3.7 0.9-3.7h1.1l0.9 3.7 0.8-3.7h1.6l-1.6 5h-1.5l-0.8-3.5L20.9 18h-1.5l-1.5-5.4L16.4 18h-1.5L14 14.5 13.2 18h-1.5l-1.5-5.4L8.6 18H7l-0.8-3.5L5.4 18H3.9l-1.6-5H3.9z",riseWidgetImage:"M21,13.8l-6.1,7l-4.3-4.4l-0.1-0.2l-7,8.2H28L21,13.8z M7.2,9c1.2,0,2.2,1,2.2,2.2s-1,2.2-2.2,2.2S5,12.4,5,11.2S6,9,7.2,9z M0,3.8v24.3h32V3.8H0z M29.8,26.4H2.3V5.7h27.6L29.8,26.4L29.8,26.4z",riseWidgetVideo:"M31,7l-7.37,4.26V9.55a3.25,3.25,0,0,0-3.24-3.24H4.24A3.25,3.25,0,0,0,1,9.55V22.45a3.25,3.25,0,0,0,3.24,3.24H20.38a3.25,3.25,0,0,0,3.24-3.24V20.76L31,25V7h0Z",riseWidgetText:"M10.47,10.47h4.15V21.53H10.47V24.3H21.53V21.53H17.38V10.47h4.15v2.77H24.3V7.7H7.7v5.53h2.77V10.47Zm-8.3-8.3V29.83H29.83V2.17H2.17Zm24.9,24.9H4.93V4.93H27.07V27.07Z",riseWidgetMore:"M26.62,9.55H25.48v3.87a0.65,0.65,0,0,1-.63.63H17.52a0.65,0.65,0,0,1-.63-0.63V7.15a0.65,0.65,0,0,1,.63-0.63h5.26V4.66H16.43A1.42,1.42,0,0,0,15,6.09v8.29a1.42,1.42,0,0,0,1.43,1.43H26a1.42,1.42,0,0,0,1.43-1.43V9.55h-0.8ZM28.89,1V3.61H31.5V5.76H28.89V8.37H26.74V5.76H24.17V3.61h2.57V1h2.15m-27,9.81L3,10.89l0-4a0.65,0.65,0,0,1,.63-0.63H11a0.65,0.65,0,0,1,.63.63v6.27a0.77,0.77,0,0,1-.67.72H5.64l0.09,0.76v1h6.36a1.42,1.42,0,0,0,1.43-1.43V6a1.42,1.42,0,0,0-1.43-1.43H2.53A1.42,1.42,0,0,0,1.1,6v4.84H1.9ZM12.72,9.42l-1.09-.09,0,4a0.65,0.65,0,0,1-.63.63H3.63A0.65,0.65,0,0,1,3,13.3V7a0.73,0.73,0,0,1,.65-0.69L9,6.31l-0.1-.76v-1H2.53A1.42,1.42,0,0,0,1.1,6v8.29A1.42,1.42,0,0,0,2.53,15.7h9.56a1.42,1.42,0,0,0,1.43-1.43V9.42h-0.8ZM1.9,23.39L3,23.47l0-4a0.65,0.65,0,0,1,.63-0.63H11a0.65,0.65,0,0,1,.63.63v6.27a0.77,0.77,0,0,1-.67.72H5.64l0.09,0.76v1h6.36a1.42,1.42,0,0,0,1.43-1.43V18.55a1.42,1.42,0,0,0-1.43-1.43H2.53A1.42,1.42,0,0,0,1.1,18.55v4.84H1.9ZM12.72,22l-1.09-.09,0,4a0.65,0.65,0,0,1-.63.63H3.63A0.65,0.65,0,0,1,3,25.88V19.6a0.73,0.73,0,0,1,.65-0.69l5.34,0-0.1-.76v-1H2.53A1.42,1.42,0,0,0,1.1,18.55v8.29a1.42,1.42,0,0,0,1.43,1.43h9.56a1.42,1.42,0,0,0,1.43-1.43V22h-0.8Zm3.07,1.39,1.09,0.08,0-4a0.65,0.65,0,0,1,.63-0.63h7.33a0.65,0.65,0,0,1,.63.63v6.27a0.77,0.77,0,0,1-.67.72H19.53l0.09,0.76v1H26a1.42,1.42,0,0,0,1.43-1.43V18.55A1.42,1.42,0,0,0,26,17.12H16.43A1.42,1.42,0,0,0,15,18.55v4.84h0.8ZM26.62,22l-1.09-.09,0,4a0.65,0.65,0,0,1-.63.63H17.52a0.65,0.65,0,0,1-.63-0.63V19.6a0.73,0.73,0,0,1,.65-0.69l5.34,0-0.1-.76v-1H16.43A1.42,1.42,0,0,0,15,18.55v8.29a1.42,1.42,0,0,0,1.43,1.43H26a1.42,1.42,0,0,0,1.43-1.43V22h-0.8Z",riseWidgetImageMulti:"M16.41,16.77l-4.89,5.6L8.13,18.86l0-.17-5.6,6.52H22ZM5.45,13a1.71,1.71,0,1,1-1.71,1.71A1.71,1.71,0,0,1,5.45,13ZM12.6,28.39H26.1L26.15,8.49H12.56v2H24.14l0,15.89H12.56ZM3.51,5.6V7.82h1.8V7.11H27.22V23.5H26.42V25H29V5.6H3.51Zm3-2.72V5.1H8.29V4.39H30.24V20.78H29.45v1.51H32V2.89H6.54Zm7,23.5H2L2,10.49H13.58v-2H0L0.05,28.39h13.5Z",riseWidgetFolder:"M28.61,8.77H13.92L11,6.16a0.85,0.85,0,0,0-.57-0.22H3.67a0.88,0.88,0,0,0-1,.71V24.22a1.11,1.11,0,0,0,1,1H28.61a0.88,0.88,0,0,0,.71-1V9.48A0.63,0.63,0,0,0,28.61,8.77Z"},icons2:{riseLogo:"",riseStore:"M26.6 26H11.5L6.7 4H1.6c-0.6 0-1 0.4-1 1s0.4 1 1 1h3.5l4.4 20.3c-0.9 0.4-1.6 1.4-1.6 2.5 0 1.5 1.2 2.7 2.7 2.7s2.7-1.2 2.7-2.7c0-0.2 0-0.5-0.1-0.7H24c-0.1 0.2-0.1 0.5-0.1 0.7 0 1.5 1.2 2.7 2.7 2.7s2.7-1.2 2.7-2.7S28.1 26 26.6 26z",riseStorage:"M1.8 9.1c1.2 0.7 2.9 1.3 5 1.7 2.1 0.4 4.4 0.6 6.9 0.6 2.5 0 4.8-0.2 6.9-0.6 2.1-0.4 3.5-1 4.8-1.7C26.6 8.4 27 7.7 27 6.9V4.6c0-0.8-0.4-1.6-1.6-2.3 -1.2-0.7-2.8-1.3-4.9-1.7C18.4 0.2 16.1 0 13.7 0c-2.5 0-4.7 0.2-6.8 0.6C4.7 1 3 1.6 1.8 2.3 0.6 3 0 3.7 0 4.6v2.3C0 7.7 0.6 8.4 1.8 9.1zM1.8 16c1.2 0.7 2.9 1.3 5 1.7 2.1 0.4 4.4 0.6 6.9 0.6 2 0 3.9-0.1 5.7-0.4l6.6-6.4c-1.2 0.6-2.7 1.1-4.5 1.5 -2.5 0.5-5.1 0.8-7.9 0.8 -2.8 0-5.5-0.3-7.9-0.8C3.3 12.4 1 11.7 0 10.7v3C0 14.5 0.6 15.3 1.8 16zM1.8 22.9c1.2 0.7 2.9 1.3 5 1.7 1.6 0.3 3.3 0.5 5.1 0.6l4.8-4.6c-1 0.1-2 0.1-3 0.1 -2.8 0-5.5-0.3-7.9-0.8C3.3 19.3 1 18.5 0 17.5v3C0 21.4 0.6 22.2 1.8 22.9zM5.8 26.7C3.3 26.1 1 25.4 0 24.4v3c0 0.8 0.6 1.6 1.9 2.3 1 0.6 2.3 1 3.8 1.4l4-3.9C8.3 27.1 7 26.9 5.8 26.7z",riseDisplays:"M9 22H4V4h24v0l3.5-3.3C31.1 0.3 30.6 0 30 0H2C0.9 0 0 0.9 0 2v22c0 1.1 0.9 2 2 2h2.8L9 22zM23.5 30.7l-4.5-2V28h-6v0.7l-4.5 2c-0.4 0-0.6 0.3-0.6 0.7 0 0.4 0.4 0.7 0.8 0.7h14.7c0.4 0 0.7-0.3 0.7-0.7C24 31 23.9 30.7 23.5 30.7z",riseSchedules:"M14 23.3V20h3.4l2.6-2.4V14h3.8l2.1-2H6v14h5.1L14 23.3zM14 14h4v4h-4V14zM8 14h4v4H8V14zM8 20h4v4H8V20zM31.5 6.7C31.1 6.3 30.6 6 30 6h-2V4c0-0.5-0.5-1-1-1h-6c-0.5 0-1 0.5-1 1v2h-8V4c0-0.5-0.5-1-1-1H5C4.5 3 4 3.5 4 4v2H2C0.9 6 0 6.9 0 8v22c0 1.1 0.9 2 2 2h2.8L9 28H4V10h24v0L31.5 6.7zM10 8H6V5h4V8zM26 8h-4V5h4V8z",riseEditor:"M22 28H4V17h3.3l2.2-2.2 1.8-1.8H2c-1.1 0-2 0.7-2 1.8v15C0 30.9 0.9 32 2 32h11.3 5.3H24c1.1 0 2-1.1 2-2.2V15.3l-4 4V28z",riseSupport:"M25 26.2c0 0-0.2-0.1-0.4-0.2l-5.1-3.1c-0.2-0.2-0.3-0.1-0.5-0.1s-0.5 0.2-0.9 0.5c-0.4 0.3-0.7 0.7-1 1.1 -0.3 0.4-0.6 0.8-0.9 1.1S15.6 26 15.4 26c-0.1 0-2.5-0.9-5.7-3.8 -2.9-2.6-3.8-5.6-3.8-5.7 0-0.2 0.2-0.5 0.5-0.8 0.3-0.3 0.7-0.6 1.1-0.9s0.8-0.6 1.1-1c0.3-0.4 0.5-0.7 0.5-0.9 0-0.2 0-0.3-0.1-0.5L5.8 7.1C5.8 7 5.7 6.9 5.7 6.9 5.6 6.8 5.5 6.8 5.3 6.8 5 6.8 4.5 6.8 4 6.9c0 0-4.2 1.5-4 5.9 0 0.3 0 0.7 0.1 1 0 0.3 1.1 6.1 6.5 11.5 5.1 5.1 11.2 6.5 11.5 6.5 0.3 0.1 0.6 0.1 0.9 0.1 0 0 4 0.2 5.7-3.6 0.1-0.2 0.2-0.3 0.2-0.4 0.1-0.6 0.2-1 0.2-1.3C25.1 26.5 25.1 26.3 25 26.2z",riseAlerts:"M11.8 26.4c-0.3-0.4-0.5-0.7-0.6-1s-0.1-0.6-0.1-1 0.2-0.8 0.4-1.2c-0.5-0.5-0.7-1-0.7-1.7 0-0.6 0.2-1.2 0.6-1.8s0.9-1 1.6-1.2c0 0 0 0 0.1 0V9.2c-0.5 0-1.1-0.2-1.6-0.2H2.9c-0.8 0-1.5 0.4-2 1C0.3 10.6 0 11.4 0 12.2v3.4c0 0.8 0.3 1.2 0.8 1.8C1.4 18 2.1 18 2.9 18H5c-0.2 1-0.3 1.5-0.4 2.2 -0.1 0.7-0.1 1.4-0.1 1.9s0.1 1.2 0.3 1.9c0.2 0.7 0.3 1.3 0.4 1.6 0.1 0.4 0.3 0.9 0.6 1.7 0.3 0.8 0.4 1.3 0.5 1.6 0.5 0.5 1.3 0.8 2.4 1 1 0.2 2 0.1 3-0.2s1.6-0.8 2-1.5c-0.5-0.4-0.8-0.7-1.1-0.9S12.1 26.7 11.8 26.4z",riseDevelopers:"M5.2 27.6l2.3-1.4c0.6 0.5 1.4 0.9 2.1 1.2l6.7-6.3c-0.1 0-0.2 0-0.3 0 -2.9 0-5.3-2.4-5.3-5.3 0-2.9 2.4-5.3 5.3-5.3s5.3 2.4 5.3 5.3c0 0.2 0 0.4-0.1 0.6L30.1 8l-2-3.5c-0.1-0.2-0.3-0.4-0.6-0.4 -0.2-0.1-0.5 0-0.7 0.1l-2.3 1.4C23.4 4.7 21 4 21 3.5V0.7C21 0.2 20.5 0 19.9 0h-7.6C11.8 0 11 0.2 11 0.7v2.8c0 0.5-2.3 1.1-3.5 2.1L5.2 4.2c-0.5-0.3-1-0.1-1.2 0.3l-3.8 6.6C0 11.3 0 11.6 0 11.8c0.1 0.2 0.2 0.5 0.4 0.6l2.4 1.4c-0.1 0.7-0.2 1.4-0.2 2.1 0 0.7 0.1 1.4 0.2 2.1l-2.4 1.4c-0.5 0.3-0.6 0.8-0.3 1.3l3.8 6.6C4.2 27.7 4.8 27.8 5.2 27.6",riseDocumentation:"M6 4C5.4 4 5 4.4 5 5s0.4 1 1 1h17c0.6 0 1-0.4 1-1s-0.4-1-1-1H6zM26 11.9V8.8C26 8.2 25.6 8 25 8H6C4.3 8 3 6.7 3 5c0-1.7 1.3-3 3-3h19c0.6 0 1-0.4 1-1 0-0.6-0.4-1-1-1H6C3.2 0 0 2 0 4.8v21c0 2.4 2.5 5.4 4.9 6.1L26 11.9z",riseCommunity:"M9.4 18.9c0 2.4 0.7 3.8 2.2 4.3v9h8.8v-9c1.5-0.4 2.2-1.9 2.2-4.3v-7.7H9.4V18.9zM16 8.9c2.4 0 4.4-2 4.4-4.4s-2-4.4-4.4-4.4 -4.4 2-4.4 4.4S13.6 8.9 16 8.9z",riseStorageGraphic:"M19.8 5.1L2.9 21.7 8.6 24l2.4 5.8 17.1-16.9V5.1H19.8zM22.9 11.7c-1.1 0-1.9-0.9-1.9-1.9 0-1.1 0.9-1.9 1.9-1.9 1.1 0 1.9 0.9 1.9 1.9C24.8 10.9 23.9 11.7 22.9 11.7z",iconNewFolder:"",iconPresentation:"",iconWebsite:"",riseWidgetImage:"",riseWidgetVideo:"",riseWidgetText:"",riseWidgetMore:"",riseWidgetImageMulti:"",riseWidgetFolder:""}}).directive("svgIcon",["iconsList",function(e){return{restrict:"E",scope:{p:"@"},link:function(n,o){var t=function(n){return'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="'+e.icons1[n]+'"/><path d="'+e.icons2[n]+'"/></svg>'};n.$watch("p",function(e){e&&o.html(t(e))})}}}]),function(){"use strict";try{angular.module("risevision.common.config")}catch(e){angular.module("risevision.common.config",[])}angular.module("risevision.common.config").value("STORE_URL","https://store.risevision.com/").value("STORE_SERVER_URL","https://store-dot-rvaserver2.appspot.com/"),
angular.module("risevision.common.components.subscription-status.config",[]).value("IN_RVA_PATH","product/productId/?cid=companyId").value("ACCOUNT_PATH","account?cid=companyId").value("PATH_URL","v1/company/companyId/product/status?pc=").value("AUTH_PATH_URL","v1/widget/auth?cid=companyId&pc=").value("PATH_URL_BY_DISPLAY_ID","v1/product/productCode/status?displayIds="),angular.module("risevision.common.components.subscription-status.filters",["risevision.common.i18n"]),angular.module("risevision.common.components.subscription-status.directives",["risevision.common.components.subscription-status.service"]),angular.module("risevision.common.components.subscription-status",["ngSanitize","ui.bootstrap","risevision.common.config","risevision.common.components.subscription-status.config","risevision.common.components.subscription-status.directives","risevision.common.components.subscription-status.filters","risevision.common.components.subscription-status.service"])}(),function(){"use strict";angular.module("risevision.common.components.subscription-status.service",["risevision.common.config","risevision.common.components.subscription-status.config"]).service("subscriptionStatusService",["$http","$q","STORE_SERVER_URL","PATH_URL","AUTH_PATH_URL","PATH_URL_BY_DISPLAY_ID",function(e,n,o,t,a,i){function s(e,n){return Math.floor((n.getTime()-e.getTime())/l)}var r=["On Trial","Trial Expired","Subscribed","Suspended","Cancelled","Free","Not Subscribed","Product Not Found","Company Not Found","Error"],l=864e5,c=function(t,i){var s=n.defer(),r=o+a.replace("companyId",i)+t;return e.get(r).then(function(e){e&&e.data?s.resolve(e.data.authorized):s.resolve(!1)}),s.promise},u=function(a,l,c){var u=n.defer();a=Array.isArray(a)?a:[a];var p=o+t.replace("companyId",l)+a.join(",");return c&&(p=o+i.replace("productCode",a.join(","))+c),e.get(p).then(function(e){if(e&&e.data&&e.data.length){for(var n=[],o=0;o<e.data.length;o++){var t=e.data[o];n.push(t),t.plural="",t.statusCode=t.status.toLowerCase().replace(" ","-"),""===t.status?(t.status="N/A",t.statusCode="na",t.subscribed=!1):t.status===r[0]||t.status===r[2]||t.status===r[5]?t.subscribed=!0:t.subscribed=!1,"not-subscribed"===t.statusCode&&t.trialPeriod&&t.trialPeriod>0&&(t.statusCode="trial-available",t.subscribed=!0),t.expiry&&"on-trial"===t.statusCode&&(t.expiry=new Date(t.expiry),t.expiry instanceof Date&&!isNaN(t.expiry.valueOf())&&(t.expiry=s(new Date,t.expiry)),0===t.expiry?t.plural="-zero":t.expiry>1&&(t.plural="-many"))}u.resolve(n)}else u.reject("No response")}),u.promise};this.get=function(e,n,o){return u(e,n,o).then(function(o){var t=o[0];return t.subscribed===!1?c(e,n).then(function(e){return t.subscribed=e,t}):t})},this.list=function(e,n,o){return u(e,n,o)}}])}(),function(){"use strict";angular.module("risevision.common.components.subscription-status.directives").directive("appSubscriptionStatus",["$templateCache","$modal","subscriptionStatusService",function(e,n,o){return{restrict:"AE",require:"?ngModel",scope:{productId:"@",productCode:"@",companyId:"@",productPrice:"@"},template:e.get("subscription-status/app-subscription-status-template.html"),link:function(e,t,a,i){function s(){e.productCode&&e.productId&&e.companyId&&o.get(e.productCode,e.companyId).then(function(n){n&&(e.subscriptionStatus=n)},function(){})}e.subscriptionStatus={status:"N/A",statusCode:"na",subscribed:!1,expiry:null},e.$watch("companyId",function(){s()}),i&&e.$watch("subscriptionStatus",function(e){i.$setViewValue(e)}),e.$watch("showStoreModal",function(o){if(o){var t=n.open({templateUrl:"store-iframe-template.html",controller:"StoreModalController",size:"lg",resolve:{productId:function(){return e.productId},companyId:function(){return e.companyId}}});t.result.then(function(){s()},function(){s()})["finally"](function(){e.showStoreModal=!1})}})}}}]).directive("ngDisableRightClick",function(){return function(e,n){n.bind("contextmenu",function(n){e.$apply(function(){n.preventDefault()})})}})}(),function(){"use strict";angular.module("risevision.common.components.subscription-status.directives").directive("subscriptionStatus",["$rootScope","$templateCache","subscriptionStatusService","STORE_URL","ACCOUNT_PATH","IN_RVA_PATH",function(e,n,o,t,a,i){return{restrict:"AE",require:"?ngModel",scope:{productId:"@",productCode:"@",companyId:"@",displayId:"@",expandedFormat:"@",showStoreModal:"=?",customProductLink:"@",customMessages:"@",customOnClick:"&"},template:n.get("subscription-status/subscription-status-template.html"),link:function(n,s,r,l){function c(){n.productCode&&n.productId&&(n.companyId||n.displayId)&&o.get(n.productCode,n.companyId,n.displayId).then(function(o){o&&(n.subscriptionStatus&&n.subscriptionStatus.status===o.status||e.$emit("subscription-status:changed",o),n.subscriptionStatus=o)},function(e){console.log("Error checking subscription status",e)})}n.subscriptionStatus={status:"N/A",statusCode:"na",subscribed:!1,expiry:null},n.messagesPrefix=n.customMessages?n.customMessages:"subscription-status";var u=function(){n.storeAccountUrl=t+a.replace("companyId",n.companyId),n.customProductLink?n.storeUrl=n.customProductLink:n.storeUrl=t+i.replace("productId",n.productId).replace("companyId",n.companyId)};n.$watch("companyId",function(){c(),u()});var p=e.$on("refreshSubscriptionStatus",function(e,o){null!==o&&n.subscriptionStatus.statusCode!==o||c()});n.$on("$destroy",function(){p()}),l&&n.$watch("subscriptionStatus",function(e){l.$setViewValue(e)})}}}]).filter("to_trusted",["$sce",function(e){return function(n){return e.trustAsHtml(n)}}])}(),angular.module("risevision.common.components.subscription-status.filters").filter("productTrialDaysToExpiry",["$interpolate","$translate",function(e,n){var o=null,t=null;return n(["subscription-status.expires-today","subscription-status.expires-in"],{days:"{{days}}"}).then(function(n){o=e(n["subscription-status.expires-today"]),t=e(n["subscription-status.expires-in"])}),function(e){var n="";try{var a=864e5,i=new Date(e).getTime()-(new Date).getTime(),s=Math.floor(i/a),r={days:s};n=0===s?null!==o?o(r):"":s>0?null!==t?t(r):"":null!==o?o(r):""}catch(l){}return n}}]),function(e){try{e=angular.module("risevision.common.components.subscription-status")}catch(n){e=angular.module("risevision.common.components.subscription-status",[])}e.run(["$templateCache",function(e){e.put("subscription-status/app-subscription-status-template.html",'<a id="app-subscription-status" href="" ng-click="showStoreModal = true" class="store-link"><div class="rate"><strong>${{productPrice}}</strong></div><div class="subscribe"><strong ng-if="!subscriptionStatus.subscribed"><span translate="subscription-status.get-subscription"></span></strong> <strong ng-if="subscriptionStatus.subscribed"><span translate="subscription-status.continue-to-app"></span></strong></div></a>')}])}(),function(e){try{e=angular.module("risevision.common.components.subscription-status")}catch(n){e=angular.module("risevision.common.components.subscription-status",[])}e.run(["$templateCache",function(e){e.put("subscription-status/subscription-status-template.html",'<div ng-show="!expandedFormat"><h3 ng-disable-right-click=""><span ng-show="subscriptionStatus.statusCode !== \'not-subscribed\'" ng-bind-html="messagesPrefix + \'.\' + subscriptionStatus.statusCode + subscriptionStatus.plural | translate:subscriptionStatus | to_trusted"></span></h3><span ng-show="subscriptionStatus.statusCode === \'trial-available\'"><button class="btn btn-primary btn-xs" ng-click="showStoreModal = true;"><span translate="{{messagesPrefix}}.start-trial"></span></button></span> <span ng-show="[\'on-trial\', \'trial-expired\', \'cancelled\', \'not-subscribed\'].indexOf(subscriptionStatus.statusCode) >= 0"><a class="btn btn-primary btn-xs" ng-href="{{storeUrl}}" target="_blank" ng-show="!customOnClick"><span translate="{{messagesPrefix}}.subscribe"></span></a> <a class="btn btn-primary btn-xs" ng-click="customOnClick()" ng-show="customOnClick"><span translate="{{messagesPrefix}}.subscribe"></span></a></span> <span ng-show="[\'suspended\'].indexOf(subscriptionStatus.statusCode) >= 0"><a type="button" class="btn btn-primary btn-xs" ng-href="{{storeAccountUrl}}" target="_blank"><span translate="{{messagesPrefix}}.view-account"></span></a></span></div><div ng-show="expandedFormat"><div class="subscription-status trial" ng-show="subscriptionStatus.statusCode === \'on-trial\'"><span ng-bind-html="messagesPrefix + \'.expanded-\' + subscriptionStatus.statusCode + subscriptionStatus.plural | translate:subscriptionStatus | to_trusted"></span> <a type="button" class="btn btn-primary u_margin-left" ng-href="{{storeUrl}}" target="_blank" ng-show="!customOnClick"><span translate="{{messagesPrefix}}.subscribe-now"></span></a> <a type="button" class="btn btn-primary u_margin-left" ng-click="customOnClick()" ng-show="customOnClick"><span translate="{{messagesPrefix}}.subscribe-now"></span></a></div><div class="subscription-status expired" ng-show="subscriptionStatus.statusCode === \'trial-expired\'"><span translate="{{messagesPrefix}}.expanded-expired"></span> <a type="button" class="btn btn-primary u_margin-left" ng-href="{{storeUrl}}" target="_blank" ng-show="!customOnClick"><span translate="{{messagesPrefix}}.subscribe-now"></span></a> <a type="button" class="btn btn-primary u_margin-left" ng-click="customOnClick()" ng-show="customOnClick"><span translate="{{messagesPrefix}}.subscribe-now"></span></a></div><div class="subscription-status cancelled" ng-show="subscriptionStatus.statusCode === \'cancelled\'"><span translate="{{messagesPrefix}}.expanded-cancelled"></span> <a type="button" class="btn btn-primary u_margin-left" ng-href="{{storeUrl}}" target="_blank" ng-show="!customOnClick"><span translate="{{messagesPrefix}}.subscribe-now"></span></a> <a type="button" class="btn btn-primary u_margin-left" ng-click="customOnClick()" ng-show="customOnClick"><span translate="{{messagesPrefix}}.subscribe-now"></span></a></div><div class="subscription-status suspended" ng-show="subscriptionStatus.statusCode === \'suspended\'"><span translate="{{messagesPrefix}}.expanded-suspended"></span> <a type="button" class="btn btn-primary u_margin-left" ng-href="{{storeAccountUrl}}" target="_blank"><span translate="{{messagesPrefix}}.view-invoices"></span></a></div></div>')}])}(),angular.module("risevision.common.components.plans.services",["risevision.store.authorization","risevision.common.gapi","risevision.common.currency"]),angular.module("risevision.common.components.plans",["risevision.common.components.plans.services","risevision.common.components.purchase-flow","risevision.common.components.scrolling-list","risevision.common.components.loading","ui.bootstrap"]),function(e){"use strict";e.module("risevision.common.currency",["risevision.common.gapi"]).factory("currencyService",["$q","storeAPILoader","$log",function(e,n,o){var t=null,a={defaultItem:null},i=function(e){this.country=e.country,this.currencyCode=e.currencyCode,this.description=e.description,this.bankAccountCode=e.bankAccountCode,this.bankAccountDescription=e.bankAccountDescription,this.getName=function(){return this.currencyCode.toUpperCase()},this.pickPrice=function(e,n){switch(this.currencyCode.toUpperCase()){case"CAD":return n;default:return e}}};return a.getByCountry=function(e){if(e)for(var n=0;n<this.items.length;n++)if(this.items[n].country&&this.items[n].country.toUpperCase()===e.toUpperCase())return this.items[n];return this.defaultItem},a.setItems=function(e){this.items=[];for(var n=0;n<e.length;n++){var o=new i(e[n]);this.items.push(o),o.country||(this.defaultItem=o)}},function(){return null!==t?t.promise:(t=e.defer(),o.debug("currencyService called"),n().then(function(e){var n=e.currency.list();n.execute(function(e){o.debug("currencyService resp",e),e.error?(console.error("currencyService error: ",e.error),t.reject(e.error)):(a.setItems(e.items),t.resolve(a))})}),t.promise)}}])}(angular),function(e){"use strict";e.module("risevision.common.components.plans").factory("currentPlanFactory",["$log","$rootScope","userState","PLANS_LIST",function(e,n,o,t){var a={},i=_.keyBy(t,"type"),s=_.keyBy(t,"productCode"),r=function(){var t=o.getCopyOfSelectedCompany(),r=null;t.id&&t.planProductCode?(r=_.cloneDeep(s[t.planProductCode]),r.status=t.planSubscriptionStatus,r.trialPeriod=t.planTrialPeriod,r.proStatus=t.playerProSubscriptionStatus,r.planPlayerProLicenseCount=t.planPlayerProLicenseCount,r.playerProLicenseCount=t.playerProLicenseCount):r=_.cloneDeep(i.free),a.currentPlan=r,e.debug("Current plan",r),n.$emit("risevision.plan.loaded",r)};return a.isPlanActive=function(){return a.isSubscribed()||a.isOnTrial()},a.isFree=function(){return"free"===a.currentPlan.type},a.isEnterpriseSubCompany=function(){return"enterprisesub"===a.currentPlan.type},a.isSubscribed=function(){return!a.isFree()&&"Active"===a.currentPlan.status},a.isOnTrial=function(){return!a.isFree()&&"Trial"===a.currentPlan.status},a.isTrialExpired=function(){return!a.isFree()&&"Trial Expired"===a.currentPlan.status},a.isSuspended=function(){return!a.isFree()&&"Suspended"===a.currentPlan.status},a.isCancelled=function(){return!a.isFree()&&"Cancelled"===a.currentPlan.status},a.isProSubscribed=function(){return"Active"===a.currentPlan.proStatus},a.isProSuspended=function(){return"Suspended"===a.currentPlan.proStatus},r(),n.$on("risevision.company.selectedCompanyChanged",function(){r()}),n.$on("risevision.company.updated",function(){r()}),a}])}(angular),function(e){"use strict";e.module("risevision.common.components.plans").value("PLANS_LIST",[{name:"Free",type:"free",order:0,productId:"000",productCode:"000",status:"Active",proLicenseCount:0,monthly:{priceDisplayMonth:0,billAmount:0,save:0},yearly:{priceDisplayMonth:0,billAmount:0,save:0}},{name:"Starter",type:"starter",order:1,productId:"335",productCode:"019137f7bb35f5f90085a033c013672471faadae",proLicenseCount:1,monthly:{priceDisplayMonth:10,billAmount:10,save:0},yearly:{priceDisplayMonth:10,billAmount:110,save:10},trialPeriod:14},{name:"Basic",type:"basic",order:2,productId:"289",productCode:"40c092161f547f8f72c9f173cd8eebcb9ca5dd25",proLicenseCount:3,monthly:{priceDisplayMonth:9,billAmount:27,save:36},yearly:{priceDisplayMonth:9,billAmount:297,save:63},trialPeriod:14},{name:"Advanced",type:"advanced",order:3,productId:"290",productCode:"93b5595f0d7e4c04a3baba1102ffaecb17607bf4",proLicenseCount:11,monthly:{priceDisplayMonth:8,billAmount:88,save:264},yearly:{priceDisplayMonth:8,billAmount:968,save:352},trialPeriod:14},{name:"Enterprise",type:"enterprise",order:4,productId:"301",productCode:"b1844725d63fde197f5125b58b6cba6260ee7a57",proLicenseCount:70,monthly:{priceDisplayMonth:7,billAmount:490,save:2520},yearly:{priceDisplayMonth:7,billAmount:5390,save:3010}},{name:"Enterprise",type:"enterprisesub",order:5,productId:"303",productCode:"d521f5bfbc1eef109481eebb79831e11c7804ad8",proLicenseCount:0}]).factory("plansFactory",["$q","$log","$modal","$templateCache","userState","subscriptionStatusService","storeAuthorization","PLANS_LIST",function(e,n,o,t,a,i,s,r){var l={},c=_.map(r,"productCode"),u=_.keyBy(r,"type"),p=_.keyBy(r,"productCode"),d=[u.free,u.starter,u.basic,u.advanced,u.enterprise];l.showPlansModal=function(){o.open({template:t.get("plans/plans-modal.html"),controller:"PlansModalCtrl",size:"lg"})};var m=function(){return n.debug("getCompanyPlanStatus called."),i.list(c.slice(1),a.getSelectedCompanyId()).then(function(e){n.debug("getCompanyPlanStatus response.",e);var o=_.keyBy(e,"pc");return o})};return l.getPlansDetails=function(){var e=_.cloneDeep(d);return m().then(function(n){return e.forEach(function(e){var o=n[e.productCode]||e;e.status=o.status,e.statusCode=o.statusCode}),e})["catch"](function(e){n.debug("Failed to load plans",e)})},l.startTrial=function(e){return s.startTrial(e.productCode).then(function(){var n=a.getCopyOfSelectedCompany(!0);n.planProductCode=e.productCode,n.planTrialPeriod=e.trialPeriod,n.planSubscriptionStatus="Trial",n.planPlayerProLicenseCount=p[e.productCode].proLicenseCount,a.updateCompanySettings(n)})["catch"](function(e){throw n.debug("Failed to start trial",e),e})},l.startBasicPlanTrial=function(){return l.startTrial(u.basic)},l}])}(angular),function(e){"use strict";e.module("risevision.common.components.plans").factory("playerLicenseFactory",["userState","currentPlanFactory",function(e,n){var o={};return o.hasProfessionalLicenses=function(){return n.isPlanActive()||n.isProSubscribed()},o.getProLicenseCount=function(){var e=n.isPlanActive()&&n.currentPlan.planPlayerProLicenseCount||0,o=n.isProSubscribed()&&n.currentPlan.playerProLicenseCount||0;return e+o},o.areAllProLicensesUsed=function(){var n=e.getCopyOfSelectedCompany(),t=o.getProLicenseCount(),a=n.playerProAssignedDisplays||[];return a.length>=t},o.toggleDisplayLicenseLocal=function(n,o){var t=e.getCopyOfSelectedCompany(!0),a=t.playerProAssignedDisplays||[];o&&a.indexOf(n)===-1?a.push(n):!o&&a.indexOf(n)>=0&&a.splice(a.indexOf(n),1),t.playerProAssignedDisplays=a,e.updateCompanySettings(t)},o}])}(angular),angular.module("risevision.common.components.plans").controller("PlansModalCtrl",["$scope","$rootScope","$modalInstance","$log","$loading","$timeout","plansFactory","currentPlanFactory","userState","purchaseFactory",function(e,n,o,t,a,i,s,r,l,c){function u(){return a.start("plans-modal"),s.getPlansDetails().then(function(n){e.plans=n})["finally"](function(){a.stop("plans-modal")})}e.currentPlan=r.currentPlan,e.purchaseFactory=c,e.startTrialError=null,e.isMonthly=!0,e.origin=l.getCopyOfSelectedCompany().origin,e.isCurrentPlan=function(n){return e.currentPlan.type===n.type},e.isCurrentPlanSubscribed=function(n){return e.isCurrentPlan(n)&&e.isSubscribed(n)},e.isOnTrial=function(e){return"on-trial"===e.statusCode},e.isTrialAvailable=function(e){return"trial-available"===e.statusCode},e.isTrialExpired=function(e){return"trial-expired"===e.statusCode},e.isSubscribed=function(e){return"Subscribed"===e.status||"Active"===e.status},e.isFree=function(e){return"free"===e.type},e.isStarter=function(e){return"starter"===e.type},e.showSavings=function(n){return!(e.isFree(n)||e.isStarter(n)&&e.isMonthly)},e.currentPlanLabelVisible=function(n){return r.isPlanActive()?e.isCurrentPlan(n):e.isFree(n)},e.getVisibleAction=function(n){return r.isPlanActive()?e.isCurrentPlan(n)?e.isOnTrial(n)?"subscribe":"":e.currentPlan.order>n.order?"downgrade":"subscribe":e.isFree(n)?"":e.isTrialAvailable(n)?"start-trial":"subscribe"},e.startTrial=function(r){a.start("plans-modal"),e.startTrialError=null,s.startTrial(r).then(function(){return i(5e3).then(function(){return l.reloadSelectedCompany()}).then(function(){n.$emit("risevision.company.trial.started")})["catch"](function(e){t.debug("Failed to reload company",e)})["finally"](function(){o.close(r)})})["catch"](function(n){e.startTrialError=n})["finally"](function(){a.stop("plans-modal")})},e.dismiss=function(){o.dismiss("cancel")},e.init=function(){u()},e.init()}]),function(e){try{e=angular.module("risevision.common.components.plans")}catch(n){e=angular.module("risevision.common.components.plans",[])}e.run(["$templateCache",function(e){e.put("plans/plans-modal.html",'<div rv-spinner="" rv-spinner-key="plans-modal" rv-spinner-start-active="1"><div class="modal-header"><button type="button" class="close" ng-click="dismiss()" aria-hidden="true"><i class="fa fa-times"></i></button><h3 class="modal-title" translate="">common-header.plans.choose-plan</h3></div><div id="plans-modal" class="modal-body u_padding-lg" stop-event="touchend"><div class="text-center"><div class="btn-group" role="group" aria-label="..."><button ng-click="isMonthly = true" type="button" class="btn btn-default" ng-class="{ active: isMonthly }">Monthly</button> <button ng-click="isMonthly = false" type="button" class="btn btn-default" ng-class="{ active: !isMonthly }">Yearly</button></div><p class="u_padding-sm-vertical">Pay yearly, get one month free!</p></div><div class="pricing-table"><div id="planHeader" class="monthly"><div class="planColumn" ng-class="{ currentPlan: currentPlanLabelVisible(plan) }" ng-repeat="plan in plans"><div id="current-plan" class="currentPlanLabel" ng-show="currentPlanLabelVisible(plan)" translate="">common-header.plans.current</div><h2>{{plan.name}}</h2><h3 class="planColumnPrice" ng-show="!isFree(plan) && !isStarter(plan)"><span>$10</span>${{ isMonthly ? plan.monthly.priceDisplayMonth : plan.yearly.priceDisplayMonth }}</h3><h3 class="planColumnPrice" ng-show="isStarter(plan)">${{ isMonthly ? plan.monthly.priceDisplayMonth : plan.yearly.priceDisplayMonth }}</h3><p ng-show="!isFree(plan) && isMonthly" class="text-muted" translate="" translate-values="{ price: plan.monthly.billAmount }">common-header.plans.perDisplayBilledMonthly</p><p ng-show="!isFree(plan) && !isMonthly" class="text-muted" translate="" translate-values="{ price: plan.yearly.billAmount }">common-header.plans.perDisplayBilledYearly</p><div ng-show="!isFree(plan)"><h3>{{plan.proLicenseCount}}</h3><span ng-show="plan.proLicenseCount === 1" translate="">common-header.plans.displayIncluded</span> <span ng-show="plan.proLicenseCount > 1" translate="">common-header.plans.displaysIncluded</span></div><p ng-show="showSavings(plan)" class="planSavings" translate="" translate-values="{ save: (isMonthly ? plan.monthly.save : plan.yearly.save) }">common-header.plans.saveEachYear</p><p ng-show="!isFree(plan) && isCurrentPlanSubscribed(plan)" translate="">common-header.plans.needMoreDisplays</p><a ng-show="!isFree(plan) && isCurrentPlanSubscribed(plan)" href="https://www.risevision.com/purchaseadditionaldisplaylicenses" target="_blank" translate="">common-header.plans.individual-licenses</a><p id="trial-days-remaining" class="small u_margin-sm-bottom text-subtle" ng-show="isCurrentPlan(plan) && isOnTrial(plan)" translate="" translate-values="{ count: currentPlan.trialPeriod }">common-header.plans.days-left-trial</p><p class="small u_margin-sm-bottom text-danger" ng-show="isCurrentPlan(plan) && isTrialExpired(plan)" translate="">common-header.plans.trial-expired</p><a id="subscribe-plan" ng-if="origin === \'Rise\'" ng-show="getVisibleAction(plan) === \'subscribe\'" class="btn btn-primary btn-block" target="_blank" href="https://store.risevision.com/product/{{plan.productId}}" translate="">common-header.plans.subscribe</a> <a id="subscribe-plan" ng-if="origin !== \'Rise\'" ng-show="getVisibleAction(plan) === \'subscribe\'" class="btn btn-primary btn-block" ng-click="purchaseFactory.showPurchaseModal(plan, isMonthly)" translate="">common-header.plans.subscribe</a> <a id="downgrade-plan" ng-show="getVisibleAction(plan) === \'downgrade\'" target="_blank" href="https://www.risevision.com/downgradeplan" class="btn btn-default btn-block" translate="">common-header.plans.downgrade</a> <a id="start-trial-plan" ng-show="getVisibleAction(plan) === \'start-trial\'" target="_blank" ng-click="startTrial(plan)" class="btn btn-primary btn-block" translate="">common-header.plans.start-trial</a></div></div><div id="planFeatures"><div class="planFeatureColumn" id="planFreeFeatures"><h4 id="planFeatures" class="planFeatureColumnTitle" style="column-span: all;">You can use the following features for free on any of your displays!</h4><div class="planFeature"><p class="featureTitle">Text</p></div><div class="planFeature"><p class="featureTitle">Image by URL</p></div><div class="planFeature"><p class="featureTitle">Video by URL</p></div><div class="planFeature"><p class="featureTitle">RSS</p></div><div class="planFeature"><p class="featureTitle">Time & Date</p></div><div class="planFeature"><p class="featureTitle">HTML</p></div></div><div class="planFeatureColumn" id="planPaidFeatures"><h4 class="planFeatureColumnTitle" style="column-span: all;">Key Features Included With All Paid Plans <span class="u_padding-sm-vertical">Everything in \'Free\' +</span></h4><div class="planFeature"><p class="featureTitle">Image Slideshows</p></div><div class="planFeature"><p class="featureTitle">Video Playlists</p></div><div class="planFeature"><p class="featureTitle">Unlimited Image & Video File Storage</p></div><div class="planFeature"><p class="featureTitle">Pre-made Templates</p></div><div class="planFeature"><p class="featureTitle">Centralized Content Control</p></div><div class="planFeature"><p class="featureTitle">Scheduling</p></div><div class="planFeature"><p class="featureTitle">Google Calendar</p></div><div class="planFeature"><p class="featureTitle">Google Spreadsheet</p></div><div class="planFeature"><p class="featureTitle">Twitter</p></div><div class="planFeature"><p class="featureTitle">Web Pages</p></div><div class="planFeature"><p class="featureTitle">Google Reliability & Security</p></div><div class="planFeature"><p class="featureTitle">Account / Sub-Account Hierarchy</p></div><div class="planFeature"><p class="featureTitle">User Role Permissioning</p></div><div class="planFeature"><p class="featureTitle">Display Monitoring Notifications</p></div><div class="planFeature"><p class="featureTitle">Content Shows Offline</p></div><div class="planFeature"><p class="featureTitle">Alert Integration</p></div><div class="planFeature"><p class="featureTitle">Display On/Off Control</p></div><h4 class="text-center" style="column-span: all;"><a href="https://www.risevision.com/pricing" target="_blank">Learn More About Key Features</a></h4></div></div><div id="planFooter"></div></div><div class="text-center u_padding-sm-vertical"><h3><a href="https://www.risevision.com/contact-us" target="_blank">Questions? We can help!</a></h3><h3><a href="https://www.risevision.com/licensesubcompany" target="_blank">Need to license your Sub-Company?</a></h3></div></div><div class="modal-footer"></div></div>')}])}(),angular.module("risevision.common.components.purchase-flow",["risevision.store.authorization","risevision.common.gapi","risevision.common.geodata","risevision.common.currency","risevision.common.components.loading","risevision.core.countries","ui.bootstrap"]),function(e){"use strict";e.module("risevision.common.components.purchase-flow").factory("purchaseFactory",["$modal","$templateCache",function(n,o){var t={};return t.showPurchaseModal=function(t,a){n.open({template:o.get("purchase-flow/purchase-modal.html"),controller:"PurchaseModalCtrl",size:"md",resolve:{plan:function(){var n=e.copy(t);return n.isMonthly=a,n}}})},t}])}(angular),angular.module("risevision.common.components.purchase-flow").directive("billingAddress",["$templateCache","COUNTRIES","REGIONS_CA","REGIONS_US",function(e,n,o,t){return{restrict:"E",template:e.get("purchase-flow/checkout-billing-address.html"),link:function(e){e.countries=n,e.regionsCA=o,e.regionsUS=t,e.isFieldInvalid=function(n){var o=e.form.billingAddressForm,t=e.form.billingAddressForm[n];return(t.$dirty||o.$submitted)&&t.$invalid}}}}]),angular.module("risevision.common.components.purchase-flow").directive("provinceValidator",["REGIONS_CA","REGIONS_US",function(e,n){return{require:"ngModel",restrict:"A",scope:{provinceValidator:"="},link:function(o,t,a,i){var s=function(t){var a=o.provinceValidator,s=!0;return a&&("CA"===a?s=t&&_.find(e,function(e){return e[1]===t}):"US"===a&&(s=t&&_.find(n,function(e){return e[1]===t}))),i.$setValidity("validProvince",!!s),t};o.$watch("provinceValidator",function(){s(i.$modelValue)}),i.$parsers.unshift(s),i.$formatters.unshift(s)}}}]),angular.module("risevision.common.components.purchase-flow").directive("reviewSubscription",["$templateCache",function(e){return{restrict:"E",template:e.get("purchase-flow/checkout-review-subscription.html"),link:function(e){var n=function(){var n=e.plan.additionalDisplayLicenses;return!isNaN(n)&&n%1===0&&n>=0?n:0};e.incrementLicenses=function(){e.plan.additionalDisplayLicenses=n()+1},e.decrementLicenses=function(){0===n()&&(e.plan.additionalDisplayLicenses=0),e.plan.additionalDisplayLicenses>0&&e.plan.additionalDisplayLicenses--},e.getMonthlyPrice=function(){return e.plan.monthly.billAmount+n()*e.plan.monthly.priceDisplayMonth},e.getYearlyPrice=function(){return e.plan.yearly.billAmount+n()*e.plan.yearly.priceDisplayMonth*12}}}}]),angular.module("risevision.common.components.purchase-flow").value("PURCHASE_STEPS",[{name:"Subscription Details",index:0,formName:"reviewSubscriptionForm"},{name:"Billing Address",index:1,formName:"billingAddressForm"},{name:"Shipping Address",index:2},{name:"Payment Method",index:3},{name:"Purchase Review",index:4}]).controller("PurchaseModalCtrl",["$scope","$modalInstance","$log","$loading","plan","PURCHASE_STEPS",function(e,n,o,t,a,i){e.form={},e.plan=a,e.plan.additionalDisplayLicenses=0,e.PURCHASE_STEPS=i,e.currentStep=0;var s=function(){var n=i[e.currentStep],o=n.formName,t=e.form[o];return!t||t.$valid};e.setNextStep=function(){s()&&e.currentStep++},e.setPreviousStep=function(){e.currentStep>0&&e.currentStep--},e.dismiss=function(){n.dismiss("cancel")},e.init=function(){},e.init()}]),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/checkout-billing-address.html",'<div id="checkout-billing-address"><form id="form.billingAddressForm" role="form" class="u_margin-md-top" name="form.billingAddressForm" autocomplete="on" novalidate=""><div class="alert alert-danger" ng-show="form.billingAddressForm.$submitted && form.billingAddressForm.$invalid">Please complete the missing information below.</div><div class="row"><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'firstName\') }"><label for="billing-address-firstName" class="control-label">First Name</label> <input id="billing-address-firstName" type="text" class="form-control" name="firstName" ng-model="plan.contact.firstName" autocomplete="given-name" required=""></div></div><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'lastName\') }"><label for="billing-address-lastName" class="control-label">Last Name</label> <input id="billing-address-lastName" type="text" class="form-control" name="lastName" ng-model="plan.contact.lastName" autocomplete="family-name" required=""></div></div></div><div class="row"><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'email\') }"><label for="billing-address-email" class="control-label">Email</label> <input id="billing-address-email" type="email" class="form-control" name="email" ng-model="plan.contact.email" autocomplete="email" required=""></div></div><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'tel\') }"><label for="billing-address-phone" class="control-label">Telephone</label> <input id="billing-address-phone" name="tel" type="tel" class="form-control" ng-model="plan.contact.telephone" autocomplete="tel"></div></div></div><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'companyName\') }"><label for="billing-address-companyName" class="control-label">Company Name</label> <input id="billing-address-companyName" name="companyName" type="text" class="form-control" ng-model="plan.billingAddress.name" autocomplete="organization" required=""></div><div class="row"><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'street\') }"><label for="billing-address-streetAddress" class="control-label">Street Address</label> <input id="billing-address-streetAddress" name="street" type="text" class="form-control" ng-model="plan.billingAddress.street" autocomplete="address-line1" pattern=".{0,50}" required=""></div></div><div class="col-md-6"><div class="form-group"><label for="billing-address-unit" class="control-label">Unit</label> <input id="billing-address-unit" type="text" name="unit" class="form-control" ng-model="plan.billingAddress.unit" autocomplete="address-line2" pattern=".{0,100}"></div></div></div><div class="row"><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'city\') }"><label for="billing-address-city" class="control-label">City</label> <input id="billing-address-city" name="city" type="text" class="form-control" ng-model="plan.billingAddress.city" autocomplete="address-level2" required=""></div></div><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'country\') }"><label for="billing-address-country" class="control-label">Country</label><select id="billing-address-country" name="country" autocomplete="country" class="form-control" ng-model="plan.billingAddress.country" ng-options="c.code as c.name for c in countries" empty-select-parser="" required=""><option ng-show="false" value="">&lt; Select Country &gt;</option></select></div></div></div><div class="row"><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'province\') }"><label for="billing-address-region" class="control-label">State/Province/Region</label> <input name="province" type="text" class="form-control" ng-model="plan.billingAddress.province" autocomplete="address-level1" ng-show="plan.billingAddress.country !== \'US\' && plan.billingAddress.country !== \'CA\'" province-validator="plan.billingAddress.country"><select class="form-control selectpicker" ng-model="plan.billingAddress.province" ng-options="c[1] as c[0] for c in regionsCA" autocomplete="address-level1" ng-show="plan.billingAddress.country === \'CA\'" empty-select-parser=""><option ng-show="false" value="">&lt; Select Province &gt;</option></select><select class="form-control selectpicker" ng-model="plan.billingAddress.province" ng-options="c[1] as c[0] for c in regionsUS" autocomplete="address-level1" ng-show="plan.billingAddress.country === \'US\'" empty-select-parser=""><option ng-show="false" value="">&lt; Select State &gt;</option></select></div></div><div class="col-md-6"><div class="form-group" ng-class="{ \'has-error\': isFieldInvalid(\'postalCode\') }"><label for="billing-address-postalCode" class="control-label">ZIP/Postal Code</label> <input id="billing-address-postalCode" name="postalCode" type="text" class="form-control" ng-model="plan.billingAddress.postalCode" autocomplete="postal-code" pattern=".{0,11}" required=""></div></div></div><hr><div class="row"><div class="col-xs-12"><button class="btn btn-default btn-lg pull-left" ng-click="setPreviousStep()" translate="">common.back</button> <button id="continueButton" type="submit" form="form.billingAddressForm" class="btn btn-primary btn-lg pull-right" ng-click="setNextStep()" translate="">common.continue</button></div></div></form></div>');
}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/checkout-payment-methods.html",'<div id="checkout-payment-methods"><div class="row u_margin-md-top"><div class="col-md-8 col-xs-12"><form id="paymentMethodForm" class="form-inline"><div class="form-group"><label for="paymentMethodSelection" class="u_margin-right">Payment Method</label><select id="paymentMethodSelection" class="form-control selectpicker"><option value="Credit Card">Credit Card</option><option value="Invoice Me">Generate Invoice</option></select></div></form></div></div><hr><form id="paymentDetailsForm" role="form" class="u_margin-md-top" name="forms.paymentDetailsForm" novalidate=""><div class="row"><div class="col-md-12"><div class="form-group"><select id="paymentMethodSelector" class="form-control selectpicker"><option value="">Mastercard ****-4242</option><option value="">Visa ****-9292</option><option value="">Add New Credit Card</option></select></div></div></div><div id="firstTimeCC" style="display:none"><div class="row"><div class="col-md-12"><div class="form-group"><label for="cardHolderName" lass="control-label">Cardholder Name</label> <input id="cardHolderName" type="text" class="form-control" name="ccname" autocomplete="cc-name"></div></div></div><div class="row"><div class="col-xs-12 col-sm-6"><div class="form-group"><label for="cc" class="control-label">Card Number</label> <input id="cc" type="text" class="form-control" placeholder="0000 0000 0000 0000" name="cardnumber" autocomplete="cc-number"></div></div><div class="col-xs-6 col-sm-3"><div class="form-group"><label for="ccexp" class="control-label">Expiry Date</label> <input id="ccexp" type="text" placeholder="MM / YY" class="form-control masked" pattern="(1[0-2]|0[1-9])\\/(1[5-9]|2\\d)" data-valid-example="05/18" name="cc-exp" autocomplete="cc-exp"></div></div><div class="col-xs-6 col-sm-3"><div class="form-group"><label for="cvv" class="control-label">CVV</label> <input id="cvv" type="text" class="form-control" name="cvc" autocomplete="cc-csc"></div></div></div><div class="checkbox"><label><input type="checkbox" id="toggleMatchBillingAddress" checked=""> Same As Billing Address</label></div><div id="targetCCAddress" style="display: none"><div class="row"><div class="col-md-6"><div class="form-group"><label for="streetAddressCC" class="control-label">Street Address</label> <input id="streetAddressCCAddress" type="text" class="form-control"></div></div><div class="col-md-6"><div class="form-group"><label for="unitCC" class="control-label">Unit</label> <input id="unitCC" type="text" class="form-control"></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="cityCCAddress" class="control-label">City</label> <input id="cityCCAddress" type="text" class="form-control"></div></div><div class="col-md-6"><div class="form-group"><label for="countryCCAddress" class="control-label">Country</label><select id="countryCCAddress" name="country" class="form-control selectpicker" autocomplete="country"><option ng-show="false" value="">&lt; Select Country &gt;</option><option label="Afghanistan" value="string:AF">Afghanistan</option><option label="Albania" value="string:AL">Albania</option><option label="Algeria" value="string:DZ">Algeria</option><option label="American Samoa" value="string:AS">American Samoa</option><option label="Andorra" value="string:AD">Andorra</option><option label="Angola" value="string:AO">Angola</option><option label="Anguilla" value="string:AI">Anguilla</option><option label="Antarctica" value="string:AQ">Antarctica</option><option label="Antigua and Barbuda" value="string:AG">Antigua and Barbuda</option><option label="Argentina" value="string:AR">Argentina</option><option label="Armenia" value="string:AM">Armenia</option><option label="Aruba" value="string:AW">Aruba</option><option label="Australia" value="string:AU">Australia</option><option label="Austria" value="string:AT">Austria</option><option label="Azerbaijan" value="string:AZ">Azerbaijan</option><option label="Bahamas" value="string:BS">Bahamas</option><option label="Bahrain" value="string:BH">Bahrain</option><option label="Bangladesh" value="string:BD">Bangladesh</option><option label="Barbados" value="string:BB">Barbados</option><option label="Belarus" value="string:BY">Belarus</option><option label="Belgium" value="string:BE">Belgium</option><option label="Belize" value="string:BZ">Belize</option><option label="Benin" value="string:BJ">Benin</option><option label="Bermuda" value="string:BM">Bermuda</option><option label="Bhutan" value="string:BT">Bhutan</option><option label="Bolivia" value="string:BO">Bolivia</option><option label="Bonaire, Sint Eustatius and Saba" value="string:BQ">Bonaire, Sint Eustatius and Saba</option><option label="Bosnia and Herzegovina" value="string:BA">Bosnia and Herzegovina</option><option label="Botswana" value="string:BW">Botswana</option><option label="Bouvet Island" value="string:BV">Bouvet Island</option><option label="Brazil" value="string:BR">Brazil</option><option label="British Indian Ocean Territory" value="string:IO">British Indian Ocean Territory</option><option label="British Virgin Islands" value="string:VG">British Virgin Islands</option><option label="Brunei Darussalam" value="string:BN">Brunei Darussalam</option><option label="Bulgaria" value="string:BG">Bulgaria</option><option label="Burkina Faso" value="string:BF">Burkina Faso</option><option label="Burundi" value="string:BI">Burundi</option><option label="Cabo Verde" value="string:CV">Cabo Verde</option><option label="Cambodia" value="string:KH">Cambodia</option><option label="Cameroon" value="string:CM">Cameroon</option><option label="Canada" value="string:CA">Canada</option><option label="Cayman Islands" value="string:KY">Cayman Islands</option><option label="Central African Republic" value="string:CF">Central African Republic</option><option label="Chad" value="string:TD">Chad</option><option label="Chile" value="string:CL">Chile</option><option label="China" value="string:CN">China</option><option label="Christmas Island" value="string:CX">Christmas Island</option><option label="Cocos (Keeling) Islands" value="string:CC">Cocos (Keeling) Islands</option><option label="Colombia" value="string:CO">Colombia</option><option label="Comoros" value="string:KM">Comoros</option><option label="Congo" value="string:CG">Congo</option><option label="Congo, the Democratic Republic of the" value="string:CD">Congo, the Democratic Republic of the</option><option label="Cook Islands" value="string:CK">Cook Islands</option><option label="Costa Rica" value="string:CR">Costa Rica</option><option label="Croatia" value="string:HR">Croatia</option><option label="Cuba" value="string:CU">Cuba</option><option label="Curaçao" value="string:CW">Curaçao</option><option label="Cyprus" value="string:CY">Cyprus</option><option label="Czech Republic" value="string:CZ">Czech Republic</option><option label="Côte d\'Ivoire" value="string:CI">Côte d\'Ivoire</option><option label="Denmark" value="string:DK">Denmark</option><option label="Djibouti" value="string:DJ">Djibouti</option><option label="Dominica" value="string:DM">Dominica</option><option label="Dominican Republic" value="string:DO">Dominican Republic</option><option label="Ecuador" value="string:EC">Ecuador</option><option label="Egypt" value="string:EG">Egypt</option><option label="El Salvador" value="string:SV">El Salvador</option><option label="Equatorial Guinea" value="string:GQ">Equatorial Guinea</option><option label="Eritrea" value="string:ER">Eritrea</option><option label="Estonia" value="string:EE">Estonia</option><option label="Ethiopia" value="string:ET">Ethiopia</option><option label="Falkland Islands (Malvinas)" value="string:FK">Falkland Islands (Malvinas)</option><option label="Faroe Islands" value="string:FO">Faroe Islands</option><option label="Fiji" value="string:FJ">Fiji</option><option label="Finland" value="string:FI">Finland</option><option label="France" value="string:FR">France</option><option label="French Guiana" value="string:GF">French Guiana</option><option label="French Polynesia" value="string:PF">French Polynesia</option><option label="French Southern Territories" value="string:TF">French Southern Territories</option><option label="Gabon" value="string:GA">Gabon</option><option label="Gambia" value="string:GM">Gambia</option><option label="Georgia" value="string:GE">Georgia</option><option label="Germany" value="string:DE">Germany</option><option label="Ghana" value="string:GH">Ghana</option><option label="Gibraltar" value="string:GI">Gibraltar</option><option label="Greece" value="string:GR">Greece</option><option label="Greenland" value="string:GL">Greenland</option><option label="Grenada" value="string:GD">Grenada</option><option label="Guadeloupe" value="string:GP">Guadeloupe</option><option label="Guam" value="string:GU">Guam</option><option label="Guatemala" value="string:GT">Guatemala</option><option label="Guernsey" value="string:GG">Guernsey</option><option label="Guinea" value="string:GN">Guinea</option><option label="Guinea-Bissau" value="string:GW">Guinea-Bissau</option><option label="Guyana" value="string:GY">Guyana</option><option label="Haiti" value="string:HT">Haiti</option><option label="Heard Island and McDonald Islands" value="string:HM">Heard Island and McDonald Islands</option><option label="Holy See (Vatican City State)" value="string:VA">Holy See (Vatican City State)</option><option label="Honduras" value="string:HN">Honduras</option><option label="Hong Kong" value="string:HK">Hong Kong</option><option label="Hungary" value="string:HU">Hungary</option><option label="Iceland" value="string:IS">Iceland</option><option label="India" value="string:IN">India</option><option label="Indonesia" value="string:ID">Indonesia</option><option label="Iran" value="string:IR">Iran</option><option label="Iraq" value="string:IQ">Iraq</option><option label="Ireland" value="string:IE">Ireland</option><option label="Isle of Man" value="string:IM">Isle of Man</option><option label="Israel" value="string:IL">Israel</option><option label="Italy" value="string:IT">Italy</option><option label="Jamaica" value="string:JM">Jamaica</option><option label="Japan" value="string:JP">Japan</option><option label="Jersey" value="string:JE">Jersey</option><option label="Jordan" value="string:JO">Jordan</option><option label="Kazakhstan" value="string:KZ">Kazakhstan</option><option label="Kenya" value="string:KE">Kenya</option><option label="Kiribati" value="string:KI">Kiribati</option><option label="Korea, Democratic People\'s Republic of" value="string:KP">Korea, Democratic People\'s Republic of</option><option label="Korea, Republic of" value="string:KR">Korea, Republic of</option><option label="Kuwait" value="string:KW">Kuwait</option><option label="Kyrgyzstan" value="string:KG">Kyrgyzstan</option><option label="Lao People\'s Democratic Republic" value="string:LA">Lao People\'s Democratic Republic</option><option label="Latvia" value="string:LV">Latvia</option><option label="Lebanon" value="string:LB">Lebanon</option><option label="Lesotho" value="string:LS">Lesotho</option><option label="Liberia" value="string:LR">Liberia</option><option label="Libya" value="string:LY">Libya</option><option label="Liechtenstein" value="string:LI">Liechtenstein</option><option label="Lithuania" value="string:LT">Lithuania</option><option label="Luxembourg" value="string:LU">Luxembourg</option><option label="Macau" value="string:MO">Macau</option><option label="Macedonia, the former Yugoslav Republic of" value="string:MK">Macedonia, the former Yugoslav Republic of</option><option label="Madagascar" value="string:MG">Madagascar</option><option label="Malawi" value="string:MW">Malawi</option><option label="Malaysia" value="string:MY">Malaysia</option><option label="Maldives" value="string:MV">Maldives</option><option label="Mali" value="string:ML">Mali</option><option label="Malta" value="string:MT">Malta</option><option label="Marshall Islands" value="string:MH">Marshall Islands</option><option label="Martinique" value="string:MQ">Martinique</option><option label="Mauritania" value="string:MR">Mauritania</option><option label="Mauritius" value="string:MU">Mauritius</option><option label="Mayotte" value="string:YT">Mayotte</option><option label="Mexico" value="string:MX">Mexico</option><option label="Micronesia" value="string:FM">Micronesia</option><option label="Moldova" value="string:MD">Moldova</option><option label="Monaco" value="string:MC">Monaco</option><option label="Mongolia" value="string:MN">Mongolia</option><option label="Montenegro" value="string:ME">Montenegro</option><option label="Montserrat" value="string:MS">Montserrat</option><option label="Morocco" value="string:MA">Morocco</option><option label="Mozambique" value="string:MZ">Mozambique</option><option label="Myanmar" value="string:MM">Myanmar</option><option label="Namibia" value="string:NA">Namibia</option><option label="Nauru" value="string:NR">Nauru</option><option label="Nepal" value="string:NP">Nepal</option><option label="Netherlands" value="string:NL">Netherlands</option><option label="New Caledonia" value="string:NC">New Caledonia</option><option label="New Zealand" value="string:NZ">New Zealand</option><option label="Nicaragua" value="string:NI">Nicaragua</option><option label="Niger" value="string:NE">Niger</option><option label="Nigeria" value="string:NG">Nigeria</option><option label="Niue" value="string:NU">Niue</option><option label="Norfolk Island" value="string:NF">Norfolk Island</option><option label="Northern Mariana Islands" value="string:MP">Northern Mariana Islands</option><option label="Norway" value="string:NO">Norway</option><option label="Oman" value="string:OM">Oman</option><option label="Pakistan" value="string:PK">Pakistan</option><option label="Palau" value="string:PW">Palau</option><option label="Palestine, State of" value="string:PS">Palestine, State of</option><option label="Panama" value="string:PA">Panama</option><option label="Papua New Guinea" value="string:PG">Papua New Guinea</option><option label="Paraguay" value="string:PY">Paraguay</option><option label="Peru" value="string:PE">Peru</option><option label="Philippines" value="string:PH">Philippines</option><option label="Pitcairn" value="string:PN">Pitcairn</option><option label="Poland" value="string:PL">Poland</option><option label="Portugal" value="string:PT">Portugal</option><option label="Puerto Rico" value="string:PR">Puerto Rico</option><option label="Qatar" value="string:QA">Qatar</option><option label="Reunion" value="string:RE">Reunion</option><option label="Romania" value="string:RO">Romania</option><option label="Russian Federation" value="string:RU">Russian Federation</option><option label="Rwanda" value="string:RW">Rwanda</option><option label="Saint Barthélemy" value="string:BL">Saint Barthélemy</option><option label="Saint Helena, Ascension and Tristan da Cunha" value="string:SH">Saint Helena, Ascension and Tristan da Cunha</option><option label="Saint Kitts and Nevis" value="string:KN">Saint Kitts and Nevis</option><option label="Saint Lucia" value="string:LC">Saint Lucia</option><option label="Saint Martin (French part)" value="string:MF">Saint Martin (French part)</option><option label="Saint Vincent and The Grenadines" value="string:VC">Saint Vincent and The Grenadines</option><option label="Samoa" value="string:WS">Samoa</option><option label="San Marino" value="string:SM">San Marino</option><option label="Sao Tome and Principe" value="string:ST">Sao Tome and Principe</option><option label="Saudi Arabia" value="string:SA">Saudi Arabia</option><option label="Senegal" value="string:SN">Senegal</option><option label="Serbia" value="string:RS">Serbia</option><option label="Seychelles" value="string:SC">Seychelles</option><option label="Sierra Leone" value="string:SL">Sierra Leone</option><option label="Singapore" value="string:SG">Singapore</option><option label="Sint Maarten (Dutch part)" value="string:SX">Sint Maarten (Dutch part)</option><option label="Slovakia" value="string:SK">Slovakia</option><option label="Slovenia" value="string:SI">Slovenia</option><option label="Solomon Islands" value="string:SB">Solomon Islands</option><option label="Somalia" value="string:SO">Somalia</option><option label="South Africa" value="string:ZA">South Africa</option><option label="South Georgia and the South Sandwich Islands" value="string:GS">South Georgia and the South Sandwich Islands</option><option label="South Sudan" value="string:SS">South Sudan</option><option label="Spain" value="string:ES">Spain</option><option label="Sri Lanka" value="string:LK">Sri Lanka</option><option label="St. Pierre and Miquelon" value="string:PM">St. Pierre and Miquelon</option><option label="Sudan" value="string:SD">Sudan</option><option label="Suriname" value="string:SR">Suriname</option><option label="Svalbard and Jan Mayen" value="string:SJ">Svalbard and Jan Mayen</option><option label="Swaziland" value="string:SZ">Swaziland</option><option label="Sweden" value="string:SE">Sweden</option><option label="Switzerland" value="string:CH">Switzerland</option><option label="Syrian Arab Republic" value="string:SY">Syrian Arab Republic</option><option label="Taiwan" value="string:TW">Taiwan</option><option label="Tajikistan" value="string:TJ">Tajikistan</option><option label="Tanzania, United Republic of" value="string:TZ">Tanzania, United Republic of</option><option label="Thailand" value="string:TH">Thailand</option><option label="Timor-Leste" value="string:TL">Timor-Leste</option><option label="Togo" value="string:TG">Togo</option><option label="Tokelau" value="string:TK">Tokelau</option><option label="Tonga" value="string:TO">Tonga</option><option label="Trinidad and Tobago" value="string:TT">Trinidad and Tobago</option><option label="Tunisia" value="string:TN">Tunisia</option><option label="Turkey" value="string:TR">Turkey</option><option label="Turkmenistan" value="string:TM">Turkmenistan</option><option label="Turks and Caicos Islands" value="string:TC">Turks and Caicos Islands</option><option label="Tuvalu" value="string:TV">Tuvalu</option><option label="Uganda" value="string:UG">Uganda</option><option label="Ukraine" value="string:UA">Ukraine</option><option label="United Arab Emirates" value="string:AE">United Arab Emirates</option><option label="United Kingdom" value="string:GB">United Kingdom</option><option label="United States" value="string:US" selected="selected">United States</option><option label="Uruguay" value="string:UY">Uruguay</option><option label="US Minor Outlying Islands" value="string:UM">US Minor Outlying Islands</option><option label="US Virgin Islands" value="string:VI">US Virgin Islands</option><option label="Uzbekistan" value="string:UZ">Uzbekistan</option><option label="Vanuatu" value="string:VU">Vanuatu</option><option label="Venezuela, Bolivarian Republic of" value="string:VE">Venezuela, Bolivarian Republic of</option><option label="Viet Nam" value="string:VN">Viet Nam</option><option label="Wallis and Futuna Islands" value="string:WF">Wallis and Futuna Islands</option><option label="Western Sahara" value="string:EH">Western Sahara</option><option label="Yemen" value="string:YE">Yemen</option><option label="Zambia" value="string:ZM">Zambia</option><option label="Zimbabwe" value="string:ZW">Zimbabwe</option><option label="Åland Islands" value="string:AX">Åland Islands</option></select></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="regionBillingAddress" class="control-label">State/Province/Region</label><select id="regionBillingAddressCA" name="province" class="form-control selectpicker" autocomplete="address-level1"><option ng-show="false" value="" selected="selected">&lt; Select Province &gt;</option><option label="Alberta" value="string:AB">Alberta</option><option label="British Columbia" value="string:BC">British Columbia</option><option label="Manitoba" value="string:MB">Manitoba</option><option label="New Brunswick" value="string:NB">New Brunswick</option><option label="Newfoundland and Labrador" value="string:NL">Newfoundland and Labrador</option><option label="Northwest Territories" value="string:NT">Northwest Territories</option><option label="Nova Scotia" value="string:NS">Nova Scotia</option><option label="Nunavut" value="string:NU">Nunavut</option><option label="Ontario" value="string:ON">Ontario</option><option label="Prince Edward Island" value="string:PE">Prince Edward Island</option><option label="Quebec" value="string:QC">Quebec</option><option label="Saskatchewan" value="string:SK">Saskatchewan</option><option label="Yukon Territory" value="string:YT">Yukon Territory</option></select><select id="regionBillingAddressUS" class="form-control selectpicker" style="display:none"><option ng-show="false" value="">&lt; Select State &gt;</option><option label="Alabama" value="string:AL">Alabama</option><option label="Alaska" value="string:AK">Alaska</option><option label="Arizona" value="string:AZ">Arizona</option><option label="Arkansas" value="string:AR">Arkansas</option><option label="California" value="string:CA">California</option><option label="Colorado" value="string:CO">Colorado</option><option label="Connecticut" value="string:CT">Connecticut</option><option label="Delaware" value="string:DE">Delaware</option><option label="District of Columbia" value="string:DC">District of Columbia</option><option label="Florida" value="string:FL">Florida</option><option label="Georgia" value="string:GA">Georgia</option><option label="Hawaii" value="string:HI">Hawaii</option><option label="Idaho" value="string:ID">Idaho</option><option label="Illinois" value="string:IL">Illinois</option><option label="Indiana" value="string:IN">Indiana</option><option label="Iowa" value="string:IA">Iowa</option><option label="Kansas" value="string:KS" selected="selected">Kansas</option><option label="Kentucky" value="string:KY">Kentucky</option><option label="Louisiana" value="string:LA">Louisiana</option><option label="Maine" value="string:ME">Maine</option><option label="Maryland" value="string:MD">Maryland</option><option label="Massachusetts" value="string:MA">Massachusetts</option><option label="Michigan" value="string:MI">Michigan</option><option label="Minnesota" value="string:MN">Minnesota</option><option label="Mississippi" value="string:MS">Mississippi</option><option label="Missouri" value="string:MO">Missouri</option><option label="Montana" value="string:MT">Montana</option><option label="Nebraska" value="string:NE">Nebraska</option><option label="Nevada" value="string:NV">Nevada</option><option label="New Hampshire" value="string:NH">New Hampshire</option><option label="New Jersey" value="string:NJ">New Jersey</option><option label="New Mexico" value="string:NM">New Mexico</option><option label="New York" value="string:NY">New York</option><option label="North Carolina" value="string:NC">North Carolina</option><option label="North Dakota" value="string:ND">North Dakota</option><option label="Ohio" value="string:OH">Ohio</option><option label="Oklahoma" value="string:OK">Oklahoma</option><option label="Oregon" value="string:OR">Oregon</option><option label="Pennsylvania" value="string:PA">Pennsylvania</option><option label="Rhode Island" value="string:RI">Rhode Island</option><option label="South Carolina" value="string:SC">South Carolina</option><option label="South Dakota" value="string:SD">South Dakota</option><option label="Tennessee" value="string:TN">Tennessee</option><option label="Texas" value="string:TX">Texas</option><option label="Utah" value="string:UT">Utah</option><option label="Vermont" value="string:VT">Vermont</option><option label="Virginia" value="string:VA">Virginia</option><option label="Washington" value="string:WA">Washington</option><option label="West Virginia" value="string:WV">West Virginia</option><option label="Wisconsin" value="string:WI">Wisconsin</option><option label="Wyoming" value="string:WY">Wyoming</option></select></div></div><div class="col-md-6"><div class="form-group"><label for="zipBillingAddress" class="control-label">ZIP/Postal Code</label> <input id="zipBillingAddress" name="zip" type="text" class="form-control" autocomplete="postal-code"></div></div></div></div></div><div id="existingCardCC"><div class="row"><div class="col-md-12"><div class="form-group"><label class="control-label">Cardholder Name</label> <input type="text" class="form-control" placeholder="Joan Abbott" disabled="disabled"></div></div></div><div class="row"><div class="col-xs-12 col-sm-6"><div class="form-group"><label class="control-label">Card Number</label> <input id="cc" type="text" class="form-control" placeholder="****-4242" disabled="disabled"></div></div><div class="col-xs-6 col-sm-3"><div class="form-group"><label class="control-label">Expiry Date</label> <input id="ccexp" type="text" placeholder="07/18" class="form-control masked" pattern="(1[0-2]|0[1-9])\\/(1[5-9]|2\\d)" data-valid-example="05/18" disabled="disabled"></div></div><div class="col-xs-6 col-sm-3"><div class="form-group"><label for="company-settings-unit" class="control-label">CVV</label> <input id="company-settings-unit" type="text" class="form-control" placeholder="***" disabled="disabled"></div></div></div></div></form><hr><div class="row"><div class="col-xs-12"><button id="" class="btn btn-default btn-lg pull-left">Back</button> <button id="addThisCard" class="btn btn-primary btn-lg pull-right">Continue</button></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/checkout-review-purchase.html",'<div id="checkout-review-purchase"><div class="row"><div class="col-md-6 u_margin-sm-top"><p class="lead u_margin-sm-bottom">Company Account</p><small><b>Acme Co Inc.</b><br>Email: user@domain.com<br>Company ID: ce4684a1-e8b3-4e02-9798-c4517b43cf7a</small></div><div class="col-md-6 u_margin-sm-top"><p class="lead u_margin-sm-bottom">Payment Method <button class="btn btn-link btn-xs">Edit</button></p><small><b>VISA</b><br>4242-0000-4242-0000<br>Exp: 07/18</small></div></div><div class="row"><div class="col-md-6 u_margin-sm-top"><p class="lead u_margin-sm-bottom">Billing Address <button class="btn btn-link btn-xs">Edit</button></p><small>Gob Bluth<br>user@risevision.com<br>Rise Vision Inc.<br>545 King Street West<br>Toronto, ON, M5V 1M1<br>Canada</small></div><div class="col-md-6 u_margin-sm-top"><p class="lead u_margin-sm-bottom">Shipping Address <button class="btn btn-link btn-xs">Edit</button></p><small>Rise Vision Inc.<br>545 King Street West<br>Toronto, ON, M5V 1M1<br>Canada</small></div></div><br><hr class="u_margin-xs-top u_margin-xs-bottom"><div class="row"><div class="col-xs-12"><p class="lead u_margin-sm-bottom">Subscription Details <button class="btn btn-link btn-xs">Edit</button></p></div></div><div class="row"><div class="col-sm-4 col-xs-6 text-right"><p><small>Basic Plan (Yearly)<br>2 Additional Displays<br>GST<br>PST<br>Total Tax:</small></p><span class="order-total">Order Total:</span></div><div class="col-sm-4 col-xs-6 text-right"><p><small>$85<br>$19<br>$1.70<br>$2.20<br>$4.70</small></p><span class="order-total">$122.34 <small class="u_margin-left text-subtle">CAD</small></span></div><div class="col-sm-4 col-xs-12 text-right"><button id="showTaxExempt" class="btn btn-link btn-xs">Submit Tax Exemption</button></div></div><div class="row"><hr class="u_margin-sm-top"></div><div class="col-xs-8 col-xs-offset-2"><button id="payButton" class="btn btn-primary btn-hg btn-block"><span id="payLabel">Pay $122.34 Now</span></button><br></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/checkout-review-subscription.html",'<div id="checkout-review-subscription"><form id="reviewSubscriptionForm" role="form" name="form.reviewSubscriptionForm" autocomplete="on" novalidate=""><h3 translate="" translate-values="{ planName: plan.name }">common-header.purchase.review-subscription.plan-name</h3><div class="flex-pricing-summary"><div class="text-center u_padding-md"><p>${{plan.monthly.priceDisplayMonth}}</p><span>{{ \'common-header.purchase.review-subscription.per-display\' | translate}}<br>{{ \'common-header.purchase.review-subscription.per-month\' | translate}}</span></div><div class="connector-column text-center"><b>x</b></div><div class="text-center u_padding-md"><p>{{plan.proLicenseCount}}</p><span ng-show="plan.proLicenseCount === 1" translate="">common-header.purchase.review-subscription.display-included</span> <span ng-show="plan.proLicenseCount > 1" translate="">common-header.purchase.review-subscription.displays-included</span></div></div><hr class="u_remove-margin"><div class="text-center flex-additive-rule"><b>+</b></div><div class="row"><div class="col-xs-12 u_margin-md-bottom" translate="" translate-values="{ planName: plan.name, priceDisplayMonth: plan.monthly.priceDisplayMonth }">common-header.purchase.review-subscription.need-more-displays</div><div class="col-xs-12"><div class="input-group spinner" ng-class="{ \'has-error\': form.reviewSubscriptionForm.additionalLicenses.$invalid }"><div class="input-group-btn-vertical"><button class="btn btn-white" type="button" ng-click="incrementLicenses()"><i class="fa fa-caret-up"></i></button> <button class="btn btn-white" type="button" ng-click="decrementLicenses()"><i class="fa fa-caret-down"></i></button></div><input id="additionalLicenses" name="additionalLicenses" type="number" class="form-control" ng-model="plan.additionalDisplayLicenses" min="0" max="999" pattern="[0-9]{1,3}" required=""> <span class="icon-right u_margin-md-top u_align-middle" translate="">common-header.purchase.review-subscription.additional-licenses</span></div></div><div class="col-xs-12"><hr></div><div class="col-xs-12 u_margin-sm-bottom"><b class="pull-left" translate="">common-header.purchase.review-subscription.total</b> <b class="pull-right" translate="">common-header.purchase.review-subscription.pay-yearly</b></div><div class="col-xs-12"><div class="panel payment-recurrence-selector"><div class="radio" ng-class="{ active: plan.isMonthly }"><label><input type="radio" name="billingPeriod" id="monthlyBilling" ng-value="true" ng-model="plan.isMonthly"> <span translate="" translate-values="{ monthlyPrice: getMonthlyPrice() }">common-header.purchase.review-subscription.billed-monthly</span></label></div><div class="radio" ng-class="{ active: !plan.isMonthly }"><label><input type="radio" name="billingPeriod" id="yearlyBilling" ng-value="false" ng-model="plan.isMonthly"> <span translate="" translate-values="{ yearlyPrice: getYearlyPrice() }">common-header.purchase.review-subscription.billed-yearly</span></label> <label class="highlight" translate="" translate-values="{ saveYearly: plan.yearly.save }">common-header.purchase.review-subscription.save-yearly</label></div></div></div></div><hr><div class="row"><div class="col-xs-12"><button id="continueButton" class="btn btn-primary btn-lg pull-right" ng-click="setNextStep()" ng-disabled="form.reviewSubscriptionForm.$invalid" translate="">common.continue</button></div></div></form></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/checkout-shipping-address.html",'<div id="checkout-shipping-address"><form id="shippingAddressForm" role="form" class="u_margin-md-top" name="forms.shippingAddressForm" novalidate=""><div class="checkbox"><label><input type="checkbox"> Same as Billing Address</label></div><div class="form-group"><label for="companyNameshippingAddress" class="control-label">Company Name</label> <input id="companyNameshippingAddress" name="comapny" type="text" class="form-control" autocomplete="organization"></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="streetAddressshippingAddress" class="control-label">Street Address</label> <input id="streetAddressshippingAddress" name="address" type="text" class="form-control" autocomplete="street-address"></div></div><div class="col-md-6"><div class="form-group"><label for="unitshippingAddress" class="control-label">Unit</label> <input id="unitshippingAddress" name="address" type="text" class="form-control" autocomplete="address-line2"></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="cityshippingAddress" class="control-label">City</label> <input id="cityshippingAddress" name="city" type="text" class="form-control" autocomplete="address-level2"></div></div><div class="col-md-6"><div class="form-group"><label for="countryshippingAddress" class="control-label">Country</label><select id="countryshippingAddress" name="country" class="form-control selectpicker" autocomplete="country"><option ng-show="false" value="">&lt; Select Country &gt;</option><option label="Afghanistan" value="string:AF">Afghanistan</option><option label="Albania" value="string:AL">Albania</option><option label="Algeria" value="string:DZ">Algeria</option><option label="American Samoa" value="string:AS">American Samoa</option><option label="Andorra" value="string:AD">Andorra</option><option label="Angola" value="string:AO">Angola</option><option label="Anguilla" value="string:AI">Anguilla</option><option label="Antarctica" value="string:AQ">Antarctica</option><option label="Antigua and Barbuda" value="string:AG">Antigua and Barbuda</option><option label="Argentina" value="string:AR">Argentina</option><option label="Armenia" value="string:AM">Armenia</option><option label="Aruba" value="string:AW">Aruba</option><option label="Australia" value="string:AU">Australia</option><option label="Austria" value="string:AT">Austria</option><option label="Azerbaijan" value="string:AZ">Azerbaijan</option><option label="Bahamas" value="string:BS">Bahamas</option><option label="Bahrain" value="string:BH">Bahrain</option><option label="Bangladesh" value="string:BD">Bangladesh</option><option label="Barbados" value="string:BB">Barbados</option><option label="Belarus" value="string:BY">Belarus</option><option label="Belgium" value="string:BE">Belgium</option><option label="Belize" value="string:BZ">Belize</option><option label="Benin" value="string:BJ">Benin</option><option label="Bermuda" value="string:BM">Bermuda</option><option label="Bhutan" value="string:BT">Bhutan</option><option label="Bolivia" value="string:BO">Bolivia</option><option label="Bonaire, Sint Eustatius and Saba" value="string:BQ">Bonaire, Sint Eustatius and Saba</option><option label="Bosnia and Herzegovina" value="string:BA">Bosnia and Herzegovina</option><option label="Botswana" value="string:BW">Botswana</option><option label="Bouvet Island" value="string:BV">Bouvet Island</option><option label="Brazil" value="string:BR">Brazil</option><option label="British Indian Ocean Territory" value="string:IO">British Indian Ocean Territory</option><option label="British Virgin Islands" value="string:VG">British Virgin Islands</option><option label="Brunei Darussalam" value="string:BN">Brunei Darussalam</option><option label="Bulgaria" value="string:BG">Bulgaria</option><option label="Burkina Faso" value="string:BF">Burkina Faso</option><option label="Burundi" value="string:BI">Burundi</option><option label="Cabo Verde" value="string:CV">Cabo Verde</option><option label="Cambodia" value="string:KH">Cambodia</option><option label="Cameroon" value="string:CM">Cameroon</option><option label="Canada" value="string:CA">Canada</option><option label="Cayman Islands" value="string:KY">Cayman Islands</option><option label="Central African Republic" value="string:CF">Central African Republic</option><option label="Chad" value="string:TD">Chad</option><option label="Chile" value="string:CL">Chile</option><option label="China" value="string:CN">China</option><option label="Christmas Island" value="string:CX">Christmas Island</option><option label="Cocos (Keeling) Islands" value="string:CC">Cocos (Keeling) Islands</option><option label="Colombia" value="string:CO">Colombia</option><option label="Comoros" value="string:KM">Comoros</option><option label="Congo" value="string:CG">Congo</option><option label="Congo, the Democratic Republic of the" value="string:CD">Congo, the Democratic Republic of the</option><option label="Cook Islands" value="string:CK">Cook Islands</option><option label="Costa Rica" value="string:CR">Costa Rica</option><option label="Croatia" value="string:HR">Croatia</option><option label="Cuba" value="string:CU">Cuba</option><option label="Curaçao" value="string:CW">Curaçao</option><option label="Cyprus" value="string:CY">Cyprus</option><option label="Czech Republic" value="string:CZ">Czech Republic</option><option label="Côte d\'Ivoire" value="string:CI">Côte d\'Ivoire</option><option label="Denmark" value="string:DK">Denmark</option><option label="Djibouti" value="string:DJ">Djibouti</option><option label="Dominica" value="string:DM">Dominica</option><option label="Dominican Republic" value="string:DO">Dominican Republic</option><option label="Ecuador" value="string:EC">Ecuador</option><option label="Egypt" value="string:EG">Egypt</option><option label="El Salvador" value="string:SV">El Salvador</option><option label="Equatorial Guinea" value="string:GQ">Equatorial Guinea</option><option label="Eritrea" value="string:ER">Eritrea</option><option label="Estonia" value="string:EE">Estonia</option><option label="Ethiopia" value="string:ET">Ethiopia</option><option label="Falkland Islands (Malvinas)" value="string:FK">Falkland Islands (Malvinas)</option><option label="Faroe Islands" value="string:FO">Faroe Islands</option><option label="Fiji" value="string:FJ">Fiji</option><option label="Finland" value="string:FI">Finland</option><option label="France" value="string:FR">France</option><option label="French Guiana" value="string:GF">French Guiana</option><option label="French Polynesia" value="string:PF">French Polynesia</option><option label="French Southern Territories" value="string:TF">French Southern Territories</option><option label="Gabon" value="string:GA">Gabon</option><option label="Gambia" value="string:GM">Gambia</option><option label="Georgia" value="string:GE">Georgia</option><option label="Germany" value="string:DE">Germany</option><option label="Ghana" value="string:GH">Ghana</option><option label="Gibraltar" value="string:GI">Gibraltar</option><option label="Greece" value="string:GR">Greece</option><option label="Greenland" value="string:GL">Greenland</option><option label="Grenada" value="string:GD">Grenada</option><option label="Guadeloupe" value="string:GP">Guadeloupe</option><option label="Guam" value="string:GU">Guam</option><option label="Guatemala" value="string:GT">Guatemala</option><option label="Guernsey" value="string:GG">Guernsey</option><option label="Guinea" value="string:GN">Guinea</option><option label="Guinea-Bissau" value="string:GW">Guinea-Bissau</option><option label="Guyana" value="string:GY">Guyana</option><option label="Haiti" value="string:HT">Haiti</option><option label="Heard Island and McDonald Islands" value="string:HM">Heard Island and McDonald Islands</option><option label="Holy See (Vatican City State)" value="string:VA">Holy See (Vatican City State)</option><option label="Honduras" value="string:HN">Honduras</option><option label="Hong Kong" value="string:HK">Hong Kong</option><option label="Hungary" value="string:HU">Hungary</option><option label="Iceland" value="string:IS">Iceland</option><option label="India" value="string:IN">India</option><option label="Indonesia" value="string:ID">Indonesia</option><option label="Iran" value="string:IR">Iran</option><option label="Iraq" value="string:IQ">Iraq</option><option label="Ireland" value="string:IE">Ireland</option><option label="Isle of Man" value="string:IM">Isle of Man</option><option label="Israel" value="string:IL">Israel</option><option label="Italy" value="string:IT">Italy</option><option label="Jamaica" value="string:JM">Jamaica</option><option label="Japan" value="string:JP">Japan</option><option label="Jersey" value="string:JE">Jersey</option><option label="Jordan" value="string:JO">Jordan</option><option label="Kazakhstan" value="string:KZ">Kazakhstan</option><option label="Kenya" value="string:KE">Kenya</option><option label="Kiribati" value="string:KI">Kiribati</option><option label="Korea, Democratic People\'s Republic of" value="string:KP">Korea, Democratic People\'s Republic of</option><option label="Korea, Republic of" value="string:KR">Korea, Republic of</option><option label="Kuwait" value="string:KW">Kuwait</option><option label="Kyrgyzstan" value="string:KG">Kyrgyzstan</option><option label="Lao People\'s Democratic Republic" value="string:LA">Lao People\'s Democratic Republic</option><option label="Latvia" value="string:LV">Latvia</option><option label="Lebanon" value="string:LB">Lebanon</option><option label="Lesotho" value="string:LS">Lesotho</option><option label="Liberia" value="string:LR">Liberia</option><option label="Libya" value="string:LY">Libya</option><option label="Liechtenstein" value="string:LI">Liechtenstein</option><option label="Lithuania" value="string:LT">Lithuania</option><option label="Luxembourg" value="string:LU">Luxembourg</option><option label="Macau" value="string:MO">Macau</option><option label="Macedonia, the former Yugoslav Republic of" value="string:MK">Macedonia, the former Yugoslav Republic of</option><option label="Madagascar" value="string:MG">Madagascar</option><option label="Malawi" value="string:MW">Malawi</option><option label="Malaysia" value="string:MY">Malaysia</option><option label="Maldives" value="string:MV">Maldives</option><option label="Mali" value="string:ML">Mali</option><option label="Malta" value="string:MT">Malta</option><option label="Marshall Islands" value="string:MH">Marshall Islands</option><option label="Martinique" value="string:MQ">Martinique</option><option label="Mauritania" value="string:MR">Mauritania</option><option label="Mauritius" value="string:MU">Mauritius</option><option label="Mayotte" value="string:YT">Mayotte</option><option label="Mexico" value="string:MX">Mexico</option><option label="Micronesia" value="string:FM">Micronesia</option><option label="Moldova" value="string:MD">Moldova</option><option label="Monaco" value="string:MC">Monaco</option><option label="Mongolia" value="string:MN">Mongolia</option><option label="Montenegro" value="string:ME">Montenegro</option><option label="Montserrat" value="string:MS">Montserrat</option><option label="Morocco" value="string:MA">Morocco</option><option label="Mozambique" value="string:MZ">Mozambique</option><option label="Myanmar" value="string:MM">Myanmar</option><option label="Namibia" value="string:NA">Namibia</option><option label="Nauru" value="string:NR">Nauru</option><option label="Nepal" value="string:NP">Nepal</option><option label="Netherlands" value="string:NL">Netherlands</option><option label="New Caledonia" value="string:NC">New Caledonia</option><option label="New Zealand" value="string:NZ">New Zealand</option><option label="Nicaragua" value="string:NI">Nicaragua</option><option label="Niger" value="string:NE">Niger</option><option label="Nigeria" value="string:NG">Nigeria</option><option label="Niue" value="string:NU">Niue</option><option label="Norfolk Island" value="string:NF">Norfolk Island</option><option label="Northern Mariana Islands" value="string:MP">Northern Mariana Islands</option><option label="Norway" value="string:NO">Norway</option><option label="Oman" value="string:OM">Oman</option><option label="Pakistan" value="string:PK">Pakistan</option><option label="Palau" value="string:PW">Palau</option><option label="Palestine, State of" value="string:PS">Palestine, State of</option><option label="Panama" value="string:PA">Panama</option><option label="Papua New Guinea" value="string:PG">Papua New Guinea</option><option label="Paraguay" value="string:PY">Paraguay</option><option label="Peru" value="string:PE">Peru</option><option label="Philippines" value="string:PH">Philippines</option><option label="Pitcairn" value="string:PN">Pitcairn</option><option label="Poland" value="string:PL">Poland</option><option label="Portugal" value="string:PT">Portugal</option><option label="Puerto Rico" value="string:PR">Puerto Rico</option><option label="Qatar" value="string:QA">Qatar</option><option label="Reunion" value="string:RE">Reunion</option><option label="Romania" value="string:RO">Romania</option><option label="Russian Federation" value="string:RU">Russian Federation</option><option label="Rwanda" value="string:RW">Rwanda</option><option label="Saint Barthélemy" value="string:BL">Saint Barthélemy</option><option label="Saint Helena, Ascension and Tristan da Cunha" value="string:SH">Saint Helena, Ascension and Tristan da Cunha</option><option label="Saint Kitts and Nevis" value="string:KN">Saint Kitts and Nevis</option><option label="Saint Lucia" value="string:LC">Saint Lucia</option><option label="Saint Martin (French part)" value="string:MF">Saint Martin (French part)</option><option label="Saint Vincent and The Grenadines" value="string:VC">Saint Vincent and The Grenadines</option><option label="Samoa" value="string:WS">Samoa</option><option label="San Marino" value="string:SM">San Marino</option><option label="Sao Tome and Principe" value="string:ST">Sao Tome and Principe</option><option label="Saudi Arabia" value="string:SA">Saudi Arabia</option><option label="Senegal" value="string:SN">Senegal</option><option label="Serbia" value="string:RS">Serbia</option><option label="Seychelles" value="string:SC">Seychelles</option><option label="Sierra Leone" value="string:SL">Sierra Leone</option><option label="Singapore" value="string:SG">Singapore</option><option label="Sint Maarten (Dutch part)" value="string:SX">Sint Maarten (Dutch part)</option><option label="Slovakia" value="string:SK">Slovakia</option><option label="Slovenia" value="string:SI">Slovenia</option><option label="Solomon Islands" value="string:SB">Solomon Islands</option><option label="Somalia" value="string:SO">Somalia</option><option label="South Africa" value="string:ZA">South Africa</option><option label="South Georgia and the South Sandwich Islands" value="string:GS">South Georgia and the South Sandwich Islands</option><option label="South Sudan" value="string:SS">South Sudan</option><option label="Spain" value="string:ES">Spain</option><option label="Sri Lanka" value="string:LK">Sri Lanka</option><option label="St. Pierre and Miquelon" value="string:PM">St. Pierre and Miquelon</option><option label="Sudan" value="string:SD">Sudan</option><option label="Suriname" value="string:SR">Suriname</option><option label="Svalbard and Jan Mayen" value="string:SJ">Svalbard and Jan Mayen</option><option label="Swaziland" value="string:SZ">Swaziland</option><option label="Sweden" value="string:SE">Sweden</option><option label="Switzerland" value="string:CH">Switzerland</option><option label="Syrian Arab Republic" value="string:SY">Syrian Arab Republic</option><option label="Taiwan" value="string:TW">Taiwan</option><option label="Tajikistan" value="string:TJ">Tajikistan</option><option label="Tanzania, United Republic of" value="string:TZ">Tanzania, United Republic of</option><option label="Thailand" value="string:TH">Thailand</option><option label="Timor-Leste" value="string:TL">Timor-Leste</option><option label="Togo" value="string:TG">Togo</option><option label="Tokelau" value="string:TK">Tokelau</option><option label="Tonga" value="string:TO">Tonga</option><option label="Trinidad and Tobago" value="string:TT">Trinidad and Tobago</option><option label="Tunisia" value="string:TN">Tunisia</option><option label="Turkey" value="string:TR">Turkey</option><option label="Turkmenistan" value="string:TM">Turkmenistan</option><option label="Turks and Caicos Islands" value="string:TC">Turks and Caicos Islands</option><option label="Tuvalu" value="string:TV">Tuvalu</option><option label="Uganda" value="string:UG">Uganda</option><option label="Ukraine" value="string:UA">Ukraine</option><option label="United Arab Emirates" value="string:AE">United Arab Emirates</option><option label="United Kingdom" value="string:GB">United Kingdom</option><option label="United States" value="string:US" selected="selected">United States</option><option label="Uruguay" value="string:UY">Uruguay</option><option label="US Minor Outlying Islands" value="string:UM">US Minor Outlying Islands</option><option label="US Virgin Islands" value="string:VI">US Virgin Islands</option><option label="Uzbekistan" value="string:UZ">Uzbekistan</option><option label="Vanuatu" value="string:VU">Vanuatu</option><option label="Venezuela, Bolivarian Republic of" value="string:VE">Venezuela, Bolivarian Republic of</option><option label="Viet Nam" value="string:VN">Viet Nam</option><option label="Wallis and Futuna Islands" value="string:WF">Wallis and Futuna Islands</option><option label="Western Sahara" value="string:EH">Western Sahara</option><option label="Yemen" value="string:YE">Yemen</option><option label="Zambia" value="string:ZM">Zambia</option><option label="Zimbabwe" value="string:ZW">Zimbabwe</option><option label="Åland Islands" value="string:AX">Åland Islands</option></select></div></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="regionshippingAddress" class="control-label">State/Province/Region</label><select id="regionshippingAddressCA" name="province" class="form-control selectpicker" autocomplete="address-level1"><option ng-show="false" value="" selected="selected">&lt; Select Province &gt;</option><option label="Alberta" value="string:AB">Alberta</option><option label="British Columbia" value="string:BC">British Columbia</option><option label="Manitoba" value="string:MB">Manitoba</option><option label="New Brunswick" value="string:NB">New Brunswick</option><option label="Newfoundland and Labrador" value="string:NL">Newfoundland and Labrador</option><option label="Northwest Territories" value="string:NT">Northwest Territories</option><option label="Nova Scotia" value="string:NS">Nova Scotia</option><option label="Nunavut" value="string:NU">Nunavut</option><option label="Ontario" value="string:ON">Ontario</option><option label="Prince Edward Island" value="string:PE">Prince Edward Island</option><option label="Quebec" value="string:QC">Quebec</option><option label="Saskatchewan" value="string:SK">Saskatchewan</option><option label="Yukon Territory" value="string:YT">Yukon Territory</option></select><select id="regionshippingAddressUS" class="form-control selectpicker" style="display:none"><option ng-show="false" value="">&lt; Select State &gt;</option><option label="Alabama" value="string:AL">Alabama</option><option label="Alaska" value="string:AK">Alaska</option><option label="Arizona" value="string:AZ">Arizona</option><option label="Arkansas" value="string:AR">Arkansas</option><option label="California" value="string:CA">California</option><option label="Colorado" value="string:CO">Colorado</option><option label="Connecticut" value="string:CT">Connecticut</option><option label="Delaware" value="string:DE">Delaware</option><option label="District of Columbia" value="string:DC">District of Columbia</option><option label="Florida" value="string:FL">Florida</option><option label="Georgia" value="string:GA">Georgia</option><option label="Hawaii" value="string:HI">Hawaii</option><option label="Idaho" value="string:ID">Idaho</option><option label="Illinois" value="string:IL">Illinois</option><option label="Indiana" value="string:IN">Indiana</option><option label="Iowa" value="string:IA">Iowa</option><option label="Kansas" value="string:KS" selected="selected">Kansas</option><option label="Kentucky" value="string:KY">Kentucky</option><option label="Louisiana" value="string:LA">Louisiana</option><option label="Maine" value="string:ME">Maine</option><option label="Maryland" value="string:MD">Maryland</option><option label="Massachusetts" value="string:MA">Massachusetts</option><option label="Michigan" value="string:MI">Michigan</option><option label="Minnesota" value="string:MN">Minnesota</option><option label="Mississippi" value="string:MS">Mississippi</option><option label="Missouri" value="string:MO">Missouri</option><option label="Montana" value="string:MT">Montana</option><option label="Nebraska" value="string:NE">Nebraska</option><option label="Nevada" value="string:NV">Nevada</option><option label="New Hampshire" value="string:NH">New Hampshire</option><option label="New Jersey" value="string:NJ">New Jersey</option><option label="New Mexico" value="string:NM">New Mexico</option><option label="New York" value="string:NY">New York</option><option label="North Carolina" value="string:NC">North Carolina</option><option label="North Dakota" value="string:ND">North Dakota</option><option label="Ohio" value="string:OH">Ohio</option><option label="Oklahoma" value="string:OK">Oklahoma</option><option label="Oregon" value="string:OR">Oregon</option><option label="Pennsylvania" value="string:PA">Pennsylvania</option><option label="Rhode Island" value="string:RI">Rhode Island</option><option label="South Carolina" value="string:SC">South Carolina</option><option label="South Dakota" value="string:SD">South Dakota</option><option label="Tennessee" value="string:TN">Tennessee</option><option label="Texas" value="string:TX">Texas</option><option label="Utah" value="string:UT">Utah</option><option label="Vermont" value="string:VT">Vermont</option><option label="Virginia" value="string:VA">Virginia</option><option label="Washington" value="string:WA">Washington</option><option label="West Virginia" value="string:WV">West Virginia</option><option label="Wisconsin" value="string:WI">Wisconsin</option><option label="Wyoming" value="string:WY">Wyoming</option></select></div></div><div class="col-md-6"><div class="form-group"><label for="zipshippingAddress" class="control-label">ZIP/Postal Code</label> <input id="zipshippingAddress" name="zip" type="text" class="form-control" autocomplete="postal-code"></div></div></div></form><hr><div class="row"><div class="col-xs-12"><button class="btn btn-default btn-lg pull-left" ng-click="setPreviousStep()" translate="">common.back</button> <button id="continueButton" type="submit" form="form.shippingAddressForm" class="btn btn-primary btn-lg pull-right" ng-click="setNextStep()" translate="">common.continue</button></div></div></div>');
}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/checkout-success.html",'<div id="content-success" class="prototype-show" style="display: none"><br><br><h3 class="text-center u_margin-md-top">Payment Successful!</h3><div class="text-center u_padding-md"><img src="https://s3.amazonaws.com/Rise-Images/Icons/online.svg" width="72px" alt="Payment Successful"><br><br><p>Your payment to Rise Vision was successful. You can view details of this payment <a href="#">here</a>.</p><br></div><hr><div class="row"><div class="col-xs-12 text-center"><button id="" class="btn btn-primary btn-lg">Go To Dashboard</button></div></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/prototype-code.html",'<script>\n        //SETUP\n        $(document).ready(function () {\n          $(".prototype-show").hide();\n          $(".prototype-show-ready").show();\n        });\n    \n        //PAYMENT METHOD DROPDOWN\n        $(document).on(\'change\', \'#paymentMethodSelector\', function () {\n          $("#existingCardCC").hide();\n          $("#firstTimeCC").show();\n        });\n    \n        //HIDE CC ADDRESS\n        $(document).on("click", "#toggleMatchBillingAddress", function () {\n          this.checked ? $(\'#targetCCAddress\').hide(400) : $(\'#targetCCAddress\').show(400);\n        });\n    \n        //SHOW TAX EXEMPTION\n        $(document).on("click", "#showTaxExempt", function () {\n          $("#checkout-review-purchase").hide();\n          $("#tax-exemption-form").show();\n        });\n    \n        //Hide TAX EXEMPTION\n        $(document).on("click", "#submit-tax-exemption", function () {\n          $("#checkout-review-purchase").show();\n          $("#tax-exemption-form").hide();\n        });\n\n        // LOAD SUCCESS SCREEN\n        function showSuccess() {\n          $("#checkout-review-purchase").hide();\n          $("#protoSpinner").hide();\n          $("#content-success").show();\n          $("#security-branding").hide();\n          $(".indicator").removeClass("active"); //NEEDED?\n          $(".indicator").addClass("complete");\n        }\n    \n        //TIMER LOADING BUTTON\n        // $(document).on("click", "#payButton", function () {\n        //   $("#payLabel").hide();\n        //   $("#loadSpinner").show();\n        //   setTimeout(function () {\n        //     showSuccess();\n        //   }, 5000);\n        // });\n    \n        //TEMPORARY SPINNER AND THEN SHOW SUCCESS\n        $(document).on("click", "#payButton", function () {\n          $("#protoSpinner").show();\n          setTimeout(function () {\n            showSuccess();\n          }, 5000);\n        });\n      </script>')}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/purchase-modal.html",'<div rv-spinner="" rv-spinner-key="purchase-modal" rv-spinner-start-active="0"><div class="modal-header"><button type="button" class="close" ng-click="dismiss()" aria-hidden="true"><i class="fa fa-times"></i></button><h3 class="modal-title" translate="">Checkout</h3></div><div id="purchase-modal" class="modal-body checkout-modal" stop-event="touchend"><div id="prototypeProgressIndicator" class="progress-indicator"><div ng-repeat-start="step in PURCHASE_STEPS" class="indicator" ng-class="{ active: currentStep === step.index, complete: currentStep > step.index }"><div class="tag">{{step.name}}</div></div><div ng-repeat-end="" class="progress-bar-container" ng-class="{ complete: currentStep > step.index }"><div class="progress-bar"></div></div></div><review-subscription ng-show="currentStep === 0"></review-subscription><billing-address ng-show="currentStep === 1"></billing-address><div ng-include="\'purchase-flow/checkout-shipping-address.html\'" ng-show="currentStep === 2"></div><div ng-include="\'purchase-flow/checkout-payment-methods.html\'" ng-show="currentStep === 3"></div><div ng-include="\'purchase-flow/checkout-review-purchase.html\'" ng-show="currentStep === 4"></div><div ng-include="\'purchase-flow/checkout-success.html\'"></div><div ng-include="\'purchase-flow/tax-exemption.html\'"></div></div><div ng-include="\'purchase-flow/prototype-code.html\'"></div><div id="security-branding" class="modal-small-footer text-center u_padding-xs" ng-show="currentStep > 2"><small class="text-subtle"><i class="fa fa-lock icon-left"></i> Secure Checkout from <img src="https://s3.amazonaws.com/Rise-Images/UI/chargebee-icon.svg"> Chargebee and <img alt="powered by Stripe" src="https://s3.amazonaws.com/Rise-Images/UI/powered_by_stripe.svg"></small></div></div>')}])}(),function(e){try{e=angular.module("risevision.common.components.purchase-flow")}catch(n){e=angular.module("risevision.common.components.purchase-flow",[])}e.run(["$templateCache",function(e){e.put("purchase-flow/tax-exemption.html",'<div id="tax-exemption-form" class="prototype-show" style="display: none;"><form id="" role="form" class="u_margin-md-top" novalidate=""><div class="row"><div class="col-xs-12"><div class="form-group"><label class="control-label">Tax Exemption Number</label> <input type="text" class="form-control"></div></div></div><label class="control-label">Tax Exemption Document (Image or PDF only)</label><div class="row"><div class="col-xs-9"><div class="form-group"><div class="input-group"><input class="form-control" readonly="readonly" type="text" name="" value="exempt001.jpg"> <a href="#" class="btn btn-default input-group-addon"><i class="fa fa-times"></i></a></div></div></div><div class="col-xs-3"><button class="btn btn-default">Attach File</button></div></div><div class="row"><div class="col-md-6"><div class="form-group"><label for="company-settings-state" class="control-label">Exemption State/Province</label><select class="form-control selectpicker"><option value="" selected="selected">&lt; Select Province &gt;</option><option label="Alberta" value="string:AB">Alberta</option><option label="British Columbia" value="string:BC">British Columbia</option><option label="Manitoba" value="string:MB">Manitoba</option><option label="New Brunswick" value="string:NB">New Brunswick</option><option label="Newfoundland and Labrador" value="string:NL">Newfoundland and Labrador</option><option label="Northwest Territories" value="string:NT">Northwest Territories</option><option label="Nova Scotia" value="string:NS">Nova Scotia</option><option label="Nunavut" value="string:NU">Nunavut</option><option label="Ontario" value="string:ON">Ontario</option><option label="Prince Edward Island" value="string:PE">Prince Edward Island</option><option label="Quebec" value="string:QC">Quebec</option><option label="Saskatchewan" value="string:SK">Saskatchewan</option><option label="Yukon Territory" value="string:YT">Yukon Territory</option></select><select class="form-control selectpicker" style="display: none"><option ng-show="false" value="" class="ng-hide">&lt; Select State &gt;</option><option label="Alabama" value="string:AL">Alabama</option><option label="Alaska" value="string:AK">Alaska</option><option label="Arizona" value="string:AZ">Arizona</option><option label="Arkansas" value="string:AR">Arkansas</option><option label="California" value="string:CA">California</option><option label="Colorado" value="string:CO">Colorado</option><option label="Connecticut" value="string:CT">Connecticut</option><option label="Delaware" value="string:DE">Delaware</option><option label="District of Columbia" value="string:DC">District of Columbia</option><option label="Florida" value="string:FL">Florida</option><option label="Georgia" value="string:GA">Georgia</option><option label="Hawaii" value="string:HI">Hawaii</option><option label="Idaho" value="string:ID">Idaho</option><option label="Illinois" value="string:IL">Illinois</option><option label="Indiana" value="string:IN">Indiana</option><option label="Iowa" value="string:IA">Iowa</option><option label="Kansas" value="string:KS" selected="selected">Kansas</option><option label="Kentucky" value="string:KY">Kentucky</option><option label="Louisiana" value="string:LA">Louisiana</option><option label="Maine" value="string:ME">Maine</option><option label="Maryland" value="string:MD">Maryland</option><option label="Massachusetts" value="string:MA">Massachusetts</option><option label="Michigan" value="string:MI">Michigan</option><option label="Minnesota" value="string:MN">Minnesota</option><option label="Mississippi" value="string:MS">Mississippi</option><option label="Missouri" value="string:MO">Missouri</option><option label="Montana" value="string:MT">Montana</option><option label="Nebraska" value="string:NE">Nebraska</option><option label="Nevada" value="string:NV">Nevada</option><option label="New Hampshire" value="string:NH">New Hampshire</option><option label="New Jersey" value="string:NJ">New Jersey</option><option label="New Mexico" value="string:NM">New Mexico</option><option label="New York" value="string:NY">New York</option><option label="North Carolina" value="string:NC">North Carolina</option><option label="North Dakota" value="string:ND">North Dakota</option><option label="Ohio" value="string:OH">Ohio</option><option label="Oklahoma" value="string:OK">Oklahoma</option><option label="Oregon" value="string:OR">Oregon</option><option label="Pennsylvania" value="string:PA">Pennsylvania</option><option label="Rhode Island" value="string:RI">Rhode Island</option><option label="South Carolina" value="string:SC">South Carolina</option><option label="South Dakota" value="string:SD">South Dakota</option><option label="Tennessee" value="string:TN">Tennessee</option><option label="Texas" value="string:TX">Texas</option><option label="Utah" value="string:UT">Utah</option><option label="Vermont" value="string:VT">Vermont</option><option label="Virginia" value="string:VA">Virginia</option><option label="Washington" value="string:WA">Washington</option><option label="West Virginia" value="string:WV">West Virginia</option><option label="Wisconsin" value="string:WI">Wisconsin</option><option label="Wyoming" value="string:WY">Wyoming</option></select></div></div><div class="col-md-6"><div class="form-group"><label for="company-settings-country" class="control-label">Exemption Country</label><select id="company-settings-country" class="form-control selectpicker"><option ng-show="false" value="">&lt; Select Country &gt;</option><option label="Afghanistan" value="string:AF">Afghanistan</option><option label="Albania" value="string:AL">Albania</option><option label="Algeria" value="string:DZ">Algeria</option><option label="American Samoa" value="string:AS">American Samoa</option><option label="Andorra" value="string:AD">Andorra</option><option label="Angola" value="string:AO">Angola</option><option label="Anguilla" value="string:AI">Anguilla</option><option label="Antarctica" value="string:AQ">Antarctica</option><option label="Antigua and Barbuda" value="string:AG">Antigua and Barbuda</option><option label="Argentina" value="string:AR">Argentina</option><option label="Armenia" value="string:AM">Armenia</option><option label="Aruba" value="string:AW">Aruba</option><option label="Australia" value="string:AU">Australia</option><option label="Austria" value="string:AT">Austria</option><option label="Azerbaijan" value="string:AZ">Azerbaijan</option><option label="Bahamas" value="string:BS">Bahamas</option><option label="Bahrain" value="string:BH">Bahrain</option><option label="Bangladesh" value="string:BD">Bangladesh</option><option label="Barbados" value="string:BB">Barbados</option><option label="Belarus" value="string:BY">Belarus</option><option label="Belgium" value="string:BE">Belgium</option><option label="Belize" value="string:BZ">Belize</option><option label="Benin" value="string:BJ">Benin</option><option label="Bermuda" value="string:BM">Bermuda</option><option label="Bhutan" value="string:BT">Bhutan</option><option label="Bolivia" value="string:BO">Bolivia</option><option label="Bonaire, Sint Eustatius and Saba" value="string:BQ">Bonaire, Sint Eustatius and Saba</option><option label="Bosnia and Herzegovina" value="string:BA">Bosnia and Herzegovina</option><option label="Botswana" value="string:BW">Botswana</option><option label="Bouvet Island" value="string:BV">Bouvet Island</option><option label="Brazil" value="string:BR">Brazil</option><option label="British Indian Ocean Territory" value="string:IO">British Indian Ocean Territory</option><option label="British Virgin Islands" value="string:VG">British Virgin Islands</option><option label="Brunei Darussalam" value="string:BN">Brunei Darussalam</option><option label="Bulgaria" value="string:BG">Bulgaria</option><option label="Burkina Faso" value="string:BF">Burkina Faso</option><option label="Burundi" value="string:BI">Burundi</option><option label="Cabo Verde" value="string:CV">Cabo Verde</option><option label="Cambodia" value="string:KH">Cambodia</option><option label="Cameroon" value="string:CM">Cameroon</option><option label="Canada" value="string:CA">Canada</option><option label="Cayman Islands" value="string:KY">Cayman Islands</option><option label="Central African Republic" value="string:CF">Central African Republic</option><option label="Chad" value="string:TD">Chad</option><option label="Chile" value="string:CL">Chile</option><option label="China" value="string:CN">China</option><option label="Christmas Island" value="string:CX">Christmas Island</option><option label="Cocos (Keeling) Islands" value="string:CC">Cocos (Keeling) Islands</option><option label="Colombia" value="string:CO">Colombia</option><option label="Comoros" value="string:KM">Comoros</option><option label="Congo" value="string:CG">Congo</option><option label="Congo, the Democratic Republic of the" value="string:CD">Congo, the Democratic Republic of the</option><option label="Cook Islands" value="string:CK">Cook Islands</option><option label="Costa Rica" value="string:CR">Costa Rica</option><option label="Croatia" value="string:HR">Croatia</option><option label="Cuba" value="string:CU">Cuba</option><option label="Curaçao" value="string:CW">Curaçao</option><option label="Cyprus" value="string:CY">Cyprus</option><option label="Czech Republic" value="string:CZ">Czech Republic</option><option label="Côte d\'Ivoire" value="string:CI">Côte d\'Ivoire</option><option label="Denmark" value="string:DK">Denmark</option><option label="Djibouti" value="string:DJ">Djibouti</option><option label="Dominica" value="string:DM">Dominica</option><option label="Dominican Republic" value="string:DO">Dominican Republic</option><option label="Ecuador" value="string:EC">Ecuador</option><option label="Egypt" value="string:EG">Egypt</option><option label="El Salvador" value="string:SV">El Salvador</option><option label="Equatorial Guinea" value="string:GQ">Equatorial Guinea</option><option label="Eritrea" value="string:ER">Eritrea</option><option label="Estonia" value="string:EE">Estonia</option><option label="Ethiopia" value="string:ET">Ethiopia</option><option label="Falkland Islands (Malvinas)" value="string:FK">Falkland Islands (Malvinas)</option><option label="Faroe Islands" value="string:FO">Faroe Islands</option><option label="Fiji" value="string:FJ">Fiji</option><option label="Finland" value="string:FI">Finland</option><option label="France" value="string:FR">France</option><option label="French Guiana" value="string:GF">French Guiana</option><option label="French Polynesia" value="string:PF">French Polynesia</option><option label="French Southern Territories" value="string:TF">French Southern Territories</option><option label="Gabon" value="string:GA">Gabon</option><option label="Gambia" value="string:GM">Gambia</option><option label="Georgia" value="string:GE">Georgia</option><option label="Germany" value="string:DE">Germany</option><option label="Ghana" value="string:GH">Ghana</option><option label="Gibraltar" value="string:GI">Gibraltar</option><option label="Greece" value="string:GR">Greece</option><option label="Greenland" value="string:GL">Greenland</option><option label="Grenada" value="string:GD">Grenada</option><option label="Guadeloupe" value="string:GP">Guadeloupe</option><option label="Guam" value="string:GU">Guam</option><option label="Guatemala" value="string:GT">Guatemala</option><option label="Guernsey" value="string:GG">Guernsey</option><option label="Guinea" value="string:GN">Guinea</option><option label="Guinea-Bissau" value="string:GW">Guinea-Bissau</option><option label="Guyana" value="string:GY">Guyana</option><option label="Haiti" value="string:HT">Haiti</option><option label="Heard Island and McDonald Islands" value="string:HM">Heard Island and McDonald Islands</option><option label="Holy See (Vatican City State)" value="string:VA">Holy See (Vatican City State)</option><option label="Honduras" value="string:HN">Honduras</option><option label="Hong Kong" value="string:HK">Hong Kong</option><option label="Hungary" value="string:HU">Hungary</option><option label="Iceland" value="string:IS">Iceland</option><option label="India" value="string:IN">India</option><option label="Indonesia" value="string:ID">Indonesia</option><option label="Iran" value="string:IR">Iran</option><option label="Iraq" value="string:IQ">Iraq</option><option label="Ireland" value="string:IE">Ireland</option><option label="Isle of Man" value="string:IM">Isle of Man</option><option label="Israel" value="string:IL">Israel</option><option label="Italy" value="string:IT">Italy</option><option label="Jamaica" value="string:JM">Jamaica</option><option label="Japan" value="string:JP">Japan</option><option label="Jersey" value="string:JE">Jersey</option><option label="Jordan" value="string:JO">Jordan</option><option label="Kazakhstan" value="string:KZ">Kazakhstan</option><option label="Kenya" value="string:KE">Kenya</option><option label="Kiribati" value="string:KI">Kiribati</option><option label="Korea, Democratic People\'s Republic of" value="string:KP">Korea, Democratic People\'s Republic of</option><option label="Korea, Republic of" value="string:KR">Korea, Republic of</option><option label="Kuwait" value="string:KW">Kuwait</option><option label="Kyrgyzstan" value="string:KG">Kyrgyzstan</option><option label="Lao People\'s Democratic Republic" value="string:LA">Lao People\'s Democratic Republic</option><option label="Latvia" value="string:LV">Latvia</option><option label="Lebanon" value="string:LB">Lebanon</option><option label="Lesotho" value="string:LS">Lesotho</option><option label="Liberia" value="string:LR">Liberia</option><option label="Libya" value="string:LY">Libya</option><option label="Liechtenstein" value="string:LI">Liechtenstein</option><option label="Lithuania" value="string:LT">Lithuania</option><option label="Luxembourg" value="string:LU">Luxembourg</option><option label="Macau" value="string:MO">Macau</option><option label="Macedonia, the former Yugoslav Republic of" value="string:MK">Macedonia, the former Yugoslav Republic of</option><option label="Madagascar" value="string:MG">Madagascar</option><option label="Malawi" value="string:MW">Malawi</option><option label="Malaysia" value="string:MY">Malaysia</option><option label="Maldives" value="string:MV">Maldives</option><option label="Mali" value="string:ML">Mali</option><option label="Malta" value="string:MT">Malta</option><option label="Marshall Islands" value="string:MH">Marshall Islands</option><option label="Martinique" value="string:MQ">Martinique</option><option label="Mauritania" value="string:MR">Mauritania</option><option label="Mauritius" value="string:MU">Mauritius</option><option label="Mayotte" value="string:YT">Mayotte</option><option label="Mexico" value="string:MX">Mexico</option><option label="Micronesia" value="string:FM">Micronesia</option><option label="Moldova" value="string:MD">Moldova</option><option label="Monaco" value="string:MC">Monaco</option><option label="Mongolia" value="string:MN">Mongolia</option><option label="Montenegro" value="string:ME">Montenegro</option><option label="Montserrat" value="string:MS">Montserrat</option><option label="Morocco" value="string:MA">Morocco</option><option label="Mozambique" value="string:MZ">Mozambique</option><option label="Myanmar" value="string:MM">Myanmar</option><option label="Namibia" value="string:NA">Namibia</option><option label="Nauru" value="string:NR">Nauru</option><option label="Nepal" value="string:NP">Nepal</option><option label="Netherlands" value="string:NL">Netherlands</option><option label="New Caledonia" value="string:NC">New Caledonia</option><option label="New Zealand" value="string:NZ">New Zealand</option><option label="Nicaragua" value="string:NI">Nicaragua</option><option label="Niger" value="string:NE">Niger</option><option label="Nigeria" value="string:NG">Nigeria</option><option label="Niue" value="string:NU">Niue</option><option label="Norfolk Island" value="string:NF">Norfolk Island</option><option label="Northern Mariana Islands" value="string:MP">Northern Mariana Islands</option><option label="Norway" value="string:NO">Norway</option><option label="Oman" value="string:OM">Oman</option><option label="Pakistan" value="string:PK">Pakistan</option><option label="Palau" value="string:PW">Palau</option><option label="Palestine, State of" value="string:PS">Palestine, State of</option><option label="Panama" value="string:PA">Panama</option><option label="Papua New Guinea" value="string:PG">Papua New Guinea</option><option label="Paraguay" value="string:PY">Paraguay</option><option label="Peru" value="string:PE">Peru</option><option label="Philippines" value="string:PH">Philippines</option><option label="Pitcairn" value="string:PN">Pitcairn</option><option label="Poland" value="string:PL">Poland</option><option label="Portugal" value="string:PT">Portugal</option><option label="Puerto Rico" value="string:PR">Puerto Rico</option><option label="Qatar" value="string:QA">Qatar</option><option label="Reunion" value="string:RE">Reunion</option><option label="Romania" value="string:RO">Romania</option><option label="Russian Federation" value="string:RU">Russian Federation</option><option label="Rwanda" value="string:RW">Rwanda</option><option label="Saint Barthélemy" value="string:BL">Saint Barthélemy</option><option label="Saint Helena, Ascension and Tristan da Cunha" value="string:SH">Saint Helena, Ascension and Tristan da Cunha</option><option label="Saint Kitts and Nevis" value="string:KN">Saint Kitts and Nevis</option><option label="Saint Lucia" value="string:LC">Saint Lucia</option><option label="Saint Martin (French part)" value="string:MF">Saint Martin (French part)</option><option label="Saint Vincent and The Grenadines" value="string:VC">Saint Vincent and The Grenadines</option><option label="Samoa" value="string:WS">Samoa</option><option label="San Marino" value="string:SM">San Marino</option><option label="Sao Tome and Principe" value="string:ST">Sao Tome and Principe</option><option label="Saudi Arabia" value="string:SA">Saudi Arabia</option><option label="Senegal" value="string:SN">Senegal</option><option label="Serbia" value="string:RS">Serbia</option><option label="Seychelles" value="string:SC">Seychelles</option><option label="Sierra Leone" value="string:SL">Sierra Leone</option><option label="Singapore" value="string:SG">Singapore</option><option label="Sint Maarten (Dutch part)" value="string:SX">Sint Maarten (Dutch part)</option><option label="Slovakia" value="string:SK">Slovakia</option><option label="Slovenia" value="string:SI">Slovenia</option><option label="Solomon Islands" value="string:SB">Solomon Islands</option><option label="Somalia" value="string:SO">Somalia</option><option label="South Africa" value="string:ZA">South Africa</option><option label="South Georgia and the South Sandwich Islands" value="string:GS">South Georgia and the South Sandwich Islands</option><option label="South Sudan" value="string:SS">South Sudan</option><option label="Spain" value="string:ES">Spain</option><option label="Sri Lanka" value="string:LK">Sri Lanka</option><option label="St. Pierre and Miquelon" value="string:PM">St. Pierre and Miquelon</option><option label="Sudan" value="string:SD">Sudan</option><option label="Suriname" value="string:SR">Suriname</option><option label="Svalbard and Jan Mayen" value="string:SJ">Svalbard and Jan Mayen</option><option label="Swaziland" value="string:SZ">Swaziland</option><option label="Sweden" value="string:SE">Sweden</option><option label="Switzerland" value="string:CH">Switzerland</option><option label="Syrian Arab Republic" value="string:SY">Syrian Arab Republic</option><option label="Taiwan" value="string:TW">Taiwan</option><option label="Tajikistan" value="string:TJ">Tajikistan</option><option label="Tanzania, United Republic of" value="string:TZ">Tanzania, United Republic of</option><option label="Thailand" value="string:TH">Thailand</option><option label="Timor-Leste" value="string:TL">Timor-Leste</option><option label="Togo" value="string:TG">Togo</option><option label="Tokelau" value="string:TK">Tokelau</option><option label="Tonga" value="string:TO">Tonga</option><option label="Trinidad and Tobago" value="string:TT">Trinidad and Tobago</option><option label="Tunisia" value="string:TN">Tunisia</option><option label="Turkey" value="string:TR">Turkey</option><option label="Turkmenistan" value="string:TM">Turkmenistan</option><option label="Turks and Caicos Islands" value="string:TC">Turks and Caicos Islands</option><option label="Tuvalu" value="string:TV">Tuvalu</option><option label="Uganda" value="string:UG">Uganda</option><option label="Ukraine" value="string:UA">Ukraine</option><option label="United Arab Emirates" value="string:AE">United Arab Emirates</option><option label="United Kingdom" value="string:GB">United Kingdom</option><option label="United States" value="string:US" selected="selected">United States</option><option label="Uruguay" value="string:UY">Uruguay</option><option label="US Minor Outlying Islands" value="string:UM">US Minor Outlying Islands</option><option label="US Virgin Islands" value="string:VI">US Virgin Islands</option><option label="Uzbekistan" value="string:UZ">Uzbekistan</option><option label="Vanuatu" value="string:VU">Vanuatu</option><option label="Venezuela, Bolivarian Republic of" value="string:VE">Venezuela, Bolivarian Republic of</option><option label="Viet Nam" value="string:VN">Viet Nam</option><option label="Wallis and Futuna Islands" value="string:WF">Wallis and Futuna Islands</option><option label="Western Sahara" value="string:EH">Western Sahara</option><option label="Yemen" value="string:YE">Yemen</option><option label="Zambia" value="string:ZM">Zambia</option><option label="Zimbabwe" value="string:ZW">Zimbabwe</option><option label="Åland Islands" value="string:AX">Åland Islands</option></select></div></div><div class="col-md-6"><div class="form-group"><label class="control-label">Exemption Expiry Date</label> <input id="ccexp" type="text" placeholder="07/18" class="form-control masked" pattern="(1[0-2]|0[1-9])\\/(1[5-9]|2\\d)" data-valid-example="05/18" disabled="disabled"></div></div></div></form><hr><div class="row"><div class="col-xs-12"><button id="" class="btn btn-default btn-lg pull-left">Cancel</button> <button id="submit-tax-exemption" class="btn btn-primary btn-lg pull-right">Submit Tax Exemption</button></div></div></div>')}])}(),function(e){"use strict";try{e.module("risevision.common.config")}catch(n){e.module("risevision.common.config",[])}e.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"),e.module("risevision.common.config").value("ENABLE_INTERCOM_MESSAGING",!1).value("ENABLE_EXTERNAL_LOGGING",!0).value("CORE_URL","https://rvaserver2.appspot.com/_ah/api").value("COOKIE_CHECK_URL","//storage-dot-rvaserver2.appspot.com").value("STORE_URL","https://store.risevision.com/").value("STORE_SERVER_URL","https://store-dot-rvaserver2.appspot.com/").value("STORE_ENDPOINT_URL","https://store-dot-rvaserver2.appspot.com/_ah/api").value("STORAGE_ENDPOINT_URL","https://storage-dot-rvaserver2.appspot.com/_ah/api").value("GSFP_URL","https://gsfp-dot-rvaserver2.appspot.com/fp").value("SUPPORT_PRODUCT_CODE","4c8c2f1a481d0ad84c6b16a9c6e90e2fc2252944").value("SUPPORT_PRODUCT_ID","14").value("SUPPORT_PRODUCT_URL","https://store.risevision.com/products/?cat=compareSupport").value("APPS_URL","https://apps.risevision.com")}(angular);