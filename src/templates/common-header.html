<!-- Common Header Navbar -->
<nav class="navbar navbar-default navbar-static-top"
	ng-class="{'double-margin': subCompanySelected}" role="navigation">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" ng-click="navCollapsed = !navCollapsed">
				<span class="sr-only">Toggle navigation</span>
				<div class="icon-bar-container">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</div>
			</button>
			<a class="navbar-brand" href="http://www.risevision.com/">
				<img src="//s3.amazonaws.com/rise-common/images/logo-small.png" class="img-responsive logo-small" width="113" height="42" alt="Rise Vision">
			</a>
		</div>
		<div class="collapse navbar-collapse navbar-left" collapse="navCollapsed">
			<ul class="nav navbar-nav">
				<li ng-repeat="opt in navOptions">
					<a ng-href="{{opt.link}}" target="{{opt.target}}">{{opt.title}}</a>
				</li>
				<li class="dropdown">
					<a href="" class="dropdown-toggle remove-radius">
						Help
					</a>
					<ul class="dropdown-menu">
						<li>
							<a href="http://community.risevision.com/rise_vision_inc" class="item-name" target="_blank">Community</a>
						</li>
						<li class="divider"></li>
						<li>
							<a href="http://www.risevision.com/user-training/" class="item-name" target="_blank">Training</a>
						</li>
						<li class="divider"></li>
						<li>
							<a href="http://www.risevision.com/help/users/" class="item-name" target="_blank">Documentation</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>

		<!-- If User Authenticated -->
		<ul class="nav navbar-nav navbar-right actions-nav">
			<!-- Notifications -->
			<li class="dropdown" ng-if="userState.selectedCompanyId">
				<a href="" class="dropdown-toggle">
					<i class="glyphicons bell"></i>
					<span class="label label-danger">{{messages.length}}</span>
				</a>
				<ul class="dropdown-menu system-messages">
					<li class="dropdown-header dropdown-title">
						System Message
					</li>
					<li class="divider"></li>
					<li class="system-message" ng-repeat="message in messages">
					{{message}}
					</li>
				</ul>
			</li>
			<!-- Shopping Cart -->
			<li class="shopping-cart" ng-init="updateCartIcon()"
			  ng-show="userState.selectedCompanyId">
				<a href="">
					<i class="glyphicons shopping_cart"></i>
					<span id="cartBadge" class="label label-primary">7</span>
				</a>
			</li>
			<!-- Current App -->
			<li class="dropdown" ng-show="userState.authStatus > 0">
				<a href="" class="dropdown-toggle">
					<i class="glyphicons show_thumbnails"></i>
				</a>
				<ul class="dropdown-menu company-menu">
					<li class="dropdown-header dropdown-title">
						Current App
					</li>
					<li class="dropdown-header">
						<i class="glyphicons shop"></i> Store
					</li>
					<li class="divider"></li>
					<li>
						<div class="menu-box pull-left">
							<a href="">
								<i class="glyphicons picture"></i>
								<span>Displays</span>
							</a>
						</div>
						<div class="menu-box pull-right">
							<a href="">
								<i class="glyphicons picture"></i>
								<span>Scheduler</span>
							</a>
						</div>
					</li>
					<li>
						<div class="menu-box pull-left">
							<a href="">
								<i class="glyphicons picture"></i>
								<span>Editor</span>
							</a>
						</div>
						<div class="menu-box pull-right">
							<a href="">
								<i class="glyphicons picture"></i>
								<span>Storage</span>
							</a>
						</div>
					</li>
					<li>
						<div class="menu-box pull-left">
							<a href="">
								<i class="glyphicons picture"></i>
								<span>Bulletin</span>
							</a>
						</div>
						<div class="menu-box pull-right">
							<a href="">
								<i class="glyphicons picture"></i>
								<span>Player</span>
							</a>
						</div>
					</li>
				</ul>
			</li>
			<!-- END Current App -->
			<li class="dropdown" ng-show="userState.authStatus > 0">
				<a href="" class="dropdown-toggle" data-toggle="dropdown">
					<i class="glyphicons cogwheel"></i>
				</a>
				<ul class="dropdown-menu">
					<li class="dropdown-header dropdown-title"
					  ng-show="userState.user.company">
						Current Company
					</li>
					<li class="dropdown-header dropdown-title"
						ng-show="!userState.user.company">
						You have not created a company.</li>

					<li class="dropdown-header" ng-show="userState.user.company">
						<!-- home -->
						<i ng-if="!subCompanySelected" class="glyphicons home"></i>
						<!-- warning -->
						<i ng-if="subCompanySelected" class="glyphicons warning_sign glyphicon-danger"></i>
						{{userState.selectedCompanyName}}
						<div ng-if="subCompanySelected" class="danger">This is a Sub-Company of your Company.</div>
					</li>
					<li ng-if="subCompanySelected" class="divider"></li>
					<li ng-show="!userState.user.company">
						<a href="" data-toggle="modal" data-target="#sub-company-modal"
						  ng-click="companySettings()">
							<i class="glyphicons plus"></i>
							<span class="item-name">Create a Company</span>
						</a>
					</li>
					<li ng-if="subCompanySelected">
						<a href="" ng-click="resetCompany()">
							<i class="glyphicons home"></i>
							<span class="item-name">Switch To My Company</span>
						</a>
					</li>
					<li class="divider"></li>
					<li ng-show="userState.user.company">
						<a href="" ng-click="switchCompany()">
							<i class="glyphicons new_window"></i>
							<span class="item-name">Select Sub-Company</span>
						</a>
					</li>
					<li ng-if="isAdmin" class="divider"></li>
					<li ng-if="isAdmin">
						<a href="" data-toggle="modal" data-target="#sub-company-modal" ng-click="addSubCompany()">
							<i class="glyphicons plus"></i>
							<span class="item-name">Add Sub-Company</span>
						</a>
					</li>
					<li ng-if="isAdmin" class="divider"></li>
					<li ng-if="isAdmin">
						<a href="" ng-click="companySettings()">
							<i class="glyphicons cogwheels"></i>
							<span class="item-name">Company Settings</span>
						</a>
					</li>
					<li ng-if="isAdmin" class="divider"></li>
					<li ng-if="isAdmin">
						<a href="" data-toggle="modal" data-target="#company-users-modal">
							<i class="glyphicons group"></i>
							<span class="item-name">Company Users</span>
						</a>
					</li>
				</ul>
			</li>
			<li ng-controller="AuthButtonsCtr"
			rv-spinner="spinnerOptions"
			rv-spinner-key="auth-buttons"
			rv-spinner-start-active="1"
			>
				<!-- If User NOT Authenticated -->
				<ul class="nav navbar-nav navbar-right actions-nav">

					<li class="dropdown" ng-show="userState.authStatus > 0">
						<a href="" class="dropdown-toggle">
							<img ng-src="{{userState.user.profile.picture}}" class="profile-pic" width="30" height="30" alt="User" />
						</a>
						<ul class="dropdown-menu">
							<li class="dropdown-header dropdown-title">
								{{userProfileName}}
							</li>
							<li class="dropdown-header">
								{{userProfileEmail}}
							</li>
							<li class="divider"></li>
							<li>
								<a href="" ng-click="userSettings()">
									<i class="glyphicons cogwheels"></i>
									<span class="item-name">User Settings</span>
								</a>
							</li>
							<li class="divider"></li>
							<li>
								<a href="" ng-click="paymentMethods()">
									<i class="glyphicons usd"></i>
									<span class="item-name">Payment Methods</span>
								</a>
							</li>
							<li class="divider"></li>
							<li ng-show="userState.authStatus > 0">
								<a href="" ng-click="logout()" class="sign-out-button">
									<i class="glyphicons log_out"></i>
									<span class="item-name">Sign Out</span>
								</a>
							</li>
						</ul>
					</li>
					<li ng-show="userState.authStatus === 0">
						<a href="" class="sign-in" ng-click="loginModal()">
							<span>Sign In</span>
							<i class="glyphicons log_in"></i>
						</a>
					</li>
				</ul>
			</li>

		</ul>



	</div>
	<div ng-if="subCompanySelected" class="sub-company-alert">
		Youâ€™re in a Sub-Company of your Company. Current Company - {{userState.selectedCompanyName}}
	</div>
</nav>
<!-- END Common Header Navbar -->
